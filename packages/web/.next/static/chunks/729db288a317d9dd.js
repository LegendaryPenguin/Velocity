(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,7815,65916,e=>{"use strict";var t=e.i(43476),r=e.i(71645);function n({type:e}){switch(e){case"circle":return(0,t.jsxs)("svg",{viewBox:"0 0 48 48",className:"h-full w-full drop-shadow-sm",children:[(0,t.jsx)("defs",{children:(0,t.jsxs)("radialGradient",{id:"cg",cx:"40%",cy:"35%",children:[(0,t.jsx)("stop",{offset:"0%",stopColor:"#c4b5fd"}),(0,t.jsx)("stop",{offset:"100%",stopColor:"#7c3aed"})]})}),(0,t.jsx)("circle",{cx:24,cy:24,r:16,fill:"url(#cg)"}),(0,t.jsx)("circle",{cx:20,cy:19,r:4,fill:"white",opacity:.3})]});case"triangle":return(0,t.jsxs)("svg",{viewBox:"0 0 48 48",className:"h-full w-full drop-shadow-sm",children:[(0,t.jsx)("defs",{children:(0,t.jsxs)("linearGradient",{id:"tg",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,t.jsx)("stop",{offset:"0%",stopColor:"#f0abfc"}),(0,t.jsx)("stop",{offset:"100%",stopColor:"#a855f7"})]})}),(0,t.jsx)("polygon",{points:"24,6 42,42 6,42",fill:"url(#tg)"})]});case"plus":return(0,t.jsxs)("svg",{viewBox:"0 0 48 48",className:"h-full w-full drop-shadow-sm",children:[(0,t.jsx)("defs",{children:(0,t.jsxs)("linearGradient",{id:"pg",x1:"0",y1:"0",x2:"1",y2:"1",children:[(0,t.jsx)("stop",{offset:"0%",stopColor:"#67e8f9"}),(0,t.jsx)("stop",{offset:"100%",stopColor:"#06b6d4"})]})}),(0,t.jsx)("rect",{x:18,y:6,width:12,height:36,rx:3,fill:"url(#pg)"}),(0,t.jsx)("rect",{x:6,y:18,width:36,height:12,rx:3,fill:"url(#pg)"})]});case"waves":return(0,t.jsxs)("svg",{viewBox:"0 0 48 48",className:"h-full w-full drop-shadow-sm",children:[(0,t.jsx)("path",{d:"M6 16 Q14 8 24 16 Q34 24 42 16",fill:"none",stroke:"#c084fc",strokeWidth:3.5,strokeLinecap:"round"}),(0,t.jsx)("path",{d:"M6 26 Q14 18 24 26 Q34 34 42 26",fill:"none",stroke:"#a855f7",strokeWidth:3.5,strokeLinecap:"round"}),(0,t.jsx)("path",{d:"M6 36 Q14 28 24 36 Q34 44 42 36",fill:"none",stroke:"#7c3aed",strokeWidth:3.5,strokeLinecap:"round"})]});case"stripes":return(0,t.jsx)("svg",{viewBox:"0 0 48 48",className:"h-full w-full drop-shadow-sm",children:[10,18,26,34].map((e,r)=>(0,t.jsx)("rect",{x:6,y:e,width:36,height:4,rx:2,fill:r%2==0?"#e879f9":"#c026d3"},e))});case"star":return(0,t.jsxs)("svg",{viewBox:"0 0 48 48",className:"h-full w-full drop-shadow-sm",children:[(0,t.jsx)("defs",{children:(0,t.jsxs)("linearGradient",{id:"sg",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,t.jsx)("stop",{offset:"0%",stopColor:"#fbbf24"}),(0,t.jsx)("stop",{offset:"100%",stopColor:"#f59e0b"})]})}),(0,t.jsx)("polygon",{points:"24,4 29,18 44,18 32,27 36,42 24,33 12,42 16,27 4,18 19,18",fill:"url(#sg)"})]})}}let s=["circle","triangle","plus","waves","stripes","star"],i=["time_ms","click_count","unique_tiles_clicked","verify_attempts","mistakes","avg_click_delta_ms","std_click_delta_ms","hesitations","blur_count","reset_count","path_len_px","avg_speed","speed_std","avg_acceleration","acc_std","curvature","direction_changes","click_precision_px","path_straightness","movement_efficiency","micro_corrections","velocity_consistency","pause_before_click_ms","angular_velocity_std"],l=[.3,-15,60,-400,-80,.8,2,200,-500,-250,.05,0,.5,0,0,0,12,-40,-5,4,40,-5,1.5,0],o=Object.fromEntries(i.map(e=>[e,0])),a={time_ms:[0,6e4],click_count:[0,500],unique_tiles_clicked:[0,16],verify_attempts:[0,50],mistakes:[0,500],avg_click_delta_ms:[0,1e4],std_click_delta_ms:[0,1e4],hesitations:[0,200],blur_count:[0,100],reset_count:[0,200],path_len_px:[0,1e5],avg_speed:[0,5e4],speed_std:[0,5e4],avg_acceleration:[0,1e5],acc_std:[0,1e5],curvature:[0,1e5],direction_changes:[0,5e3],click_precision_px:[0,200],path_straightness:[0,1e3],movement_efficiency:[0,1e3],micro_corrections:[0,2e3],velocity_consistency:[0,1e3],pause_before_click_ms:[0,1e4],angular_velocity_std:[0,5e4]};function c(e,t){return Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2)}function u(e){return 0===e.length?0:e.reduce((e,t)=>e+t,0)/e.length}function d(e){if(e.length<2)return 0;let t=u(e);return Math.sqrt(e.reduce((e,r)=>e+(r-t)**2,0)/e.length)}function h(e){let t,r=(t=0|e,()=>{let e=Math.imul((t=t+0x6d2b79f5|0)^t>>>15,1|t);return(((e=e+Math.imul(e^e>>>7,61|e)^e)^e>>>14)>>>0)/0x100000000}),n=s[Math.floor(r()*s.length)],i=4+Math.floor(4*r()),l=Array.from({length:16},(e,t)=>t);for(let e=l.length-1;e>0;e--){let t=Math.floor(r()*(e+1));[l[e],l[t]]=[l[t],l[e]]}let o=new Set(l.slice(0,i)),a=s.filter(e=>e!==n),c=[];for(let e=0;e<16;e++)c.push(o.has(e)?n:a[Math.floor(r()*a.length)]);return{seed:e,id:`pzl_${e.toString(16).padStart(8,"0")}`,target:n,tiles:c,targetIndices:o}}function f(e,t,r,n,s,i,l,o,h,f,p){let x=l??0,m=Math.round(Math.max(0,(o??x)-x)),g=[];for(let t=1;t<e.length;t++)g.push(Math.max(0,e[t]-e[t-1]));let y=u(g),b=d(g),w=g.filter(e=>e>1200).length,v=0,j=[],_=[],k=[],N=0,S=0;for(let e=1;e<h.length;e++){let t=c(h[e-1],h[e]);v+=t,j.push(t/Math.max(1,h[e].t-h[e-1].t)*1e3)}for(let e=1;e<j.length;e++){let t=Math.max(1,(h[e+1]?.t??h[e].t)-h[e].t||1);_.push(Math.abs(j[e]-j[e-1])/t*1e3)}for(let e=1;e<h.length-1;e++){let t=function(e,t,r){let n=t.x-e.x,s=t.y-e.y,i=r.x-t.x,l=r.y-t.y;return Math.abs(Math.atan2(n*l-s*i,n*i+s*l))}(h[e-1],h[e],h[e+1]);k.push(t),t>Math.PI/6&&N++,t>Math.PI/4&&15>c(h[e-1],h[e])&&S++}let M=[];for(let e=0;e<k.length;e++)M.push(k[e]/Math.max(1,h[e+1].t-h[e].t)*1e3);let C=0;f.length>0&&(C=u(f.map(e=>Math.sqrt((e.x-e.tileCenterX)**2+(e.y-e.tileCenterY)**2))));let E=0,L=500;if(e.length>=2&&h.length>=2){let t=[];for(let r=1;r<e.length;r++){let n=h.filter(t=>t.t>=e[r-1]-50&&t.t<=e[r]+50);if(n.length>=2){let e=0;for(let t=1;t<n.length;t++)e+=c(n[t-1],n[t]);let r=c(n[0],n[n.length-1]);e>0&&t.push(r/e)}}t.length>0&&(E=Math.round(1e3*u(t)),L=Math.round((1-u(t))*1e3))}else if(h.length>=2){let e=c(h[0],h[h.length-1]);v>0&&(E=Math.round(e/v*1e3),L=Math.round((1-e/v)*1e3))}let A=j.length>1?Math.round((1-Math.min(1,d(j)/(u(j)||1)))*1e3):500,O=(e,t)=>Math.round(function(e,t,r){return Math.max(t,Math.min(r,e))}(t,...a[e]));return{time_ms:O("time_ms",m),click_count:O("click_count",e.length),unique_tiles_clicked:O("unique_tiles_clicked",t.size),verify_attempts:O("verify_attempts",r),mistakes:O("mistakes",n),avg_click_delta_ms:O("avg_click_delta_ms",y),std_click_delta_ms:O("std_click_delta_ms",b),hesitations:O("hesitations",w),blur_count:O("blur_count",s),reset_count:O("reset_count",i),path_len_px:O("path_len_px",v),avg_speed:O("avg_speed",u(j)),speed_std:O("speed_std",d(j)),avg_acceleration:O("avg_acceleration",u(_)),acc_std:O("acc_std",d(_)),curvature:O("curvature",100*k.reduce((e,t)=>e+t,0)),direction_changes:O("direction_changes",N),click_precision_px:O("click_precision_px",C),path_straightness:O("path_straightness",E),movement_efficiency:O("movement_efficiency",L),micro_corrections:O("micro_corrections",S),velocity_consistency:O("velocity_consistency",A),pause_before_click_ms:O("pause_before_click_ms",u(p)),angular_velocity_std:O("angular_velocity_std",100*d(M))}}function p(e){let t=i.reduce((t,r,n)=>t+l[n]*e[r],-1500);return{score:Math.round(t),label:t>=0?"HUMAN":"BOT"}}function x(e,t,r,n,s){let i=Math.max(12,Math.round(s/8)),l=[];for(let s=0;s<=i;s++){let o=s/i;l.push({x:e+(r-e)*o+(Math.random()-.5)*.15,y:t+(n-t)*o+(Math.random()-.5)*.15,t:8*s})}return l}function m(e){return{score:e}}function g({isOpen:e,onClose:s,onVerifiedHuman:i}){let l=function(){let[e,t]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{let e=window.matchMedia("(prefers-reduced-motion: reduce)"),r=()=>t(e.matches);return r(),e.addEventListener("change",r),()=>e.removeEventListener("change",r)},[]),e}(),[a,c]=(0,r.useState)(()=>h(42)),[u,d]=(0,r.useState)(new Set),[g,y]=(0,r.useState)(!1),[b,w]=(0,r.useState)(o),[v,j]=(0,r.useState)(0),[_,k]=(0,r.useState)("BOT"),[N,S]=(0,r.useState)(!1),[M,C]=(0,r.useState)(!1),[E,L]=(0,r.useState)(new Set),[A,O]=(0,r.useState)(new Set),[T,I]=(0,r.useState)(!1),[R,B]=(0,r.useState)(null),[P,U]=(0,r.useState)(!1),z=(0,r.useRef)([]),$=(0,r.useRef)(new Set),F=(0,r.useRef)(0),q=(0,r.useRef)(0),D=(0,r.useRef)(0),W=(0,r.useRef)(0),H=(0,r.useRef)(null),K=(0,r.useRef)(!1),J=(0,r.useRef)([]),V=(0,r.useRef)([]),Z=(0,r.useRef)([]),G=(0,r.useRef)([]),X=(0,r.useRef)([]),Q=(0,r.useRef)(null),Y=(0,r.useRef)(null),ee=(0,r.useRef)(null),et=(0,r.useRef)(()=>{}),er=(0,r.useRef)(()=>{}),en=()=>{J.current.forEach(clearTimeout),J.current=[],V.current.forEach(cancelAnimationFrame),V.current=[]};(0,r.useEffect)(()=>()=>en(),[]);let es=()=>{z.current=[],$.current=new Set,F.current=0,q.current=0,H.current=null,K.current=!1,Z.current=[],G.current=[],X.current=[],Q.current=null},ei=(0,r.useCallback)(e=>{let t=f(z.current,$.current,F.current,q.current,D.current,W.current,H.current,e,Z.current,G.current,X.current),r=p(t);return w(t),j(r.score),k(r.label),{features:t,model:r}},[]),el=(0,r.useCallback)(()=>{en(),U(!1),B(null),c(h(Date.now())),d(new Set),S(!1),C(!1),I(!1),L(new Set),O(new Set),W.current+=1,es(),ei(null)},[ei]);(0,r.useEffect)(()=>{let e=()=>{K.current&&(D.current+=1)};return window.addEventListener("blur",e),window.addEventListener("focus",e),()=>{window.removeEventListener("blur",e),window.removeEventListener("focus",e)}},[]),(0,r.useEffect)(()=>{if(!e)return;el();let t=setTimeout(()=>ee.current?.focus(),40);return()=>clearTimeout(t)},[e,el]),(0,r.useEffect)(()=>{if(!e)return;let t=e=>{if("Escape"!==e.key||g||s(),"Tab"!==e.key)return;let t=ee.current;if(!t)return;let r=Array.from(t.querySelectorAll("button,input,[tabindex]:not([tabindex='-1'])")).filter(e=>!e.hasAttribute("disabled"));if(0===r.length)return;let n=r[0],i=r[r.length-1];e.shiftKey||document.activeElement!==i?e.shiftKey&&document.activeElement===n&&(e.preventDefault(),i.focus()):(e.preventDefault(),n.focus())};return window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t)},[e,s,g]),(0,r.useEffect)(()=>{if(!e)return;let t=Y.current;if(!t||g)return;let r=e=>{if(!K.current&&null===H.current)return;let r=performance.now(),n=t.getBoundingClientRect();Z.current.push({x:e.clientX-n.left,y:e.clientY-n.top,t:r}),Q.current=r};return t.addEventListener("mousemove",r),()=>t.removeEventListener("mousemove",r)},[g,e]);let eo=(0,r.useCallback)(e=>{let t=Y.current;if(!t)return null;let r=t.children[e];if(!r)return null;let n=t.getBoundingClientRect(),s=r.getBoundingClientRect();return{x:s.left-n.left+s.width/2,y:s.top-n.top+s.height/2}},[]),ea=(0,r.useCallback)((e,t,r)=>{if(N&&M)return;(E.size>0||A.size>0)&&(L(new Set),O(new Set));let n=performance.now();null===H.current&&(H.current=n,K.current=!0),z.current.push(n),$.current.add(e),null!==Q.current&&X.current.push(n-Q.current);let s=eo(e);if(s&&void 0!==t&&void 0!==r)G.current.push({x:t,y:r,tileCenterX:s.x,tileCenterY:s.y});else if(s){let e=5+15*Math.random(),t=Math.random()*Math.PI*2;G.current.push({x:s.x+Math.cos(t)*e,y:s.y+Math.sin(t)*e,tileCenterX:s.x,tileCenterY:s.y})}d(t=>{let r=new Set(t);return r.has(e)?r.delete(e):r.add(e),r}),ei(n)},[N,M,E,A,eo,ei]),ec=(0,r.useCallback)((e,t)=>{let r=Y.current;if(!r)return ea(e);let n=r.getBoundingClientRect();ea(e,t.clientX-n.left,t.clientY-n.top)},[ea]),eu=(0,r.useCallback)(()=>{if(N&&M)return;I(!0);let e=setTimeout(()=>{let e=performance.now();F.current+=1;let t=new Set([...u].filter(e=>!a.targetIndices.has(e))),r=new Set([...a.targetIndices].filter(e=>!u.has(e)));if(q.current+=t.size+r.size,(0!==t.size||0!==r.size)&&!g){L(t),O(r),ei(e),I(!1);return}L(new Set),O(new Set),S(!0),C(!0);let{features:n,model:s}=ei(e);g?k("BOT"):(k("HUMAN"),i(m(s.score),s.score)),w(n),j(s.score),I(!1)},450);J.current.push(e)},[N,M,u,a,g,i,ei]);(0,r.useEffect)(()=>{et.current=ea,er.current=eu},[ea,eu]);let ed=(0,r.useCallback)(()=>{en();let e=h(Date.now());c(e),d(new Set),S(!1),C(!1),es(),W.current=0,ei(null);let t=[...e.targetIndices],r=setTimeout(()=>{U(!0);let e=Y.current;if(!e)return;let r=e.getBoundingClientRect(),n=t=>{let n=e.children[t];if(!n)return{x:r.width/2,y:r.height/2};let s=n.getBoundingClientRect();return{x:s.left-r.left+s.width/2,y:s.top-r.top+s.height/2}},s=r.width/2,i=-20,l=0;H.current=performance.now(),K.current=!0,t.forEach(e=>{let t=220+60*Math.random(),r=30+30*Math.random(),o=s,a=i,c=setTimeout(()=>{let s=n(e),i=x(o,a,s.x,s.y,t),l=performance.now();i.forEach(e=>Z.current.push({x:e.x,y:e.y,t:l+e.t}));let c=i[i.length-1].t,u=()=>{let e=performance.now()-l;if(e>=c)return void B({x:i[i.length-1].x,y:i[i.length-1].y});let t=Math.min(Math.floor(e/c*i.length),i.length-1);B({x:i[t].x,y:i[t].y}),V.current.push(requestAnimationFrame(u))};V.current.push(requestAnimationFrame(u));let d=setTimeout(()=>{let t=n(e),s=t.x+(Math.random()-.5)*1.5,i=t.y+(Math.random()-.5)*1.5;B({x:s,y:i}),Q.current=performance.now()-r,et.current(e,s,i)},t+r);J.current.push(d)},300+l);J.current.push(c);let u=n(e);s=u.x,i=u.y,l+=t+r+180});let o=setTimeout(()=>{U(!1),er.current()},300+l+220);J.current.push(o)},120);J.current.push(r)},[ei]),eh=(0,r.useCallback)(e=>{y(e),e?ed():(en(),U(!1),B(null),el())},[el,ed]),ef=(0,r.useMemo)(()=>E.size>0||A.size>0?"bg-red-500/80":M&&N?"HUMAN"===_?"bg-emerald-500/80":"bg-red-500/80":"bg-purple-600/65",[E,A,M,N,_]);return e?(0,t.jsx)("div",{className:`fixed inset-0 z-50 flex items-center justify-center bg-black/62 ${l?"":"animate-[fadeIn_0.3s_ease-out]"}`,onClick:e=>{e.target!==e.currentTarget||g||s()},children:(0,t.jsxs)("div",{ref:ee,role:"dialog","aria-modal":"true",tabIndex:-1,className:`relative mx-4 w-[92vw] max-w-[420px] overflow-hidden rounded-2xl border border-white/12 bg-[#1e1033] shadow-2xl outline-none ${l?"":"animate-[zoomIn_0.3s_ease-out]"}`,children:[!g&&(0,t.jsx)("button",{type:"button",onClick:s,className:"absolute right-3 top-3 z-10 flex h-8 w-8 items-center justify-center rounded-full text-white/50 transition hover:bg-white/10 hover:text-white",children:(0,t.jsx)("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2.5,children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})}),(0,t.jsxs)("div",{className:`px-5 pb-4 pt-5 transition-colors duration-300 ${ef}`,children:[(0,t.jsx)("p",{className:"mb-1 text-[11px] font-semibold uppercase tracking-[0.12em] text-white/70",children:"Step 1: Prove humanity"}),E.size>0||A.size>0?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-white",children:"Try Again"}),(0,t.jsx)("p",{className:"mt-1 text-[13px] text-white/80",children:"Adjust your selection and verify again."})]}):M&&N?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-white",children:"HUMAN"===_?"Access Granted":"Classified as Bot"}),(0,t.jsx)("p",{className:"mt-1 text-[13px] text-white/80",children:"HUMAN"===_?`Behavioral score ${v} accepted.`:"Behavior did not meet the human threshold."})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("p",{className:"text-[13px] text-white/65",children:"Select all squares with"}),(0,t.jsxs)("h2",{className:"mt-0.5 text-2xl font-bold capitalize text-white",children:[a.target,"s"]}),(0,t.jsx)("p",{className:"mt-1 text-[13px] text-white/55",children:"If there are none, click skip"})]})]}),(0,t.jsxs)("div",{className:"relative max-h-[54vh] overflow-y-auto",children:[(0,t.jsx)("div",{ref:Y,className:"grid grid-cols-4 gap-[2px] bg-white/6 p-[2px]",children:a.tiles.map((e,r)=>{let s=u.has(r),i=E.has(r),l=A.has(r),o=i||l;return(0,t.jsxs)("button",{type:"button",disabled:g,onClick:e=>ec(r,e),className:`relative flex aspect-square min-h-11 items-center justify-center transition-all duration-150 ${o?"bg-red-500/20 ring-2 ring-inset ring-red-400":s?"scale-[0.92] bg-purple-500/20 ring-[3px] ring-inset ring-purple-400":"bg-white/6 hover:bg-white/14"} ${g?"cursor-not-allowed":"cursor-pointer active:scale-95"}`,children:[(0,t.jsx)("div",{className:"flex h-full w-full items-center justify-center p-2",children:(0,t.jsx)(n,{type:e})}),s&&!o&&(0,t.jsx)("div",{className:"absolute bottom-1 left-1 flex h-5 w-5 items-center justify-center rounded-full bg-purple-500 shadow",children:(0,t.jsx)("svg",{className:"h-3 w-3 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:3.5,children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})})}),i&&(0,t.jsx)("div",{className:"absolute bottom-1 left-1 flex h-5 w-5 items-center justify-center rounded-full bg-red-500 shadow",children:(0,t.jsx)("svg",{className:"h-3 w-3 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:3.5,children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})}),l&&(0,t.jsx)("div",{className:"absolute bottom-1 right-1 flex h-4 w-4 items-center justify-center rounded-full bg-red-500/80 shadow",children:(0,t.jsx)("span",{className:"text-[9px] font-bold text-white",children:"!"})})]},r)})}),P&&R&&(0,t.jsxs)("div",{className:"pointer-events-none absolute z-50",style:{left:R.x-4,top:R.y-4,transition:"left 0.016s linear, top 0.016s linear"},children:[(0,t.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:(0,t.jsx)("path",{d:"M3 3L10.5 21L13 13L21 10.5L3 3Z",fill:"#ef4444",stroke:"#991b1b",strokeWidth:"1.5",strokeLinejoin:"round"})}),(0,t.jsx)("span",{className:"absolute -right-8 -top-1 rounded bg-red-600 px-1.5 py-0.5 text-[9px] font-bold text-white shadow",children:"BOT"})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between border-t border-white/12 bg-white/5 px-3 py-2.5",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("button",{type:"button",onClick:el,className:"flex h-8 w-8 items-center justify-center rounded-full text-white/50 transition hover:bg-white/10 hover:text-white/80",title:"New challenge",children:(0,t.jsx)("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),(0,t.jsxs)("label",{className:"flex cursor-pointer items-center gap-1.5 text-[11px] font-medium text-white/65",children:[(0,t.jsx)("input",{type:"checkbox",className:"h-3.5 w-3.5 rounded accent-purple-500",checked:g,onChange:e=>eh(e.target.checked)}),"Bot"]})]}),(0,t.jsx)("button",{type:"button",onClick:eu,disabled:g||T,className:"btn-primary min-h-10 rounded-lg px-5 py-1.5 text-sm font-semibold",children:T?"Verifying...":"Verify Access"})]})]})}):null}e.s(["BOT_STEP_INTERVAL_MS",0,180,"INITIAL_SEED",0,42,"THRESHOLD",0,0,"ZERO_FEATURES",0,o,"computeFeatures",()=>f,"generateBotPath",()=>x,"generatePuzzle",()=>h,"runModel",()=>p,"toExportJson",()=>m],65916),e.s(["CaptchaModal",()=>g],7815)},67585,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"BailoutToCSR",{enumerable:!0,get:function(){return s}});let n=e.r(32061);function s({reason:e,children:t}){if("u"<typeof window)throw Object.defineProperty(new n.BailoutToCSRError(e),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return t}},9885,(e,t,r)=>{"use strict";function n(e){return e.split("/").map(e=>encodeURIComponent(e)).join("/")}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"encodeURIPath",{enumerable:!0,get:function(){return n}})},52157,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"PreloadChunks",{enumerable:!0,get:function(){return a}});let n=e.r(43476),s=e.r(74080),i=e.r(63599),l=e.r(9885),o=e.r(43369);function a({moduleIds:e}){if("u">typeof window)return null;let t=i.workAsyncStorage.getStore();if(void 0===t)return null;let r=[];if(t.reactLoadableManifest&&e){let n=t.reactLoadableManifest;for(let t of e){if(!n[t])continue;let e=n[t].files;r.push(...e)}}if(0===r.length)return null;let a=(0,o.getDeploymentIdQueryOrEmptyString)();return(0,n.jsx)(n.Fragment,{children:r.map(e=>{let r=`${t.assetPrefix}/_next/${(0,l.encodeURIPath)(e)}${a}`;return e.endsWith(".css")?(0,n.jsx)("link",{precedence:"dynamic",href:r,rel:"stylesheet",as:"style",nonce:t.nonce},e):((0,s.preload)(r,{as:"script",fetchPriority:"low",nonce:t.nonce}),null)})})}},69093,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"default",{enumerable:!0,get:function(){return c}});let n=e.r(43476),s=e.r(71645),i=e.r(67585),l=e.r(52157);function o(e){return{default:e&&"default"in e?e.default:e}}let a={loader:()=>Promise.resolve(o(()=>null)),loading:null,ssr:!0},c=function(e){let t={...a,...e},r=(0,s.lazy)(()=>t.loader().then(o)),c=t.loading;function u(e){let o=c?(0,n.jsx)(c,{isLoading:!0,pastDelay:!0,error:null}):null,a=!t.ssr||!!t.loading,u=a?s.Suspense:s.Fragment,d=t.ssr?(0,n.jsxs)(n.Fragment,{children:["u"<typeof window?(0,n.jsx)(l.PreloadChunks,{moduleIds:t.modules}):null,(0,n.jsx)(r,{...e})]}):(0,n.jsx)(i.BailoutToCSR,{reason:"next/dynamic",children:(0,n.jsx)(r,{...e})});return(0,n.jsx)(u,{...a?{fallback:o}:{},children:d})}return u.displayName="LoadableComponent",u}},70703,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"default",{enumerable:!0,get:function(){return s}});let n=e.r(55682)._(e.r(69093));function s(e,t){let r={};"function"==typeof e&&(r.loader=e);let s={...r,...t};return(0,n.default)({...s,modules:s.loadableGenerated?.modules})}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},70487,e=>{"use strict";let t,r;var n,s=e.i(43476),i=e.i(71645);function l(e){if(!Number.isSafeInteger(e)||e<0)throw Error(`Wrong positive integer: ${e}`)}function o(e,...t){if(!(e instanceof Uint8Array))throw Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function a(e,t=!0){if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")}let c=BigInt(0x100000000-1),u=BigInt(32);if(68!==new Uint8Array(new Uint32Array([0x11223344]).buffer)[0])throw Error("Non little-endian hardware is not supported");function d(e){if("string"==typeof e&&(e=function(e){if("string"!=typeof e)throw Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}(e)),!(e instanceof Uint8Array))throw Error(`expected Uint8Array, got ${typeof e}`);return e}class h{clone(){return this._cloneInto()}}let[f,p,x]=[[],[],[]],m=BigInt(0),g=BigInt(1),y=BigInt(2),b=BigInt(7),w=BigInt(256),v=BigInt(113);for(let e=0,t=g,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],f.push(2*(5*n+r)),p.push((e+1)*(e+2)/2%64);let s=m;for(let e=0;e<7;e++)(t=(t<<g^(t>>b)*v)%w)&y&&(s^=g<<(g<<BigInt(e))-g);x.push(s)}let[j,_]=function(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let s=0;s<e.length;s++){let{h:i,l}=function(e,t=!1){return t?{h:Number(e&c),l:Number(e>>u&c)}:{h:0|Number(e>>u&c),l:0|Number(e&c)}}(e[s],t);[r[s],n[s]]=[i,l]}return[r,n]}(x,!0),k=(e,t,r)=>r>32?t<<r-32|e>>>64-r:e<<r|t>>>32-r,N=(e,t,r)=>r>32?e<<r-32|t>>>64-r:t<<r|e>>>32-r;class S extends h{constructor(e,t,r,n=!1,s=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=n,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,l(r),0>=this.blockLen||this.blockLen>=200)throw Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)))(this.state)}keccak(){!function(e,t=24){let r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let t=0;t<10;t++)r[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){let n=(t+8)%10,s=(t+2)%10,i=r[s],l=r[s+1],o=k(i,l,1)^r[n],a=N(i,l,1)^r[n+1];for(let r=0;r<50;r+=10)e[t+r]^=o,e[t+r+1]^=a}let t=e[2],s=e[3];for(let r=0;r<24;r++){let n=p[r],i=k(t,s,n),l=N(t,s,n),o=f[r];t=e[o],s=e[o+1],e[o]=i,e[o+1]=l}for(let t=0;t<50;t+=10){for(let n=0;n<10;n++)r[n]=e[t+n];for(let n=0;n<10;n++)e[t+n]^=~r[(n+2)%10]&r[(n+4)%10]}e[0]^=j[n],e[1]^=_[n]}r.fill(0)}(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){a(this);let{blockLen:t,state:r}=this,n=(e=d(e)).length;for(let s=0;s<n;){let i=Math.min(t-this.pos,n-s);for(let t=0;t<i;t++)r[this.pos++]^=e[s++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:t,pos:r,blockLen:n}=this;e[r]^=t,(128&t)!=0&&r===n-1&&this.keccak(),e[n-1]^=128,this.keccak()}writeInto(e){a(this,!1),o(e),this.finish();let t=this.state,{blockLen:r}=this;for(let n=0,s=e.length;n<s;){this.posOut>=r&&this.keccak();let i=Math.min(r-this.posOut,s-n);e.set(t.subarray(this.posOut,this.posOut+i),n),this.posOut+=i,n+=i}return e}xofInto(e){if(!this.enableXOF)throw Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return l(e),this.xofInto(new Uint8Array(e))}digestInto(e){o(e);let t=this.outputLen;if(e.length<t)throw Error(`digestInto() expects output buffer of length at least ${t}`);if(this.finished)throw Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){let{blockLen:t,suffix:r,outputLen:n,rounds:s,enableXOF:i}=this;return e||(e=new S(t,r,n,i,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=n,e.enableXOF=i,e.destroyed=this.destroyed,e}}let M=(n=()=>new S(136,1,32),(t=e=>n().update(d(e)).digest()).outputLen=(r=n()).outputLen,t.blockLen=r.blockLen,t.create=()=>n(),t);function C(e,t,r){for(let n in t){let s=t[n],i=r?r[n]:null;i&&function(e,t,r){let n=t.split("|").map(e=>e.trim());for(let r=0;r<n.length;r++)switch(t){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof e===t)return}let s=Error(`invalid value for type ${t}`);throw s.code="INVALID_ARGUMENT",s.argument=`value.${r}`,s.value=e,s}(s,i,n),Object.defineProperty(e,n,{enumerable:!0,value:s,writable:!1})}}function E(e){if(null==e)return"null";if(Array.isArray(e))return"[ "+e.map(E).join(", ")+" ]";if(e instanceof Uint8Array){let t="0123456789abcdef",r="0x";for(let n=0;n<e.length;n++)r+=t[e[n]>>4],r+=t[15&e[n]];return r}if("object"==typeof e&&"function"==typeof e.toJSON)return E(e.toJSON());switch(typeof e){case"boolean":case"symbol":case"number":return e.toString();case"bigint":return BigInt(e).toString();case"string":return JSON.stringify(e);case"object":{let t=Object.keys(e);return t.sort(),"{ "+t.map(t=>`${E(t)}: ${E(e[t])}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function L(e,t,r,n){if(!e)throw function(e,t,r){let n,s=e;{let n=[];if(r){if("message"in r||"code"in r||"name"in r)throw Error(`value will overwrite populated values: ${E(r)}`);for(let e in r){if("shortMessage"===e)continue;let t=r[e];n.push(e+"="+E(t))}}n.push(`code=${t}`),n.push("version=6.13.1"),n.length&&(e+=" ("+n.join(", ")+")")}switch(t){case"INVALID_ARGUMENT":n=TypeError(e);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":n=RangeError(e);break;default:n=Error(e)}return C(n,{code:t}),r&&Object.assign(n,r),null==n.shortMessage&&C(n,{shortMessage:s}),n}(t,"INVALID_ARGUMENT",{argument:r,value:n})}function A(e,t){return function(e,t,r){if(e instanceof Uint8Array)return r?new Uint8Array(e):e;if("string"==typeof e&&e.match(/^0x(?:[0-9a-f][0-9a-f])*$/i)){let t=new Uint8Array((e.length-2)/2),r=2;for(let n=0;n<t.length;n++)t[n]=parseInt(e.substring(r,r+2),16),r+=2;return t}L(!1,"invalid BytesLike value",t||"value",e)}(e,t,!1)}["NFD","NFC","NFKD","NFKC"].reduce((e,t)=>{try{if("test"!=="test".normalize(t))throw Error("bad");if("NFD"===t){let e=String.fromCharCode(233).normalize("NFD"),t=String.fromCharCode(101,769);if(e!==t)throw Error("broken")}e.push(t)}catch(e){}return e},[]);let O="0123456789abcdef",T=!1,I=function(e){return M(e)},R=I;function B(e){let t=A(e,"data");return function(e){let t=A(e),r="0x";for(let e=0;e<t.length;e++){let n=t[e];r+=O[(240&n)>>4]+O[15&n]}return r}(R(t))}B._=I,B.lock=function(){T=!0},B.register=function(e){if(T)throw TypeError("keccak256 is locked");R=e},Object.freeze(B);let P=BigInt(0),U=BigInt(36);function z(e){let t=(e=e.toLowerCase()).substring(2).split(""),r=new Uint8Array(40);for(let e=0;e<40;e++)r[e]=t[e].charCodeAt(0);let n=A(B(r));for(let e=0;e<40;e+=2)n[e>>1]>>4>=8&&(t[e]=t[e].toUpperCase()),(15&n[e>>1])>=8&&(t[e+1]=t[e+1].toUpperCase());return"0x"+t.join("")}let $={};for(let e=0;e<10;e++)$[String(e)]=String(e);for(let e=0;e<26;e++)$[String.fromCharCode(65+e)]=String(10+e);let F=function(){let e={};for(let t=0;t<36;t++)e["0123456789abcdefghijklmnopqrstuvwxyz"[t]]=BigInt(t);return e}();function q(e){try{return!function(e){if(L("string"==typeof e,"invalid address","address",e),e.match(/^(0x)?[0-9a-fA-F]{40}$/)){e.startsWith("0x")||(e="0x"+e);let t=z(e);return L(!e.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||t===e,"bad address checksum","address",e)}if(e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){L(e.substring(2,4)===function(e){let t=(e=(e=e.toUpperCase()).substring(4)+e.substring(0,2)+"00").split("").map(e=>$[e]).join("");for(;t.length>=15;){let e=t.substring(0,15);t=parseInt(e,10)%97+t.substring(e.length)}let r=String(98-parseInt(t,10)%97);for(;r.length<2;)r="0"+r;return r}(e),"bad icap checksum","address",e);let t=(function(e){e=e.toLowerCase();let t=P;for(let r=0;r<e.length;r++)t=t*U+F[e[r]];return t})(e.substring(4)).toString(16);for(;t.length<40;)t="0"+t;return z("0x"+t)}L(!1,"invalid address","address",e)}(e),!0}catch(e){}return!1}let D=(0,e.i(70703).default)(()=>e.A(64146).then(e=>e.default),{loadableGenerated:{modules:[12750]},ssr:!1});function W(){return(0,s.jsxs)("div",{className:"pointer-events-none fixed inset-0 z-0 overflow-hidden","aria-hidden":!0,children:[(0,s.jsx)("div",{className:"absolute inset-0 h-full w-full",style:{filter:"blur(4px) brightness(0.82) saturate(1.05)",transform:"scale(1.03)"},children:(0,s.jsx)(D,{scene:"https://prod.spline.design/mMEB6FJWdEa9lcn0/scene.splinecode",style:{width:"100%",height:"100%"}})}),(0,s.jsx)("div",{className:"absolute inset-0",style:{background:"radial-gradient(80% 60% at 50% 40%, rgba(168,85,247,0.12), transparent 60%), radial-gradient(60% 50% at 20% 20%, rgba(59,130,246,0.12), transparent 55%), linear-gradient(to bottom, rgba(0,0,0,0.65), rgba(0,0,0,0.35), rgba(0,0,0,0.72))"}})]})}var H=e.i(7815);function K({size:e="text-3xl"}){return(0,s.jsx)("span",{className:`${e} font-semibold tracking-tight text-transparent bg-clip-text bg-gradient-to-r from-white via-purple-100 to-fuchsia-200`,children:"ProofofHuman"})}function J({verificationState:e,walletAddress:t,onWalletAddressChange:r,onOpenCaptcha:n,onCopyJson:i,onRequestTokens:l,exportedJson:o,copied:a,requestLoading:c,isWalletValid:u,latestScore:d}){let h="verified"===e||"requested"===e,f=h&&t.trim().length>0&&u&&!c;return(0,s.jsxs)("div",{className:"glass-card-strong relative z-10 mx-4 flex w-[92vw] max-w-[620px] flex-col items-center px-7 py-9 sm:px-10 sm:py-11",children:[(0,s.jsx)(K,{size:"text-display"}),(0,s.jsx)("p",{className:"mt-1 text-body text-[var(--text-muted)]",children:"Faucet"}),(0,s.jsxs)("div",{className:"mt-8 w-full space-y-5",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"mb-2 block text-xs font-medium uppercase tracking-wide text-white/60",children:"Wallet Address"}),(0,s.jsx)("input",{type:"text",value:t,onChange:e=>r(e.target.value),placeholder:"Enter your wallet address",disabled:!h,className:`glass-input min-h-11 w-full px-4 py-3 text-[15px] text-[var(--text-primary)] placeholder-white/40 ${!h?"cursor-not-allowed opacity-65":""} ${h&&t.length>0&&!u?"border-[var(--error)]/60":""}`}),h&&t.length>0&&!u&&(0,s.jsx)("p",{className:"mt-2 text-xs text-[var(--error)]",children:"Enter a valid EVM wallet address (`0x` + 40 hex characters)."}),!h&&(0,s.jsx)("p",{className:"mt-2 text-xs text-[var(--text-muted)]",children:o?"ZK proof failed. Try verifying again.":"One-time verification to unlock faucet access."})]}),(0,s.jsxs)("div",{className:"stack-at-xs flex items-center gap-3",children:[h?(0,s.jsxs)("div",{className:"flex min-h-11 flex-1 items-center gap-2.5 rounded-xl border border-emerald-400/30 bg-emerald-500/12 px-4 py-3",children:[(0,s.jsx)("svg",{className:"h-5 w-5 text-[var(--success)]",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2.5,children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-semibold text-emerald-200",children:"Access Granted"}),(0,s.jsx)("p",{className:"text-xs text-emerald-100/70",children:"Verification complete"})]})]}):(0,s.jsxs)("button",{type:"button",onClick:n,className:`btn-secondary min-h-11 flex flex-1 items-center gap-3 px-4 py-3 text-sm ${"verifying"===e?"animate-pulse border-purple-300/50 bg-purple-300/10":""}`,children:[(0,s.jsx)("span",{className:"relative flex h-5 w-5 items-center justify-center rounded border border-white/30",children:"verifying"===e&&(0,s.jsx)("span",{className:"absolute inline-flex h-5 w-5 animate-ping rounded border border-purple-200/60"})}),"verifying"===e?"Verifying...":"Verify Access"]}),o&&(0,s.jsx)("button",{type:"button",onClick:i,className:"btn-secondary min-h-11 rounded-xl px-3 text-xs font-medium text-white/80",title:"Copy behavioral JSON",children:a?"Copied":"Copy JSON"})]}),"requested"===e?(0,s.jsxs)("div",{className:"rounded-xl border border-emerald-400/25 bg-emerald-500/12 px-4 py-4 text-center shadow-[0_0_36px_rgba(50,209,149,0.22)] animate-pulse",children:[(0,s.jsx)("p",{className:"text-sm font-semibold text-emerald-200",children:"âœ“ Tokens Sent"}),(0,s.jsx)("p",{className:"mt-1 text-xs text-emerald-100/75",children:"Your request is queued and processing."})]}):(0,s.jsx)("button",{type:"button",onClick:l,disabled:!f,className:"btn-primary min-h-11 w-full px-6 py-3 text-[15px] font-semibold hover:scale-[1.01]",children:c?"Requesting...":"Request Testnet Tokens"}),(0,s.jsxs)("div",{className:"space-y-1 rounded-xl border border-white/10 bg-white/5 px-4 py-3",children:[(0,s.jsx)("p",{className:"text-xs font-medium uppercase tracking-wide text-white/55",children:"Why this check?"}),(0,s.jsx)("p",{className:"text-xs text-[var(--text-muted)]",children:"Social tasks are easy to game. We use interaction behavior to estimate human intent instead."})]}),(0,s.jsx)("p",{className:"text-center text-xs text-[var(--text-muted)]",children:"Privacy: interaction data never leaves your device."}),o&&(0,s.jsxs)("details",{className:"rounded-xl border border-white/10 bg-white/5 px-4 py-3 text-xs",children:[(0,s.jsx)("summary",{className:"cursor-pointer font-medium text-white/80",children:"Developer Details"}),(0,s.jsxs)("div",{className:"mt-2 space-y-2",children:[null!==d&&(0,s.jsxs)("p",{className:"text-white/70",children:["Score: ",d]}),(0,s.jsx)("pre",{className:"max-h-36 overflow-auto rounded-lg bg-black/20 p-2 text-[11px] text-white/75",children:JSON.stringify(o,null,2)})]})]})]})]})}function V({onContinue:e,animate:t}){return(0,s.jsxs)("div",{className:`glass-card-strong relative z-10 mx-4 flex w-[92vw] max-w-[580px] flex-col items-center px-7 py-10 sm:px-10 sm:py-12 ${t?"opacity-100 translate-y-0":"opacity-0 translate-y-2"} transition-all duration-500`,children:[(0,s.jsx)(K,{size:"text-display"}),(0,s.jsx)("p",{className:"mt-1 text-body text-[var(--text-muted)]",children:"Faucet"}),(0,s.jsx)("div",{className:"mt-10 w-full",children:(0,s.jsxs)("button",{type:"button",onClick:e,className:"btn-primary min-h-11 flex w-full items-center justify-center gap-3 px-6 py-3.5 text-[15px] font-semibold hover:scale-[1.01]",children:[(0,s.jsx)("svg",{className:"h-5 w-5 text-purple-100",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Request Testnet Tokens"]})})]})}function Z(){let[e,t]=(0,i.useState)(!1),[r,n]=(0,i.useState)(!1),[l,o]=(0,i.useState)("unverified"),[a,c]=(0,i.useState)(""),[u,d]=(0,i.useState)(null),[h,f]=(0,i.useState)(null),[p,x]=(0,i.useState)(!1),[m,g]=(0,i.useState)(!1),[y,b]=(0,i.useState)(null),w=(0,i.useMemo)(()=>q(a.trim()),[a]);(0,i.useEffect)(()=>{if(!y)return;let e=setTimeout(()=>b(null),2600);return()=>clearTimeout(e)},[y]);let v=(0,i.useCallback)(async(e,t)=>{d(e),f(t),n(!1),o("verifying"),b({type:"info",message:"Human verification passed. Validating ZK proof..."});try{let e=await fetch("/api/zk-proof",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({score:t})}),r=await e.json().catch(()=>({}));if(!e.ok||!r?.ok){Array.isArray(r?.pipelineLogs)&&(console.group("ZK Pipeline Logs"),r.pipelineLogs.forEach(e=>console.log(e)),Array.isArray(r?.stderrLogs)&&r.stderrLogs.length>0&&(console.group("ZK Pipeline stderr"),r.stderrLogs.forEach(e=>console.error(e)),console.groupEnd()),console.groupEnd()),o("unverified"),b({type:"info",message:r?.error||`ZK pipeline failed (HTTP ${e.status})`});return}if(!r?.verified){o("unverified"),b({type:"info",message:"ZK proof verification did not pass."});return}Array.isArray(r?.pipelineLogs)&&(console.group("ZK Pipeline Logs"),r.pipelineLogs.forEach(e=>console.log(e)),Array.isArray(r?.stderrLogs)&&r.stderrLogs.length>0&&(console.group("ZK Pipeline stderr"),r.stderrLogs.forEach(e=>console.error(e)),console.groupEnd()),console.log("Result:",{verified:r?.verified,proofPath:r?.proofPath,publicSignalsPath:r?.publicSignalsPath}),console.groupEnd()),console.log("zk proof validation passed to frontend"),o("verified"),b({type:"success",message:"ZK proof generated and verified."})}catch(t){let e=t instanceof Error?t.message:String(t);o("unverified"),b({type:"info",message:`ZK pipeline error: ${e}`})}},[]),j=(0,i.useCallback)(async()=>{let e=a.trim();if(q(e)&&"verified"===l){g(!0),o("requested");try{let t=await fetch("/api/mint",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({to_address:e,verificationPassed:!0})}),r=await t.json();if(!t.ok||!r.ok)throw Error(r.error??"Mint failed");let n=await fetch("/api/claim",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({wallet:e,to:e})}),s=await n.json();if(!n.ok||!s.ok)throw Error(s.error??"Claim failed")}catch(e){o("verified"),console.error(e)}finally{g(!1)}}},[a,l]),_=(0,i.useCallback)(()=>{u&&(navigator.clipboard.writeText(JSON.stringify(u,null,2)),x(!0),setTimeout(()=>x(!1),2e3))},[u]);return(0,s.jsxs)("div",{"data-faucet":!0,className:"relative z-10 min-h-[calc(100vh-56px)] flex flex-col items-center justify-center overflow-hidden",children:[(0,s.jsx)(W,{}),(0,s.jsx)("div",{className:"relative z-10 flex min-h-[60vh] flex-col items-center justify-center py-12",children:e?(0,s.jsx)(J,{verificationState:l,walletAddress:a,onWalletAddressChange:c,onOpenCaptcha:()=>n(!0),onCopyJson:_,onRequestTokens:j,exportedJson:u,copied:p,requestLoading:m,isWalletValid:w,latestScore:h}):(0,s.jsx)(V,{onContinue:()=>t(!0),animate:!0})}),(0,s.jsx)(H.CaptchaModal,{isOpen:r,onClose:()=>n(!1),onVerifiedHuman:v}),y&&(0,s.jsx)("div",{className:"fixed left-1/2 top-5 -translate-x-1/2 rounded-xl border border-white/15 bg-[#2a1846]/90 px-4 py-2.5 text-sm text-white shadow-xl backdrop-blur-md",style:{zIndex:70},role:"status","aria-live":"polite",children:(0,s.jsx)("span",{className:"success"===y.type?"text-emerald-300":"text-purple-200",children:y.message})})]})}e.s(["default",()=>Z],70487)},64146,e=>{e.v(t=>Promise.all(["static/chunks/ac4b0a3303885e1a.js","static/chunks/73e6390910489bcc.js"].map(t=>e.l(t))).then(()=>t(12750)))}]);