{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/nisch/Desktop/Velocity-1/node_modules/ffjavascript/src/scalar.js"],"sourcesContent":["\n/* global BigInt */\nconst hexLen = [ 0, 1, 2, 2, 3, 3, 3, 3, 4 ,4 ,4 ,4 ,4 ,4 ,4 ,4];\n\nexport function fromString(s, radix) {\n    if ((!radix)||(radix==10)) {\n        return BigInt(s);\n    } else if (radix==16) {\n        if (s.slice(0,2) == \"0x\") {\n            return BigInt(s);\n        } else {\n            return BigInt(\"0x\"+s);\n        }\n    }\n}\n\nexport const e = fromString;\n\nexport function fromArray(a, radix) {\n    let acc =BigInt(0);\n    radix = BigInt(radix);\n    for (let i=0; i<a.length; i++) {\n        acc = acc*radix + BigInt(a[i]);\n    }\n    return acc;\n}\n\nexport function bitLength(a) {\n    const aS =a.toString(16);\n    return (aS.length-1)*4 +hexLen[parseInt(aS[0], 16)];\n}\n\nexport function isNegative(a) {\n    return BigInt(a) < BigInt(0);\n}\n\nexport function isZero(a) {\n    return !a;\n}\n\nexport function shiftLeft(a, n) {\n    return BigInt(a) << BigInt(n);\n}\n\nexport function shiftRight(a, n) {\n    return BigInt(a) >> BigInt(n);\n}\n\nexport const shl = shiftLeft;\nexport const shr = shiftRight;\n\nexport function isOdd(a) {\n    return (BigInt(a) & BigInt(1)) == BigInt(1);\n}\n\n\nexport function naf(n) {\n    let E = BigInt(n);\n    const res = [];\n    while (E) {\n        if (E & BigInt(1)) {\n            const z = 2 - Number(E % BigInt(4));\n            res.push( z );\n            E = E - BigInt(z);\n        } else {\n            res.push( 0 );\n        }\n        E = E >> BigInt(1);\n    }\n    return res;\n}\n\n\nexport function bits(n) {\n    let E = BigInt(n);\n    const res = [];\n    while (E) {\n        if (E & BigInt(1)) {\n            res.push(1);\n        } else {\n            res.push( 0 );\n        }\n        E = E >> BigInt(1);\n    }\n    return res;\n}\n\nexport function toNumber(s) {\n    if (s>BigInt(Number.MAX_SAFE_INTEGER )) {\n        throw new Error(\"Number too big\");\n    }\n    return Number(s);\n}\n\nexport function toArray(s, radix) {\n    const res = [];\n    let rem = BigInt(s);\n    radix = BigInt(radix);\n    while (rem) {\n        res.unshift( Number(rem % radix));\n        rem = rem / radix;\n    }\n    return res;\n}\n\n\nexport function add(a, b) {\n    return BigInt(a) + BigInt(b);\n}\n\nexport function sub(a, b) {\n    return BigInt(a) - BigInt(b);\n}\n\nexport function neg(a) {\n    return -BigInt(a);\n}\n\nexport function mul(a, b) {\n    return BigInt(a) * BigInt(b);\n}\n\nexport function square(a) {\n    return BigInt(a) * BigInt(a);\n}\n\nexport function pow(a, b) {\n    return BigInt(a) ** BigInt(b);\n}\n\nexport function exp(a, b) {\n    return BigInt(a) ** BigInt(b);\n}\n\nexport function abs(a) {\n    return BigInt(a) >= 0 ? BigInt(a) : -BigInt(a);\n}\n\nexport function div(a, b) {\n    return BigInt(a) / BigInt(b);\n}\n\nexport function mod(a, b) {\n    return BigInt(a) % BigInt(b);\n}\n\nexport function eq(a, b) {\n    return BigInt(a) == BigInt(b);\n}\n\nexport function neq(a, b) {\n    return BigInt(a) != BigInt(b);\n}\n\nexport function lt(a, b) {\n    return BigInt(a) < BigInt(b);\n}\n\nexport function gt(a, b) {\n    return BigInt(a) > BigInt(b);\n}\n\nexport function leq(a, b) {\n    return BigInt(a) <= BigInt(b);\n}\n\nexport function geq(a, b) {\n    return BigInt(a) >= BigInt(b);\n}\n\nexport function band(a, b) {\n    return BigInt(a) & BigInt(b);\n}\n\nexport function bor(a, b) {\n    return BigInt(a) | BigInt(b);\n}\n\nexport function bxor(a, b) {\n    return BigInt(a) ^ BigInt(b);\n}\n\nexport function land(a, b) {\n    return BigInt(a) && BigInt(b);\n}\n\nexport function lor(a, b) {\n    return BigInt(a) || BigInt(b);\n}\n\nexport function lnot(a) {\n    return !BigInt(a);\n}\n\n// Returns a buffer with Little Endian Representation\nexport function toRprLE(buff, o, e, n8) {\n    const s = \"0000000\" + e.toString(16);\n    const v = new Uint32Array(buff.buffer, buff.byteOffset + o, n8/4);\n    const l = (((s.length-7)*4 - 1) >> 5)+1;    // Number of 32bit words;\n    for (let i=0; i<l; i++) v[i] = parseInt(s.substring(s.length-8*i-8, s.length-8*i), 16);\n    for (let i=l; i<v.length; i++) v[i] = 0;\n    for (let i=v.length*4; i<n8; i++) buff[i] = toNumber(band(shiftRight(e, i*8), 0xFF));\n}\n\n// Returns a buffer with Big Endian Representation\nexport function toRprBE(buff, o, e, n8) {\n    const s = \"0000000\" + e.toString(16);\n    const v = new DataView(buff.buffer, buff.byteOffset + o, n8);\n    const l = (((s.length-7)*4 - 1) >> 5)+1;    // Number of 32bit words;\n    for (let i=0; i<l; i++) v.setUint32(n8-i*4 -4, parseInt(s.substring(s.length-8*i-8, s.length-8*i), 16), false);\n    for (let i=0; i<n8/4-l; i++) v[i] = 0;\n}\n\n// Pases a buffer with Little Endian Representation\nexport function fromRprLE(buff, o, n8) {\n    n8 = n8 || buff.byteLength;\n    o = o || 0;\n    const v = new Uint32Array(buff.buffer, buff.byteOffset + o, n8/4);\n    const a = new Array(n8/4);\n    v.forEach( (ch,i) => a[a.length-i-1] = ch.toString(16).padStart(8,\"0\") );\n    return fromString(a.join(\"\"), 16);\n}\n\n// Pases a buffer with Big Endian Representation\nexport function fromRprBE(buff, o, n8) {\n    n8 = n8 || buff.byteLength;\n    o = o || 0;\n    const v = new DataView(buff.buffer, buff.byteOffset + o, n8);\n    const a = new Array(n8/4);\n    for (let i=0; i<n8/4; i++) {\n        a[i] = v.getUint32(i*4, false).toString(16).padStart(8, \"0\");\n    }\n    return fromString(a.join(\"\"), 16);\n}\n\nexport function toString(a, radix) {\n    return a.toString(radix);\n}\n\nexport function toLEBuff(a) {\n    const buff = new Uint8Array(Math.floor((bitLength(a) - 1) / 8) +1);\n    toRprLE(buff, 0, a, buff.byteLength);\n    return buff;\n}\n\nexport const zero = e(0);\nexport const one = e(1);\n\n\n\n\n\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 312, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/nisch/Desktop/Velocity-1/node_modules/ffjavascript/src/polfield.js"],"sourcesContent":["/*\n    Copyright 2018 0kims association.\n\n    This file is part of snarkjs.\n\n    snarkjs is a free software: you can redistribute it and/or\n    modify it under the terms of the GNU General Public License as published by the\n    Free Software Foundation, either version 3 of the License, or (at your option)\n    any later version.\n\n    snarkjs is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY\n    or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n    more details.\n\n    You should have received a copy of the GNU General Public License along with\n    snarkjs. If not, see <https://www.gnu.org/licenses/>.\n*/\n\n/*\n    This library does operations on polynomials with coefficients in a field F.\n\n    A polynomial P(x) = p0 + p1 * x + p2 * x^2 + ... + pn * x^n  is represented\n    by the array [ p0, p1, p2, ... , pn ].\n */\n\nexport default class PolField {\n    constructor (F) {\n        this.F = F;\n\n        let rem = F.sqrt_t;\n        let s = F.sqrt_s;\n\n        const five = this.F.add(this.F.add(this.F.two, this.F.two), this.F.one);\n\n        this.w = new Array(s+1);\n        this.wi = new Array(s+1);\n        this.w[s] = this.F.pow(five, rem);\n        this.wi[s] = this.F.inv(this.w[s]);\n\n        let n=s-1;\n        while (n>=0) {\n            this.w[n] = this.F.square(this.w[n+1]);\n            this.wi[n] = this.F.square(this.wi[n+1]);\n            n--;\n        }\n\n\n        this.roots = [];\n/*        for (let i=0; i<16; i++) {\n            let r = this.F.one;\n            n = 1 << i;\n            const rootsi = new Array(n);\n            for (let j=0; j<n; j++) {\n                rootsi[j] = r;\n                r = this.F.mul(r, this.w[i]);\n            }\n\n            this.roots.push(rootsi);\n        }\n    */\n        this._setRoots(15);\n    }\n\n    _setRoots(n) {\n        if (n > this.F.sqrt_s) n = this.s;\n        for (let i=n; (i>=0) && (!this.roots[i]); i--) {\n            let r = this.F.one;\n            const nroots = 1 << i;\n            const rootsi = new Array(nroots);\n            for (let j=0; j<nroots; j++) {\n                rootsi[j] = r;\n                r = this.F.mul(r, this.w[i]);\n            }\n            this.roots[i] = rootsi;\n        }\n    }\n\n    add(a, b) {\n        const m = Math.max(a.length, b.length);\n        const res = new Array(m);\n        for (let i=0; i<m; i++) {\n            res[i] = this.F.add(a[i] || this.F.zero, b[i] || this.F.zero);\n        }\n        return this.reduce(res);\n    }\n\n    double(a) {\n        return this.add(a,a);\n    }\n\n    sub(a, b) {\n        const m = Math.max(a.length, b.length);\n        const res = new Array(m);\n        for (let i=0; i<m; i++) {\n            res[i] = this.F.sub(a[i] || this.F.zero, b[i] || this.F.zero);\n        }\n        return this.reduce(res);\n    }\n\n    mulScalar(p, b) {\n        if (this.F.eq(b, this.F.zero)) return [];\n        if (this.F.eq(b, this.F.one)) return p;\n        const res = new Array(p.length);\n        for (let i=0; i<p.length; i++) {\n            res[i] = this.F.mul(p[i], b);\n        }\n        return res;\n    }\n\n\n\n    mul(a, b) {\n        if (a.length == 0) return [];\n        if (b.length == 0) return [];\n        if (a.length == 1) return this.mulScalar(b, a[0]);\n        if (b.length == 1) return this.mulScalar(a, b[0]);\n\n        if (b.length > a.length) {\n            [b, a] = [a, b];\n        }\n\n        if ((b.length <= 2) || (b.length < log2(a.length))) {\n            return this.mulNormal(a,b);\n        } else {\n            return this.mulFFT(a,b);\n        }\n    }\n\n    mulNormal(a, b) {\n        let res = [];\n        for (let i=0; i<b.length; i++) {\n            res = this.add(res, this.scaleX(this.mulScalar(a, b[i]), i) );\n        }\n        return res;\n    }\n\n    mulFFT(a,b) {\n        const longestN = Math.max(a.length, b.length);\n        const bitsResult = log2(longestN-1)+2;\n        this._setRoots(bitsResult);\n\n        const m = 1 << bitsResult;\n        const ea = this.extend(a,m);\n        const eb = this.extend(b,m);\n\n        const ta = __fft(this, ea, bitsResult, 0, 1, false);\n        const tb = __fft(this, eb, bitsResult, 0, 1, false);\n\n        const tres = new Array(m);\n\n        for (let i=0; i<m; i++) {\n            tres[i] = this.F.mul(ta[i], tb[i]);\n        }\n\n        const res = __fft(this, tres, bitsResult, 0, 1, true);\n\n        const twoinvm = this.F.inv( this.F.mulScalar(this.F.one, m) );\n        const resn = new Array(m);\n        for (let i=0; i<m; i++) {\n            resn[i] = this.F.mul(res[(m-i)%m], twoinvm);\n        }\n\n        return this.reduce(resn);\n    }\n\n\n\n    square(a) {\n        return this.mul(a,a);\n    }\n\n    scaleX(p, n) {\n        if (n==0) {\n            return p;\n        } else if (n>0) {\n            const z = new Array(n).fill(this.F.zero);\n            return z.concat(p);\n        } else {\n            if (-n >= p.length) return [];\n            return p.slice(-n);\n        }\n    }\n\n    eval2(p, x) {\n        let v = this.F.zero;\n        let ix = this.F.one;\n        for (let i=0; i<p.length; i++) {\n            v = this.F.add(v, this.F.mul(p[i], ix));\n            ix = this.F.mul(ix, x);\n        }\n        return v;\n    }\n\n    evaluate(p,x) {\n        const F = this.F;\n        if (p.length == 0) return F.zero;\n        const m = this._next2Power(p.length);\n        const ep = this.extend(p, m);\n\n        return _eval(ep, x, 0, 1, m);\n\n        function _eval(p, x, offset, step, n) {\n            if (n==1) return p[offset];\n            const newX = F.square(x);\n            const res= F.add(\n                _eval(p, newX, offset, step << 1, n >> 1),\n                F.mul(\n                    x,\n                    _eval(p, newX, offset+step , step << 1, n >> 1)));\n            return res;\n        }\n    }\n\n    lagrange(points) {\n        let roots = [this.F.one];\n        for (let i=0; i<points.length; i++) {\n            roots = this.mul(roots, [this.F.neg(points[i][0]), this.F.one]);\n        }\n\n        let sum = [];\n        for (let i=0; i<points.length; i++) {\n            let mpol = this.ruffini(roots, points[i][0]);\n            const factor =\n                this.F.mul(\n                    this.F.inv(this.evaluate(mpol, points[i][0])),\n                    points[i][1]);\n            mpol = this.mulScalar(mpol, factor);\n            sum = this.add(sum, mpol);\n        }\n        return sum;\n    }\n\n\n    fft(p) {\n        if (p.length <= 1) return p;\n        const bits = log2(p.length-1)+1;\n        this._setRoots(bits);\n\n        const m = 1 << bits;\n        const ep = this.extend(p, m);\n        const res = __fft(this, ep, bits, 0, 1);\n        return res;\n    }\n\n    fft2(p) {\n        if (p.length <= 1) return p;\n        const bits = log2(p.length-1)+1;\n        this._setRoots(bits);\n\n        const m = 1 << bits;\n        const ep = this.extend(p, m);\n        __bitReverse(ep, bits);\n        const res = __fft2(this, ep, bits);\n        return res;\n    }\n\n\n    ifft(p) {\n\n        if (p.length <= 1) return p;\n        const bits = log2(p.length-1)+1;\n        this._setRoots(bits);\n        const m = 1 << bits;\n        const ep = this.extend(p, m);\n        const res =  __fft(this, ep, bits, 0, 1);\n\n        const twoinvm = this.F.inv( this.F.mulScalar(this.F.one, m) );\n        const resn = new Array(m);\n        for (let i=0; i<m; i++) {\n            resn[i] = this.F.mul(res[(m-i)%m], twoinvm);\n        }\n\n        return resn;\n\n    }\n\n\n    ifft2(p) {\n\n        if (p.length <= 1) return p;\n        const bits = log2(p.length-1)+1;\n        this._setRoots(bits);\n        const m = 1 << bits;\n        const ep = this.extend(p, m);\n        __bitReverse(ep, bits);\n        const res =  __fft2(this, ep, bits, 0, 1);\n\n        const twoinvm = this.F.inv( this.F.mulScalar(this.F.one, m) );\n        const resn = new Array(m);\n        for (let i=0; i<m; i++) {\n            resn[i] = this.F.mul(res[(m-i)%m], twoinvm);\n        }\n\n        return resn;\n\n    }\n\n    _fft(pall, bits, offset, step) {\n\n        const n = 1 << bits;\n        if (n==1) {\n            return [ pall[offset] ];\n        }\n\n        const ndiv2 = n >> 1;\n        const p1 = this._fft(pall, bits-1, offset, step*2);\n        const p2 = this._fft(pall, bits-1, offset+step, step*2);\n\n        const out = new Array(n);\n\n        let m= this.F.one;\n        for (let i=0; i<ndiv2; i++) {\n            out[i] = this.F.add(p1[i], this.F.mul(m, p2[i]));\n            out[i+ndiv2] = this.F.sub(p1[i], this.F.mul(m, p2[i]));\n            m = this.F.mul(m, this.w[bits]);\n        }\n\n        return out;\n    }\n\n    extend(p, e) {\n        if (e == p.length) return p;\n        const z = new Array(e-p.length).fill(this.F.zero);\n\n        return p.concat(z);\n    }\n\n    reduce(p) {\n        if (p.length == 0) return p;\n        if (! this.F.eq(p[p.length-1], this.F.zero) ) return p;\n        let i=p.length-1;\n        while( i>0 && this.F.eq(p[i], this.F.zero) ) i--;\n        return p.slice(0, i+1);\n    }\n\n    eq(a, b) {\n        const pa = this.reduce(a);\n        const pb = this.reduce(b);\n\n        if (pa.length != pb.length) return false;\n        for (let i=0; i<pb.length; i++) {\n            if (!this.F.eq(pa[i], pb[i])) return false;\n        }\n\n        return true;\n    }\n\n    ruffini(p, r) {\n        const res = new Array(p.length-1);\n        res[res.length-1] = p[p.length-1];\n        for (let i = res.length-2; i>=0; i--) {\n            res[i] = this.F.add(this.F.mul(res[i+1], r), p[i+1]);\n        }\n        return res;\n    }\n\n    _next2Power(v) {\n        v--;\n        v |= v >> 1;\n        v |= v >> 2;\n        v |= v >> 4;\n        v |= v >> 8;\n        v |= v >> 16;\n        v++;\n        return v;\n    }\n\n    toString(p) {\n        const ap = this.normalize(p);\n        let S = \"\";\n        for (let i=ap.length-1; i>=0; i--) {\n            if (!this.F.eq(p[i], this.F.zero)) {\n                if (S!=\"\") S += \" + \";\n                S = S + p[i].toString(10);\n                if (i>0) {\n                    S = S + \"x\";\n                    if (i>1) {\n                        S = S + \"^\" +i;\n                    }\n                }\n            }\n        }\n        return S;\n    }\n\n    normalize(p) {\n        const res  = new Array(p.length);\n        for (let i=0; i<p.length; i++) {\n            res[i] = this.F.normalize(p[i]);\n        }\n        return res;\n    }\n\n\n    _reciprocal(p, bits) {\n        const k = 1 << bits;\n        if (k==1) {\n            return [ this.F.inv(p[0]) ];\n        }\n        const np = this.scaleX(p, -k/2);\n        const q = this._reciprocal(np, bits-1);\n        const a = this.scaleX(this.double(q), 3*k/2-2);\n        const b = this.mul( this.square(q), p);\n\n        return this.scaleX(this.sub(a,b),   -(k-2));\n    }\n\n    // divides x^m / v\n    _div2(m, v) {\n        const kbits = log2(v.length-1)+1;\n        const k = 1 << kbits;\n\n        const scaleV = k - v.length;\n\n        // rec = x^(k - 2) / v* x^scaleV =>\n        // rec = x^(k-2-scaleV)/ v\n        //\n        // res = x^m/v = x^(m + (2*k-2 - scaleV) - (2*k-2 - scaleV)) /v =>\n        // res = rec * x^(m - (2*k-2 - scaleV)) =>\n        // res = rec * x^(m - 2*k + 2 + scaleV)\n\n        const rec = this._reciprocal(this.scaleX(v, scaleV), kbits);\n        const res = this.scaleX(rec, m - 2*k + 2 + scaleV);\n\n        return res;\n    }\n\n    div(_u, _v) {\n        if (_u.length < _v.length) return [];\n        const kbits = log2(_v.length-1)+1;\n        const k = 1 << kbits;\n\n        const u = this.scaleX(_u, k-_v.length);\n        const v = this.scaleX(_v, k-_v.length);\n\n        const n = v.length-1;\n        let m = u.length-1;\n\n        const s = this._reciprocal(v, kbits);\n        let t;\n        if (m>2*n) {\n            t = this.sub(this.scaleX([this.F.one], 2*n), this.mul(s, v));\n        }\n\n        let q = [];\n        let rem = u;\n        let us, ut;\n        let finish = false;\n\n        while (!finish) {\n            us = this.mul(rem, s);\n            q = this.add(q, this.scaleX(us, -2*n));\n\n            if ( m > 2*n ) {\n                ut = this.mul(rem, t);\n                rem = this.scaleX(ut, -2*n);\n                m = rem.length-1;\n            } else {\n                finish = true;\n            }\n        }\n\n        return q;\n    }\n\n\n    // returns the ith nth-root of one\n    oneRoot(n, i) {\n        let nbits = log2(n-1)+1;\n        let res = this.F.one;\n        let r = i;\n\n        if(i>=n) {\n            throw new Error(\"Given 'i' should be lower than 'n'\");\n        }\n        else if (1<<nbits !== n) {\n            throw new Error(`Internal errlr: ${n} should equal ${1<<nbits}`);\n        }\n\n        while (r>0) {\n            if (r & 1 == 1) {\n                res = this.F.mul(res, this.w[nbits]);\n            }\n            r = r >> 1;\n            nbits --;\n        }\n        return res;\n    }\n\n    computeVanishingPolinomial(bits, t) {\n        const m = 1 << bits;\n        return this.F.sub(this.F.pow(t, m), this.F.one);\n    }\n\n    evaluateLagrangePolynomials(bits, t) {\n        const m= 1 << bits;\n        const tm = this.F.pow(t, m);\n        const u= new Array(m).fill(this.F.zero);\n        this._setRoots(bits);\n        const omega = this.w[bits];\n\n        if (this.F.eq(tm, this.F.one)) {\n            for (let i = 0; i < m; i++) {\n                if (this.F.eq(this.roots[bits][0],t)) { // i.e., t equals omega^i\n                    u[i] = this.F.one;\n                    return u;\n                }\n            }\n        }\n\n        const z = this.F.sub(tm, this.F.one);\n        //        let l = this.F.mul(z,  this.F.pow(this.F.twoinv, m));\n        let l = this.F.mul(z,  this.F.inv(this.F.e(m)));\n        for (let i = 0; i < m; i++) {\n            u[i] = this.F.mul(l, this.F.inv(this.F.sub(t,this.roots[bits][i])));\n            l = this.F.mul(l, omega);\n        }\n\n        return u;\n    }\n\n    log2(V) {\n        return log2(V);\n    }\n}\n\nfunction log2( V )\n{\n    return( ( ( V & 0xFFFF0000 ) !== 0 ? ( V &= 0xFFFF0000, 16 ) : 0 ) | ( ( V & 0xFF00FF00 ) !== 0 ? ( V &= 0xFF00FF00, 8 ) : 0 ) | ( ( V & 0xF0F0F0F0 ) !== 0 ? ( V &= 0xF0F0F0F0, 4 ) : 0 ) | ( ( V & 0xCCCCCCCC ) !== 0 ? ( V &= 0xCCCCCCCC, 2 ) : 0 ) | ( ( V & 0xAAAAAAAA ) !== 0 ) );\n}\n\n\nfunction __fft(PF, pall, bits, offset, step) {\n\n    const n = 1 << bits;\n    if (n==1) {\n        return [ pall[offset] ];\n    } else if (n==2) {\n        return [\n            PF.F.add(pall[offset], pall[offset + step]),\n            PF.F.sub(pall[offset], pall[offset + step])];\n    }\n\n    const ndiv2 = n >> 1;\n    const p1 = __fft(PF, pall, bits-1, offset, step*2);\n    const p2 = __fft(PF, pall, bits-1, offset+step, step*2);\n\n    const out = new Array(n);\n\n    for (let i=0; i<ndiv2; i++) {\n        out[i] = PF.F.add(p1[i], PF.F.mul(PF.roots[bits][i], p2[i]));\n        out[i+ndiv2] = PF.F.sub(p1[i], PF.F.mul(PF.roots[bits][i], p2[i]));\n    }\n\n    return out;\n}\n\n\nfunction __fft2(PF, pall, bits) {\n\n    const n = 1 << bits;\n    if (n==1) {\n        return [ pall[0] ];\n    }\n\n    const ndiv2 = n >> 1;\n    const p1 = __fft2(PF, pall.slice(0, ndiv2), bits-1);\n    const p2 = __fft2(PF, pall.slice(ndiv2), bits-1);\n\n    const out = new Array(n);\n\n    for (let i=0; i<ndiv2; i++) {\n        out[i] = PF.F.add(p1[i], PF.F.mul(PF.roots[bits][i], p2[i]));\n        out[i+ndiv2] = PF.F.sub(p1[i], PF.F.mul(PF.roots[bits][i], p2[i]));\n    }\n\n    return out;\n}\n\nconst _revTable = [];\nfor (let i=0; i<256; i++) {\n    _revTable[i] = _revSlow(i, 8);\n}\n\nfunction _revSlow(idx, bits) {\n    let res =0;\n    let a = idx;\n    for (let i=0; i<bits; i++) {\n        res <<= 1;\n        res = res | (a &1);\n        a >>=1;\n    }\n    return res;\n}\n\nfunction rev(idx, bits) {\n    return (\n        _revTable[idx >>> 24] |\n        (_revTable[(idx >>> 16) & 0xFF] << 8) |\n        (_revTable[(idx >>> 8) & 0xFF] << 16) |\n        (_revTable[idx & 0xFF] << 24)\n    ) >>> (32-bits);\n}\n\nfunction __bitReverse(p, bits) {\n    for (let k=0; k<p.length; k++) {\n        const r = rev(k, bits);\n        if (r>k) {\n            const tmp= p[k];\n            p[k] = p[r];\n            p[r] = tmp;\n        }\n    }\n\n}\n\n\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 824, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/nisch/Desktop/Velocity-1/node_modules/ffjavascript/src/futils.js"],"sourcesContent":["/*\n    Copyright 2018 0kims association.\n\n    This file is part of snarkjs.\n\n    snarkjs is a free software: you can redistribute it and/or\n    modify it under the terms of the GNU General Public License as published by the\n    Free Software Foundation, either version 3 of the License, or (at your option)\n    any later version.\n\n    snarkjs is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY\n    or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n    more details.\n\n    You should have received a copy of the GNU General Public License along with\n    snarkjs. If not, see <https://www.gnu.org/licenses/>.\n*/\n\nimport * as Scalar from \"./scalar.js\";\n\n\nexport function mulScalar(F, base, e) {\n    let res;\n\n    if (Scalar.isZero(e)) return F.zero;\n\n    const n = Scalar.naf(e);\n\n    if (n[n.length-1] == 1) {\n        res = base;\n    } else if (n[n.length-1] == -1) {\n        res = F.neg(base);\n    } else {\n        throw new Error(\"invlaud NAF\");\n    }\n\n    for (let i=n.length-2; i>=0; i--) {\n\n        res = F.double(res);\n\n        if (n[i] == 1) {\n            res = F.add(res, base);\n        } else if (n[i] == -1) {\n            res = F.sub(res, base);\n        }\n    }\n\n    return res;\n}\n\n\n/*\nexports.mulScalar = (F, base, e) =>{\n    let res = F.zero;\n    let rem = bigInt(e);\n    let exp = base;\n\n    while (! rem.eq(bigInt.zero)) {\n        if (rem.and(bigInt.one).eq(bigInt.one)) {\n            res = F.add(res, exp);\n        }\n        exp = F.double(exp);\n        rem = rem.shiftRight(1);\n    }\n\n    return res;\n};\n*/\n\n\nexport function exp(F, base, e) {\n\n    if (Scalar.isZero(e)) return F.one;\n\n    const n = Scalar.bits(e);\n\n    if (n.length==0) return F.one;\n\n    let res = base;\n\n    for (let i=n.length-2; i>=0; i--) {\n\n        res = F.square(res);\n\n        if (n[i]) {\n            res = F.mul(res, base);\n        }\n    }\n\n    return res;\n}\n\n\n"],"names":[],"mappings":";;;;;;AAAA;;;;;;;;;;;;;;;;;AAiBA,GAEA;;AAGO,SAAS,UAAU,CAAC,EAAE,IAAI,EAAE,CAAC;IAChC,IAAI;IAEJ,IAAI,yJAAa,CAAC,IAAI,OAAO,EAAE,IAAI;IAEnC,MAAM,IAAI,sJAAU,CAAC;IAErB,IAAI,CAAC,CAAC,EAAE,MAAM,GAAC,EAAE,IAAI,GAAG;QACpB,MAAM;IACV,OAAO,IAAI,CAAC,CAAC,EAAE,MAAM,GAAC,EAAE,IAAI,CAAC,GAAG;QAC5B,MAAM,EAAE,GAAG,CAAC;IAChB,OAAO;QACH,MAAM,IAAI,MAAM;IACpB;IAEA,IAAK,IAAI,IAAE,EAAE,MAAM,GAAC,GAAG,KAAG,GAAG,IAAK;QAE9B,MAAM,EAAE,MAAM,CAAC;QAEf,IAAI,CAAC,CAAC,EAAE,IAAI,GAAG;YACX,MAAM,EAAE,GAAG,CAAC,KAAK;QACrB,OAAO,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG;YACnB,MAAM,EAAE,GAAG,CAAC,KAAK;QACrB;IACJ;IAEA,OAAO;AACX;AAsBO,SAAS,IAAI,CAAC,EAAE,IAAI,EAAE,CAAC;IAE1B,IAAI,yJAAa,CAAC,IAAI,OAAO,EAAE,GAAG;IAElC,MAAM,IAAI,uJAAW,CAAC;IAEtB,IAAI,EAAE,MAAM,IAAE,GAAG,OAAO,EAAE,GAAG;IAE7B,IAAI,MAAM;IAEV,IAAK,IAAI,IAAE,EAAE,MAAM,GAAC,GAAG,KAAG,GAAG,IAAK;QAE9B,MAAM,EAAE,MAAM,CAAC;QAEf,IAAI,CAAC,CAAC,EAAE,EAAE;YACN,MAAM,EAAE,GAAG,CAAC,KAAK;QACrB;IACJ;IAEA,OAAO;AACX","ignoreList":[0]}},
    {"offset": {"line": 887, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/nisch/Desktop/Velocity-1/node_modules/ffjavascript/src/fsqrt.js"],"sourcesContent":["import * as Scalar from \"./scalar.js\";\n// Check here: https://eprint.iacr.org/2012/685.pdf\n\nexport default function buildSqrt (F) {\n    if ((F.m % 2) == 1) {\n        if (Scalar.eq(Scalar.mod(F.p, 4), 1 )) {\n            if (Scalar.eq(Scalar.mod(F.p, 8), 1 )) {\n                if (Scalar.eq(Scalar.mod(F.p, 16), 1 )) {\n                    // alg7_muller(F);\n                    alg5_tonelliShanks(F);\n                } else if (Scalar.eq(Scalar.mod(F.p, 16), 9 )) {\n                    alg4_kong(F);\n                } else {\n                    throw new Error(\"Field withot sqrt\");\n                }\n            } else if (Scalar.eq(Scalar.mod(F.p, 8), 5 )) {\n                alg3_atkin(F);\n            } else {\n                throw new Error(\"Field withot sqrt\");\n            }\n        } else if (Scalar.eq(Scalar.mod(F.p, 4), 3 )) {\n            alg2_shanks(F);\n        }\n    } else {\n        const pm2mod4 = Scalar.mod(Scalar.pow(F.p, F.m/2), 4);\n        if (pm2mod4 == 1) {\n            alg10_adj(F);\n        } else if (pm2mod4 == 3) {\n            alg9_adj(F);\n        } else {\n            alg8_complex(F);\n        }\n\n    }\n}\n\n\nfunction alg5_tonelliShanks(F) {\n    F.sqrt_q = Scalar.pow(F.p, F.m);\n\n    F.sqrt_s = 0;\n    F.sqrt_t = Scalar.sub(F.sqrt_q, 1);\n\n    while (!Scalar.isOdd(F.sqrt_t)) {\n        F.sqrt_s = F.sqrt_s + 1;\n        F.sqrt_t = Scalar.div(F.sqrt_t, 2);\n    }\n\n    let c0 = F.one;\n\n    while (F.eq(c0, F.one)) {\n        const c = F.random();\n        F.sqrt_z = F.pow(c, F.sqrt_t);\n        c0 = F.pow(F.sqrt_z, 2 ** (F.sqrt_s-1) );\n    }\n\n    F.sqrt_tm1d2 = Scalar.div(Scalar.sub(F.sqrt_t, 1),2);\n\n    F.sqrt = function(a) {\n        const F=this;\n        if (F.isZero(a)) return F.zero;\n        let w = F.pow(a, F.sqrt_tm1d2);\n        const a0 = F.pow( F.mul(F.square(w), a), 2 ** (F.sqrt_s-1) );\n        if (F.eq(a0, F.negone)) return null;\n\n        let v = F.sqrt_s;\n        let x = F.mul(a, w);\n        let b = F.mul(x, w);\n        let z = F.sqrt_z;\n        while (!F.eq(b, F.one)) {\n            let b2k = F.square(b);\n            let k=1;\n            while (!F.eq(b2k, F.one)) {\n                b2k = F.square(b2k);\n                k++;\n            }\n\n            w = z;\n            for (let i=0; i<v-k-1; i++) {\n                w = F.square(w);\n            }\n            z = F.square(w);\n            b = F.mul(b, z);\n            x = F.mul(x, w);\n            v = k;\n        }\n        return F.geq(x, F.zero) ? x : F.neg(x);\n    };\n}\n\nfunction alg4_kong(F) {\n    F.sqrt = function() {\n        throw new Error(\"Sqrt alg 4 not implemented\");\n    };\n}\n\nfunction alg3_atkin(F) {\n    F.sqrt = function() {\n        throw new Error(\"Sqrt alg 3 not implemented\");\n    };\n}\n\nfunction alg2_shanks(F) {\n\n    F.sqrt_q = Scalar.pow(F.p, F.m);\n    F.sqrt_e1 = Scalar.div( Scalar.sub(F.sqrt_q, 3) , 4);\n\n    F.sqrt = function(a) {\n        if (this.isZero(a)) return this.zero;\n\n        // Test that have solution\n        const a1 = this.pow(a, this.sqrt_e1);\n\n        const a0 = this.mul(this.square(a1), a);\n\n        if ( this.eq(a0, this.negone) ) return null;\n\n        const x = this.mul(a1, a);\n\n        return F.geq(x, F.zero) ? x : F.neg(x);\n    };\n}\n\nfunction alg10_adj(F) {\n    F.sqrt = function() {\n        throw new Error(\"Sqrt alg 10 not implemented\");\n    };\n}\n\nfunction alg9_adj(F) {\n    F.sqrt_q = Scalar.pow(F.p, F.m/2);\n    F.sqrt_e34 = Scalar.div( Scalar.sub(F.sqrt_q, 3) , 4);\n    F.sqrt_e12 = Scalar.div( Scalar.sub(F.sqrt_q, 1) , 2);\n\n    F.frobenius = function(n, x) {\n        if ((n%2) == 1) {\n            return F.conjugate(x);\n        } else {\n            return x;\n        }\n    };\n\n    F.sqrt = function(a) {\n        const F = this;\n        const a1 = F.pow(a, F.sqrt_e34);\n        const alfa = F.mul(F.square(a1), a);\n        const a0 = F.mul(F.frobenius(1, alfa), alfa);\n        if (F.eq(a0, F.negone)) return null;\n        const x0 = F.mul(a1, a);\n        let x;\n        if (F.eq(alfa, F.negone)) {\n            x = F.mul(x0, [F.F.zero, F.F.one]);\n        } else {\n            const b = F.pow(F.add(F.one, alfa), F.sqrt_e12);\n            x = F.mul(b, x0);\n        }\n        return F.geq(x, F.zero) ? x : F.neg(x);\n    };\n}\n\n\nfunction alg8_complex(F) {\n    F.sqrt = function() {\n        throw new Error(\"Sqrt alg 8 not implemented\");\n    };\n}\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 1036, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/nisch/Desktop/Velocity-1/node_modules/ffjavascript/src/chacha.js"],"sourcesContent":["\n\nimport * as Scalar from \"./scalar.js\";\n\n\nfunction quarterRound(st, a, b, c, d) {\n\n    st[a] = (st[a] + st[b]) >>> 0;\n    st[d] = (st[d] ^ st[a]) >>> 0;\n    st[d] = ((st[d] << 16) | ((st[d]>>>16) & 0xFFFF)) >>> 0;\n\n    st[c] = (st[c] + st[d]) >>> 0;\n    st[b] = (st[b] ^ st[c]) >>> 0;\n    st[b] = ((st[b] << 12) | ((st[b]>>>20) & 0xFFF)) >>> 0;\n\n    st[a] = (st[a] + st[b]) >>> 0;\n    st[d] = (st[d] ^ st[a]) >>> 0;\n    st[d] = ((st[d] << 8) | ((st[d]>>>24) & 0xFF)) >>> 0;\n\n    st[c] = (st[c] + st[d]) >>> 0;\n    st[b] = (st[b] ^ st[c]) >>> 0;\n    st[b] = ((st[b] << 7) | ((st[b]>>>25) & 0x7F)) >>> 0;\n}\n\nfunction doubleRound(st) {\n    quarterRound(st, 0, 4, 8,12);\n    quarterRound(st, 1, 5, 9,13);\n    quarterRound(st, 2, 6,10,14);\n    quarterRound(st, 3, 7,11,15);\n\n    quarterRound(st, 0, 5,10,15);\n    quarterRound(st, 1, 6,11,12);\n    quarterRound(st, 2, 7, 8,13);\n    quarterRound(st, 3, 4, 9,14);\n}\n\nexport default class ChaCha {\n\n    constructor(seed) {\n        seed = seed || [0,0,0,0,0,0,0,0];\n        this.state = [\n            0x61707865,\n            0x3320646E,\n            0x79622D32,\n            0x6B206574,\n            seed[0],\n            seed[1],\n            seed[2],\n            seed[3],\n            seed[4],\n            seed[5],\n            seed[6],\n            seed[7],\n            0,\n            0,\n            0,\n            0\n        ];\n        this.idx = 16;\n        this.buff = new Array(16);\n    }\n\n    nextU32() {\n        if (this.idx == 16) this.update();\n        return this.buff[this.idx++];\n    }\n\n    nextU64() {\n        return Scalar.add(Scalar.mul(this.nextU32(), 0x100000000), this.nextU32());\n    }\n\n    nextBool() {\n        return (this.nextU32() & 1) == 1;\n    }\n\n    update() {\n        // Copy the state\n        for (let i=0; i<16; i++) this.buff[i] = this.state[i];\n\n        // Apply the rounds\n        for (let i=0; i<10; i++) doubleRound(this.buff);\n\n        // Add to the initial\n        for (let i=0; i<16; i++) this.buff[i] = (this.buff[i] + this.state[i]) >>> 0;\n\n        this.idx = 0;\n\n        this.state[12] = (this.state[12] + 1) >>> 0;\n        if (this.state[12] != 0) return;\n        this.state[13] = (this.state[13] + 1) >>> 0;\n        if (this.state[13] != 0) return;\n        this.state[14] = (this.state[14] + 1) >>> 0;\n        if (this.state[14] != 0) return;\n        this.state[15] = (this.state[15] + 1) >>> 0;\n    }\n}\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 1130, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/nisch/Desktop/Velocity-1/node_modules/ffjavascript/src/random.js"],"sourcesContent":["import ChaCha from \"./chacha.js\";\nimport crypto from \"crypto\";\n\nexport function getRandomBytes(n) {\n    let array = new Uint8Array(n);\n    if (process.browser) { // Browser\n        if (typeof globalThis.crypto !== \"undefined\") { // Supported\n            globalThis.crypto.getRandomValues(array);\n        } else { // fallback\n            for (let i=0; i<n; i++) {\n                array[i] = (Math.random()*4294967296)>>>0;\n            }\n        }\n    }\n    else { // NodeJS\n        crypto.randomFillSync(array);\n    }\n    return array;\n}\n\nexport function getRandomSeed() {\n    const arr = getRandomBytes(32);\n    const arrV = new Uint32Array(arr.buffer);\n    const seed = [];\n    for (let i=0; i<8; i++) {\n        seed.push(arrV[i]);\n    }\n    return seed;\n}\n\nlet threadRng = null;\n\nexport function getThreadRng() {\n    if (threadRng) return threadRng;\n    threadRng = new ChaCha(getRandomSeed());\n    return threadRng;\n}\n"],"names":[],"mappings":";;;;;;;;AAAA;AACA;;;AAEO,SAAS,eAAe,CAAC;IAC5B,IAAI,QAAQ,IAAI,WAAW;IAC3B;;SASK;QACD,gHAAM,CAAC,cAAc,CAAC;IAC1B;IACA,OAAO;AACX;AAEO,SAAS;IACZ,MAAM,MAAM,eAAe;IAC3B,MAAM,OAAO,IAAI,YAAY,IAAI,MAAM;IACvC,MAAM,OAAO,EAAE;IACf,IAAK,IAAI,IAAE,GAAG,IAAE,GAAG,IAAK;QACpB,KAAK,IAAI,CAAC,IAAI,CAAC,EAAE;IACrB;IACA,OAAO;AACX;AAEA,IAAI,YAAY;AAET,SAAS;IACZ,IAAI,WAAW,OAAO;IACtB,YAAY,IAAI,0JAAM,CAAC;IACvB,OAAO;AACX","ignoreList":[0]}},
    {"offset": {"line": 1170, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/nisch/Desktop/Velocity-1/node_modules/ffjavascript/src/fft.js"],"sourcesContent":["/*\n    Copyright 2018 0kims association.\n\n    This file is part of snarkjs.\n\n    snarkjs is a free software: you can redistribute it and/or\n    modify it under the terms of the GNU General Public License as published by the\n    Free Software Foundation, either version 3 of the License, or (at your option)\n    any later version.\n\n    snarkjs is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY\n    or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n    more details.\n\n    You should have received a copy of the GNU General Public License along with\n    snarkjs. If not, see <https://www.gnu.org/licenses/>.\n*/\n\n/*\n    This library does operations on polynomials with coefficients in a field F.\n\n    A polynomial P(x) = p0 + p1 * x + p2 * x^2 + ... + pn * x^n  is represented\n    by the array [ p0, p1, p2, ... , pn ].\n */\n\nexport default class FFT {\n    constructor (G, F, opMulGF) {\n        this.F = F;\n        this.G = G;\n        this.opMulGF = opMulGF;\n\n        let rem = F.sqrt_t || F.t;\n        let s = F.sqrt_s || F.s;\n\n        let nqr = F.one;\n        while (F.eq(F.pow(nqr, F.half), F.one)) nqr = F.add(nqr, F.one);\n\n        this.w = new Array(s+1);\n        this.wi = new Array(s+1);\n        this.w[s] = this.F.pow(nqr, rem);\n        this.wi[s] = this.F.inv(this.w[s]);\n\n        let n=s-1;\n        while (n>=0) {\n            this.w[n] = this.F.square(this.w[n+1]);\n            this.wi[n] = this.F.square(this.wi[n+1]);\n            n--;\n        }\n\n\n        this.roots = [];\n        /*\n        for (let i=0; i<16; i++) {\n            let r = this.F.one;\n            n = 1 << i;\n            const rootsi = new Array(n);\n            for (let j=0; j<n; j++) {\n                rootsi[j] = r;\n                r = this.F.mul(r, this.w[i]);\n            }\n\n            this.roots.push(rootsi);\n        }\n        */\n        this._setRoots(Math.min(s, 15));\n    }\n\n    _setRoots(n) {\n        for (let i=n; (i>=0) && (!this.roots[i]); i--) {\n            let r = this.F.one;\n            const nroots = 1 << i;\n            const rootsi = new Array(nroots);\n            for (let j=0; j<nroots; j++) {\n                rootsi[j] = r;\n                r = this.F.mul(r, this.w[i]);\n            }\n\n            this.roots[i] = rootsi;\n        }\n    }\n\n    fft(p) {\n        if (p.length <= 1) return p;\n        const bits = log2(p.length-1)+1;\n        this._setRoots(bits);\n\n        const m = 1 << bits;\n        if (p.length != m) {\n            throw new Error(\"Size must be multiple of 2\");\n        }\n        const res = __fft(this, p, bits, 0, 1);\n        return res;\n    }\n\n    ifft(p) {\n\n        if (p.length <= 1) return p;\n        const bits = log2(p.length-1)+1;\n        this._setRoots(bits);\n        const m = 1 << bits;\n        if (p.length != m) {\n            throw new Error(\"Size must be multiple of 2\");\n        }\n        const res =  __fft(this, p, bits, 0, 1);\n        const twoinvm = this.F.inv( this.F.mulScalar(this.F.one, m) );\n        const resn = new Array(m);\n        for (let i=0; i<m; i++) {\n            resn[i] = this.opMulGF(res[(m-i)%m], twoinvm);\n        }\n\n        return resn;\n    }\n\n\n}\n\nfunction log2( V )\n{\n    return( ( ( V & 0xFFFF0000 ) !== 0 ? ( V &= 0xFFFF0000, 16 ) : 0 ) | ( ( V & 0xFF00FF00 ) !== 0 ? ( V &= 0xFF00FF00, 8 ) : 0 ) | ( ( V & 0xF0F0F0F0 ) !== 0 ? ( V &= 0xF0F0F0F0, 4 ) : 0 ) | ( ( V & 0xCCCCCCCC ) !== 0 ? ( V &= 0xCCCCCCCC, 2 ) : 0 ) | ( ( V & 0xAAAAAAAA ) !== 0 ) );\n}\n\n\nfunction __fft(PF, pall, bits, offset, step) {\n\n    const n = 1 << bits;\n    if (n==1) {\n        return [ pall[offset] ];\n    } else if (n==2) {\n        return [\n            PF.G.add(pall[offset], pall[offset + step]),\n            PF.G.sub(pall[offset], pall[offset + step])];\n    }\n\n    const ndiv2 = n >> 1;\n    const p1 = __fft(PF, pall, bits-1, offset, step*2);\n    const p2 = __fft(PF, pall, bits-1, offset+step, step*2);\n\n    const out = new Array(n);\n\n    for (let i=0; i<ndiv2; i++) {\n        out[i] = PF.G.add(p1[i], PF.opMulGF(p2[i], PF.roots[bits][i]));\n        out[i+ndiv2] = PF.G.sub(p1[i], PF.opMulGF(p2[i], PF.roots[bits][i]));\n    }\n\n    return out;\n}\n\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 1299, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/nisch/Desktop/Velocity-1/node_modules/ffjavascript/src/f1field.js"],"sourcesContent":["/* global BigInt */\nimport * as Scalar from \"./scalar.js\";\nimport * as futils from \"./futils.js\";\nimport buildSqrt from \"./fsqrt.js\";\nimport {getRandomBytes} from \"./random.js\";\nimport FFFT from \"./fft.js\";\n\nexport default class ZqField {\n    constructor(p) {\n        this.type=\"F1\";\n        this.one = BigInt(1);\n        this.zero = BigInt(0);\n        this.p = BigInt(p);\n        this.m = 1;\n        this.negone = this.p-this.one;\n        this.two = BigInt(2);\n        this.half = this.p >> this.one;\n        this.bitLength = Scalar.bitLength(this.p);\n        this.mask = (this.one << BigInt(this.bitLength)) - this.one;\n\n        this.n64 = Math.floor((this.bitLength - 1) / 64)+1;\n        this.n32 = this.n64*2;\n        this.n8 = this.n64*8;\n        this.R = this.e(this.one << BigInt(this.n64*64));\n        this.Ri = this.inv(this.R);\n\n        const e = this.negone >> this.one;\n        this.nqr = this.two;\n        let r = this.pow(this.nqr, e);\n        while (!this.eq(r, this.negone)) {\n            this.nqr = this.nqr + this.one;\n            r = this.pow(this.nqr, e);\n        }\n\n\n        this.s = 0;\n        this.t = this.negone;\n\n        while ((this.t & this.one) == this.zero) {\n            this.s = this.s + 1;\n            this.t = this.t >> this.one;\n        }\n\n        this.nqr_to_t = this.pow(this.nqr, this.t);\n\n        buildSqrt(this);\n\n        this.FFT = new FFFT(this, this, this.mul.bind(this));\n\n        this.fft = this.FFT.fft.bind(this.FFT);\n        this.ifft = this.FFT.ifft.bind(this.FFT);\n        this.w = this.FFT.w;\n        this.wi = this.FFT.wi; \n    \n        this.shift = this.square(this.nqr);\n        this.k = this.exp(this.nqr, 2**this.s);\n    }\n\n    e(a,b) {\n        let res;\n        if (!b) {\n            res = BigInt(a);\n        } else if (b==16) {\n            res = BigInt(\"0x\"+a);\n        }\n        if (res < 0) {\n            let nres = -res;\n            if (nres >= this.p) nres = nres % this.p;\n            return this.p - nres;\n        } else {\n            return (res>= this.p) ? res%this.p : res;\n        }\n\n    }\n\n    add(a, b) {\n        const res = a + b;\n        return res >= this.p ? res-this.p : res;\n    }\n\n    sub(a, b) {\n        return (a >= b) ? a-b : this.p-b+a;\n    }\n\n    neg(a) {\n        return a ? this.p-a : a;\n    }\n\n    mul(a, b) {\n        return (a*b)%this.p;\n    }\n\n    mulScalar(base, s) {\n        return (base * this.e(s)) % this.p;\n    }\n\n    square(a) {\n        return (a*a) % this.p;\n    }\n\n    eq(a, b) {\n        return a==b;\n    }\n\n    neq(a, b) {\n        return a!=b;\n    }\n\n    lt(a, b) {\n        const aa = (a > this.half) ? a - this.p : a;\n        const bb = (b > this.half) ? b - this.p : b;\n        return aa < bb;\n    }\n\n    gt(a, b) {\n        const aa = (a > this.half) ? a - this.p : a;\n        const bb = (b > this.half) ? b - this.p : b;\n        return aa > bb;\n    }\n\n    leq(a, b) {\n        const aa = (a > this.half) ? a - this.p : a;\n        const bb = (b > this.half) ? b - this.p : b;\n        return aa <= bb;\n    }\n\n    geq(a, b) {\n        const aa = (a > this.half) ? a - this.p : a;\n        const bb = (b > this.half) ? b - this.p : b;\n        return aa >= bb;\n    }\n\n    div(a, b) {\n        return this.mul(a, this.inv(b));\n    }\n\n    idiv(a, b) {\n        if (!b) throw new Error(\"Division by zero\");\n        return a / b;\n    }\n\n    inv(a) {\n        if (!a) throw new Error(\"Division by zero\");\n\n        let t = this.zero;\n        let r = this.p;\n        let newt = this.one;\n        let newr = a % this.p;\n        while (newr) {\n            let q = r/newr;\n            [t, newt] = [newt, t-q*newt];\n            [r, newr] = [newr, r-q*newr];\n        }\n        if (t<this.zero) t += this.p;\n        return t;\n    }\n\n    mod(a, b) {\n        return a % b;\n    }\n\n    pow(b, e) {\n        return futils.exp(this, b, e);\n    }\n\n    exp(b, e) {\n        return futils.exp(this, b, e);\n    }\n\n    band(a, b) {\n        const res =  ((a & b) & this.mask);\n        return res >= this.p ? res-this.p : res;\n    }\n\n    bor(a, b) {\n        const res =  ((a | b) & this.mask);\n        return res >= this.p ? res-this.p : res;\n    }\n\n    bxor(a, b) {\n        const res =  ((a ^ b) & this.mask);\n        return res >= this.p ? res-this.p : res;\n    }\n\n    bnot(a) {\n        const res = a ^ this.mask;\n        return res >= this.p ? res-this.p : res;\n    }\n\n    shl(a, b) {\n        if (Number(b) < this.bitLength) {\n            const res = (a << b) & this.mask;\n            return res >= this.p ? res-this.p : res;\n        } else {\n            const nb = this.p - b;\n            if (Number(nb) < this.bitLength) {\n                return a >> nb;\n            } else {\n                return this.zero;\n            }\n        }\n    }\n\n    shr(a, b) {\n        if (Number(b) < this.bitLength) {\n            return a >> b;\n        } else {\n            const nb = this.p - b;\n            if (Number(nb) < this.bitLength) {\n                const res = (a << nb) & this.mask;\n                return res >= this.p ? res-this.p : res;\n            } else {\n                return 0;\n            }\n        }\n    }\n\n    land(a, b) {\n        return (a && b) ? this.one : this.zero;\n    }\n\n    lor(a, b) {\n        return (a || b) ? this.one : this.zero;\n    }\n\n    lnot(a) {\n        return (a) ? this.zero : this.one;\n    }\n\n    sqrt_old(n) {\n\n        if (n == this.zero) return this.zero;\n\n        // Test that have solution\n        const res = this.pow(n, this.negone >> this.one);\n        if ( res != this.one ) return null;\n\n        let m = this.s;\n        let c = this.nqr_to_t;\n        let t = this.pow(n, this.t);\n        let r = this.pow(n, this.add(this.t, this.one) >> this.one );\n\n        while ( t != this.one ) {\n            let sq = this.square(t);\n            let i = 1;\n            while (sq != this.one ) {\n                i++;\n                sq = this.square(sq);\n            }\n\n            // b = c ^ m-i-1\n            let b = c;\n            for (let j=0; j< m-i-1; j ++) b = this.square(b);\n\n            m = i;\n            c = this.square(b);\n            t = this.mul(t, c);\n            r = this.mul(r, b);\n        }\n\n        if (r > (this.p >> this.one)) {\n            r = this.neg(r);\n        }\n\n        return r;\n    }\n\n    normalize(a, b) {\n        a = BigInt(a,b);\n        if (a < 0) {\n            let na = -a;\n            if (na >= this.p) na = na % this.p;\n            return this.p - na;\n        } else {\n            return (a>= this.p) ? a%this.p : a;\n        }\n    }\n\n    random() {\n        const nBytes = (this.bitLength*2 / 8);\n        let res =this.zero;\n        for (let i=0; i<nBytes; i++) {\n            res = (res << BigInt(8)) + BigInt(getRandomBytes(1)[0]);\n        }\n        return res % this.p;\n    }\n\n    toString(a, base) {\n        base = base || 10;\n        let vs;\n        if ((a > this.half)&&(base == 10)) {\n            const v = this.p-a;\n            vs = \"-\"+v.toString(base);\n        } else {\n            vs = a.toString(base);\n        }\n        return vs;\n    }\n\n    isZero(a) {\n        return a == this.zero;\n    }\n\n    fromRng(rng) {\n        let v;\n        do {\n            v=this.zero;\n            for (let i=0; i<this.n64; i++) {\n                v += rng.nextU64() << BigInt(64 *i);\n            }\n            v &= this.mask;\n        } while (v >= this.p);\n        v = (v * this.Ri) % this.p;   // Convert from montgomery\n        return v;\n    }\n\n    fft(a) {\n        return this.FFT.fft(a);\n    }\n\n    ifft(a) {\n        return this.FFT.ifft(a);\n    }\n\n    // Returns a buffer with Little Endian Representation\n    toRprLE(buff, o, e) {\n        Scalar.toRprLE(buff, o, e, this.n64*8);\n    }\n\n    // Returns a buffer with Big Endian Representation\n    toRprBE(buff, o, e) {\n        Scalar.toRprBE(buff, o, e, this.n64*8);\n    }\n\n    // Returns a buffer with Big Endian Montgomery Representation\n    toRprBEM(buff, o, e) {\n        return this.toRprBE(buff, o, this.mul(this.R, e));\n    }\n\n    toRprLEM(buff, o, e) {\n        return this.toRprLE(buff, o, this.mul(this.R, e));\n    }\n\n\n    // Pases a buffer with Little Endian Representation\n    fromRprLE(buff, o) {\n        return Scalar.fromRprLE(buff, o, this.n8);\n    }\n\n    // Pases a buffer with Big Endian Representation\n    fromRprBE(buff, o) {\n        return Scalar.fromRprBE(buff, o, this.n8);\n    }\n\n    fromRprLEM(buff, o) {\n        return this.mul(this.fromRprLE(buff, o), this.Ri);\n    }\n\n    fromRprBEM(buff, o) {\n        return this.mul(this.fromRprBE(buff, o), this.Ri);\n    }\n\n    toObject(a) {\n        return a;\n    }\n}"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 1616, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/nisch/Desktop/Velocity-1/node_modules/ffjavascript/src/f2field.js"],"sourcesContent":["/*\n    Copyright 2018 0kims association.\n\n    This file is part of snarkjs.\n\n    snarkjs is a free software: you can redistribute it and/or\n    modify it under the terms of the GNU General Public License as published by the\n    Free Software Foundation, either version 3 of the License, or (at your option)\n    any later version.\n\n    snarkjs is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY\n    or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n    more details.\n\n    You should have received a copy of the GNU General Public License along with\n    snarkjs. If not, see <https://www.gnu.org/licenses/>.\n*/\n\nimport * as fUtils from \"./futils.js\";\nimport buildSqrt from \"./fsqrt.js\";\n\nexport default class F2Field {\n    constructor(F, nonResidue) {\n        this.type=\"F2\";\n        this.F = F;\n        this.zero = [this.F.zero, this.F.zero];\n        this.one = [this.F.one, this.F.zero];\n        this.negone = this.neg(this.one);\n        this.nonResidue = nonResidue;\n        this.m = F.m*2;\n        this.p = F.p;\n        this.n64 = F.n64*2;\n        this.n32 = this.n64*2;\n        this.n8 = this.n64*8;\n\n        buildSqrt(this);\n    }\n\n    _mulByNonResidue(a) {\n        return this.F.mul(this.nonResidue, a);\n    }\n\n    copy(a) {\n        return [this.F.copy(a[0]), this.F.copy(a[1])];\n    }\n\n    add(a, b) {\n        return [\n            this.F.add(a[0], b[0]),\n            this.F.add(a[1], b[1])\n        ];\n    }\n\n    double(a) {\n        return this.add(a,a);\n    }\n\n    sub(a, b) {\n        return [\n            this.F.sub(a[0], b[0]),\n            this.F.sub(a[1], b[1])\n        ];\n    }\n\n    neg(a) {\n        return this.sub(this.zero, a);\n    }\n\n    conjugate(a) {\n        return [\n            a[0],\n            this.F.neg(a[1])\n        ];\n    }\n\n    mul(a, b) {\n        const aA = this.F.mul(a[0] , b[0]);\n        const bB = this.F.mul(a[1] , b[1]);\n\n        return [\n            this.F.add( aA , this._mulByNonResidue(bB)),\n            this.F.sub(\n                this.F.mul(\n                    this.F.add(a[0], a[1]),\n                    this.F.add(b[0], b[1])),\n                this.F.add(aA, bB))];\n    }\n\n    inv(a) {\n        const t0 = this.F.square(a[0]);\n        const t1 = this.F.square(a[1]);\n        const t2 = this.F.sub(t0, this._mulByNonResidue(t1));\n        const t3 = this.F.inv(t2);\n        return [\n            this.F.mul(a[0], t3),\n            this.F.neg(this.F.mul( a[1], t3)) ];\n    }\n\n    div(a, b) {\n        return this.mul(a, this.inv(b));\n    }\n\n    square(a) {\n        const ab = this.F.mul(a[0] , a[1]);\n\n        /*\n        [\n            (a + b) * (a + non_residue * b) - ab - non_residue * ab,\n            ab + ab\n        ];\n        */\n\n        return [\n            this.F.sub(\n                this.F.mul(\n                    this.F.add(a[0], a[1]) ,\n                    this.F.add(\n                        a[0] ,\n                        this._mulByNonResidue(a[1]))),\n                this.F.add(\n                    ab,\n                    this._mulByNonResidue(ab))),\n            this.F.add(ab, ab)\n        ];\n    }\n\n    isZero(a) {\n        return this.F.isZero(a[0]) && this.F.isZero(a[1]);\n    }\n\n    eq(a, b) {\n        return this.F.eq(a[0], b[0]) && this.F.eq(a[1], b[1]);\n    }\n\n    mulScalar(base, e) {\n        return fUtils.mulScalar(this, base, e);\n    }\n\n    pow(base, e) {\n        return fUtils.exp(this, base, e);\n    }\n\n    exp(base, e) {\n        return fUtils.exp(this, base, e);\n    }\n\n    toString(a) {\n        return `[ ${this.F.toString(a[0])} , ${this.F.toString(a[1])} ]`;\n    }\n\n    fromRng(rng) {\n        const c0 = this.F.fromRng(rng);\n        const c1 = this.F.fromRng(rng);\n        return [c0, c1];\n    }\n\n    gt(a, b) {\n        if (this.F.gt(a[0], b[0])) return true;\n        if (this.F.gt(b[0], a[0])) return false;\n        if (this.F.gt(a[1], b[1])) return true;\n        return false;\n    }\n\n    geq(a, b) {\n        return this.gt(a, b) || this.eq(a, b);\n    }\n\n    lt(a, b) {\n        return !this.geq(a,b);\n    }\n\n    leq(a, b) {\n        return !this.gt(a,b);\n    }\n\n    neq(a, b) {\n        return !this.eq(a,b);\n    }\n\n    random() {\n        return [this.F.random(), this.F.random()];\n    }\n\n\n    toRprLE(buff, o, e) {\n        this.F.toRprLE(buff, o, e[0]);\n        this.F.toRprLE(buff, o+this.F.n8, e[1]);\n    }\n\n    toRprBE(buff, o, e) {\n        this.F.toRprBE(buff, o, e[1]);\n        this.F.toRprBE(buff, o+this.F.n8, e[0]);\n    }\n\n    toRprLEM(buff, o, e) {\n        this.F.toRprLEM(buff, o, e[0]);\n        this.F.toRprLEM(buff, o+this.F.n8, e[1]);\n    }\n\n\n    toRprBEM(buff, o, e) {\n        this.F.toRprBEM(buff, o, e[1]);\n        this.F.toRprBEM(buff, o+this.F.n8, e[0]);\n    }\n\n    fromRprLE(buff, o) {\n        o = o || 0;\n        const c0 = this.F.fromRprLE(buff, o);\n        const c1 = this.F.fromRprLE(buff, o+this.F.n8);\n        return [c0, c1];\n    }\n\n    fromRprBE(buff, o) {\n        o = o || 0;\n        const c1 = this.F.fromRprBE(buff, o);\n        const c0 = this.F.fromRprBE(buff, o+this.F.n8);\n        return [c0, c1];\n    }\n\n    fromRprLEM(buff, o) {\n        o = o || 0;\n        const c0 = this.F.fromRprLEM(buff, o);\n        const c1 = this.F.fromRprLEM(buff, o+this.F.n8);\n        return [c0, c1];\n    }\n\n    fromRprBEM(buff, o) {\n        o = o || 0;\n        const c1 = this.F.fromRprBEM(buff, o);\n        const c0 = this.F.fromRprBEM(buff, o+this.F.n8);\n        return [c0, c1];\n    }\n\n    toObject(a) {\n        return a;\n    }\n\n}\n\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 1838, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/nisch/Desktop/Velocity-1/node_modules/ffjavascript/src/f3field.js"],"sourcesContent":["/*\n    Copyright 2018 0kims association.\n\n    This file is part of snarkjs.\n\n    snarkjs is a free software: you can redistribute it and/or\n    modify it under the terms of the GNU General Public License as published by the\n    Free Software Foundation, either version 3 of the License, or (at your option)\n    any later version.\n\n    snarkjs is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY\n    or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n    more details.\n\n    You should have received a copy of the GNU General Public License along with\n    snarkjs. If not, see <https://www.gnu.org/licenses/>.\n*/\n\nimport * as fUtils from \"./futils.js\";\n\nexport default class F3Field {\n    constructor(F, nonResidue) {\n        this.type=\"F3\";\n        this.F = F;\n        this.zero = [this.F.zero, this.F.zero, this.F.zero];\n        this.one = [this.F.one, this.F.zero, this.F.zero];\n        this.negone = this.neg(this.one);\n        this.nonResidue = nonResidue;\n        this.m = F.m*3;\n        this.p = F.p;\n        this.n64 = F.n64*3;\n        this.n32 = this.n64*2;\n        this.n8 = this.n64*8;\n    }\n\n    _mulByNonResidue(a) {\n        return this.F.mul(this.nonResidue, a);\n    }\n\n    copy(a) {\n        return [this.F.copy(a[0]), this.F.copy(a[1]), this.F.copy(a[2])];\n    }\n\n    add(a, b) {\n        return [\n            this.F.add(a[0], b[0]),\n            this.F.add(a[1], b[1]),\n            this.F.add(a[2], b[2])\n        ];\n    }\n\n    double(a) {\n        return this.add(a,a);\n    }\n\n    sub(a, b) {\n        return [\n            this.F.sub(a[0], b[0]),\n            this.F.sub(a[1], b[1]),\n            this.F.sub(a[2], b[2])\n        ];\n    }\n\n    neg(a) {\n        return this.sub(this.zero, a);\n    }\n\n    mul(a, b) {\n\n        const aA = this.F.mul(a[0] , b[0]);\n        const bB = this.F.mul(a[1] , b[1]);\n        const cC = this.F.mul(a[2] , b[2]);\n\n        return [\n            this.F.add(\n                aA,\n                this._mulByNonResidue(\n                    this.F.sub(\n                        this.F.mul(\n                            this.F.add(a[1], a[2]),\n                            this.F.add(b[1], b[2])),\n                        this.F.add(bB, cC)))),    // aA + non_residue*((b+c)*(B+C)-bB-cC),\n\n            this.F.add(\n                this.F.sub(\n                    this.F.mul(\n                        this.F.add(a[0], a[1]),\n                        this.F.add(b[0], b[1])),\n                    this.F.add(aA, bB)),\n                this._mulByNonResidue( cC)),   // (a+b)*(A+B)-aA-bB+non_residue*cC\n\n            this.F.add(\n                this.F.sub(\n                    this.F.mul(\n                        this.F.add(a[0], a[2]),\n                        this.F.add(b[0], b[2])),\n                    this.F.add(aA, cC)),\n                bB)];                           // (a+c)*(A+C)-aA+bB-cC)\n    }\n\n    inv(a) {\n        const t0 = this.F.square(a[0]);             // t0 = a^2 ;\n        const t1 = this.F.square(a[1]);             // t1 = b^2 ;\n        const t2 = this.F.square(a[2]);             // t2 = c^2;\n        const t3 = this.F.mul(a[0],a[1]);           // t3 = ab\n        const t4 = this.F.mul(a[0],a[2]);           // t4 = ac\n        const t5 = this.F.mul(a[1],a[2]);           // t5 = bc;\n        // c0 = t0 - non_residue * t5;\n        const c0 = this.F.sub(t0, this._mulByNonResidue(t5));\n        // c1 = non_residue * t2 - t3;\n        const c1 = this.F.sub(this._mulByNonResidue(t2), t3);\n        const c2 = this.F.sub(t1, t4);              // c2 = t1-t4\n\n        // t6 = (a * c0 + non_residue * (c * c1 + b * c2)).inv();\n        const t6 =\n            this.F.inv(\n                this.F.add(\n                    this.F.mul(a[0], c0),\n                    this._mulByNonResidue(\n                        this.F.add(\n                            this.F.mul(a[2], c1),\n                            this.F.mul(a[1], c2)))));\n\n        return [\n            this.F.mul(t6, c0),         // t6*c0\n            this.F.mul(t6, c1),         // t6*c1\n            this.F.mul(t6, c2)];        // t6*c2\n    }\n\n    div(a, b) {\n        return this.mul(a, this.inv(b));\n    }\n\n    square(a) {\n        const s0 = this.F.square(a[0]);                   // s0 = a^2\n        const ab = this.F.mul(a[0], a[1]);                // ab = a*b\n        const s1 = this.F.add(ab, ab);                    // s1 = 2ab;\n        const s2 = this.F.square(\n            this.F.add(this.F.sub(a[0],a[1]), a[2]));     // s2 = (a - b + c)^2;\n        const bc = this.F.mul(a[1],a[2]);                 // bc = b*c\n        const s3 = this.F.add(bc, bc);                    // s3 = 2*bc\n        const s4 = this.F.square(a[2]);                   // s4 = c^2\n\n\n        return [\n            this.F.add(\n                s0,\n                this._mulByNonResidue(s3)),           // s0 + non_residue * s3,\n            this.F.add(\n                s1,\n                this._mulByNonResidue(s4)),           // s1 + non_residue * s4,\n            this.F.sub(\n                this.F.add( this.F.add(s1, s2) , s3 ),\n                this.F.add(s0, s4))];                      // s1 + s2 + s3 - s0 - s4\n    }\n\n    isZero(a) {\n        return this.F.isZero(a[0]) && this.F.isZero(a[1]) && this.F.isZero(a[2]);\n    }\n\n    eq(a, b) {\n        return this.F.eq(a[0], b[0]) && this.F.eq(a[1], b[1]) && this.F.eq(a[2], b[2]);\n    }\n\n    affine(a) {\n        return [this.F.affine(a[0]), this.F.affine(a[1]), this.F.affine(a[2])];\n    }\n\n    mulScalar(base, e) {\n        return fUtils.mulScalar(this, base, e);\n    }\n\n    pow(base, e) {\n        return fUtils.exp(this, base, e);\n    }\n\n    exp(base, e) {\n        return fUtils.exp(this, base, e);\n    }\n\n    toString(a) {\n        return `[ ${this.F.toString(a[0])} , ${this.F.toString(a[1])}, ${this.F.toString(a[2])} ]`;\n    }\n\n    fromRng(rng) {\n        const c0 = this.F.fromRng(rng);\n        const c1 = this.F.fromRng(rng);\n        const c2 = this.F.fromRng(rng);\n        return [c0, c1, c2];\n    }\n\n    gt(a, b) {\n        if (this.F.gt(a[0], b[0])) return true;\n        if (this.F.gt(b[0], a[0])) return false;\n        if (this.F.gt(a[1], b[1])) return true;\n        if (this.F.gt(b[1], a[1])) return false;\n        if (this.F.gt(a[2], b[2])) return true;\n        return false;\n    }\n\n\n    geq(a, b) {\n        return this.gt(a, b) || this.eq(a, b);\n    }\n\n    lt(a, b) {\n        return !this.geq(a,b);\n    }\n\n    leq(a, b) {\n        return !this.gt(a,b);\n    }\n\n    neq(a, b) {\n        return !this.eq(a,b);\n    }\n\n    random() {\n        return [this.F.random(), this.F.random(), this.F.random()];\n    }\n\n\n    toRprLE(buff, o, e) {\n        this.F.toRprLE(buff, o, e[0]);\n        this.F.toRprLE(buff, o+this.F.n8, e[1]);\n        this.F.toRprLE(buff, o+this.F.n8*2, e[2]);\n    }\n\n    toRprBE(buff, o, e) {\n        this.F.toRprBE(buff, o, e[2]);\n        this.F.toRprBE(buff, o+this.F.n8, e[1]);\n        this.F.toRprBE(buff, o+this.F.n8*2, e[0]);\n    }\n\n    toRprLEM(buff, o, e) {\n        this.F.toRprLEM(buff, o, e[0]);\n        this.F.toRprLEM(buff, o+this.F.n8, e[1]);\n        this.F.toRprLEM(buff, o+this.F.n8*2, e[2]);\n    }\n\n\n    toRprBEM(buff, o, e) {\n        this.F.toRprBEM(buff, o, e[2]);\n        this.F.toRprBEM(buff, o+this.F.n8, e[1]);\n        this.F.toRprBEM(buff, o+this.F.n8*2, e[0]);\n    }\n\n    fromRprLE(buff, o) {\n        o = o || 0;\n        const c0 = this.F.fromRprLE(buff, o);\n        const c1 = this.F.fromRprLE(buff, o+this.n8);\n        const c2 = this.F.fromRprLE(buff, o+this.n8*2);\n        return [c0, c1, c2];\n    }\n\n    fromRprBE(buff, o) {\n        o = o || 0;\n        const c2 = this.F.fromRprBE(buff, o);\n        const c1 = this.F.fromRprBE(buff, o+this.n8);\n        const c0 = this.F.fromRprBE(buff, o+this.n8*2);\n        return [c0, c1, c2];\n    }\n\n    fromRprLEM(buff, o) {\n        o = o || 0;\n        const c0 = this.F.fromRprLEM(buff, o);\n        const c1 = this.F.fromRprLEM(buff, o+this.n8);\n        const c2 = this.F.fromRprLEM(buff, o+this.n8*2);\n        return [c0, c1, c2];\n    }\n\n    fromRprBEM(buff, o) {\n        o = o || 0;\n        const c2 = this.F.fromRprBEM(buff, o);\n        const c1 = this.F.fromRprBEM(buff, o+this.n8);\n        const c0 = this.F.fromRprBEM(buff, o+this.n8*2);\n        return [c0, c1, c2];\n    }\n\n    toObject(a) {\n        return a;\n    }\n}\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 2094, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/nisch/Desktop/Velocity-1/node_modules/ffjavascript/src/ec.js"],"sourcesContent":["/*\n    Copyright 2018 0kims association.\n\n    This file is part of snarkjs.\n\n    snarkjs is a free software: you can redistribute it and/or\n    modify it under the terms of the GNU General Public License as published by the\n    Free Software Foundation, either version 3 of the License, or (at your option)\n    any later version.\n\n    snarkjs is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY\n    or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n    more details.\n\n    You should have received a copy of the GNU General Public License along with\n    snarkjs. If not, see <https://www.gnu.org/licenses/>.\n*/\n\n\n\nimport * as fUtils from \"./futils.js\";\nimport * as Scalar from \"./scalar.js\";\n\n\nfunction isGreatest(F, a) {\n    if (Array.isArray(a)) {\n        for (let i=a.length-1; i>=0; i--) {\n            if (!F.F.isZero(a[i])) {\n                return isGreatest(F.F, a[i]);\n            }\n        }\n        return 0;\n    } else {\n        const na = F.neg(a);\n        return Scalar.gt(a, na);\n    }\n}\n\n\nexport default class EC {\n\n    constructor(F, g) {\n        this.F = F;\n        this.g = g;\n        if (this.g.length == 2) this.g[2] = this.F.one;\n        this.zero = [this.F.zero, this.F.one, this.F.zero];\n    }\n\n    add(p1, p2) {\n\n        const F = this.F;\n\n        if (this.eq(p1, this.zero)) return p2;\n        if (this.eq(p2, this.zero)) return p1;\n\n        const res = new Array(3);\n\n        const Z1Z1 = F.square( p1[2] );\n        const Z2Z2 = F.square( p2[2] );\n\n        const U1 = F.mul( p1[0] , Z2Z2 );     // U1 = X1  * Z2Z2\n        const U2 = F.mul( p2[0] , Z1Z1 );     // U2 = X2  * Z1Z1\n\n        const Z1_cubed = F.mul( p1[2] , Z1Z1);\n        const Z2_cubed = F.mul( p2[2] , Z2Z2);\n\n        const S1 = F.mul( p1[1] , Z2_cubed);  // S1 = Y1 * Z2 * Z2Z2\n        const S2 = F.mul( p2[1] , Z1_cubed);  // S2 = Y2 * Z1 * Z1Z1\n\n        if (F.eq(U1,U2) && F.eq(S1,S2)) {\n            return this.double(p1);\n        }\n\n        const H = F.sub( U2 , U1 );                    // H = U2-U1\n\n        const S2_minus_S1 = F.sub( S2 , S1 );\n\n        const I = F.square( F.add(H,H) );         // I = (2 * H)^2\n        const J = F.mul( H , I );                      // J = H * I\n\n        const r = F.add( S2_minus_S1 , S2_minus_S1 );  // r = 2 * (S2-S1)\n        const V = F.mul( U1 , I );                     // V = U1 * I\n\n        res[0] =\n            F.sub(\n                F.sub( F.square(r) , J ),\n                F.add( V , V ));                       // X3 = r^2 - J - 2 * V\n\n        const S1_J = F.mul( S1 , J );\n\n        res[1] =\n            F.sub(\n                F.mul( r , F.sub(V,res[0])),\n                F.add( S1_J,S1_J ));                   // Y3 = r * (V-X3)-2 S1 J\n\n        res[2] =\n            F.mul(\n                H,\n                F.sub(\n                    F.square( F.add(p1[2],p2[2]) ),\n                    F.add( Z1Z1 , Z2Z2 )));            // Z3 = ((Z1+Z2)^2-Z1Z1-Z2Z2) * H\n\n        return res;\n    }\n\n    neg(p) {\n        return [p[0], this.F.neg(p[1]), p[2]];\n    }\n\n    sub(a, b) {\n        return this.add(a, this.neg(b));\n    }\n\n    double(p) {\n        const F = this.F;\n\n        const res = new Array(3);\n\n        if (this.eq(p, this.zero)) return p;\n\n        const A = F.square( p[0] );                    // A = X1^2\n        const B = F.square( p[1] );                    // B = Y1^2\n        const C = F.square( B );                       // C = B^2\n\n        let D =\n            F.sub(\n                F.square( F.add(p[0] , B )),\n                F.add( A , C));\n        D = F.add(D,D);                    // D = 2 * ((X1 + B)^2 - A - C)\n\n        const E = F.add( F.add(A,A), A);          // E = 3 * A\n        const FF =F.square( E );                       // F = E^2\n\n        res[0] = F.sub( FF , F.add(D,D) );         // X3 = F - 2 D\n\n        let eightC = F.add( C , C );\n        eightC = F.add( eightC , eightC );\n        eightC = F.add( eightC , eightC );\n\n        res[1] =\n            F.sub(\n                F.mul(\n                    E,\n                    F.sub( D, res[0] )),\n                eightC);                                    // Y3 = E * (D - X3) - 8 * C\n\n        const Y1Z1 = F.mul( p[1] , p[2] );\n        res[2] = F.add( Y1Z1 , Y1Z1 );                 // Z3 = 2 * Y1 * Z1\n\n        return res;\n    }\n\n    timesScalar(base, e) {\n        return fUtils.mulScalar(this, base, e);\n    }\n\n    mulScalar(base, e) {\n        return fUtils.mulScalar(this, base, e);\n    }\n\n    affine(p) {\n        const F = this.F;\n        if (this.isZero(p)) {\n            return this.zero;\n        } else if (F.eq(p[2], F.one)) {\n            return p;\n        } else {\n            const Z_inv = F.inv(p[2]);\n            const Z2_inv = F.square(Z_inv);\n            const Z3_inv = F.mul(Z2_inv, Z_inv);\n\n            const res = new Array(3);\n            res[0] = F.mul(p[0],Z2_inv);\n            res[1] = F.mul(p[1],Z3_inv);\n            res[2] = F.one;\n\n            return res;\n        }\n    }\n\n    multiAffine(arr) {\n        const keys = Object.keys(arr);\n        const F = this.F;\n        const accMul = new Array(keys.length+1);\n        accMul[0] = F.one;\n        for (let i = 0; i< keys.length; i++) {\n            if (F.eq(arr[keys[i]][2], F.zero)) {\n                accMul[i+1] = accMul[i];\n            } else {\n                accMul[i+1] = F.mul(accMul[i], arr[keys[i]][2]);\n            }\n        }\n\n        accMul[keys.length] = F.inv(accMul[keys.length]);\n\n        for (let i = keys.length-1; i>=0; i--) {\n            if (F.eq(arr[keys[i]][2], F.zero)) {\n                accMul[i] = accMul[i+1];\n                arr[keys[i]] = this.zero;\n            } else {\n                const Z_inv = F.mul(accMul[i], accMul[i+1]);\n                accMul[i] = F.mul(arr[keys[i]][2], accMul[i+1]);\n\n                const Z2_inv = F.square(Z_inv);\n                const Z3_inv = F.mul(Z2_inv, Z_inv);\n\n                arr[keys[i]][0] = F.mul(arr[keys[i]][0],Z2_inv);\n                arr[keys[i]][1] = F.mul(arr[keys[i]][1],Z3_inv);\n                arr[keys[i]][2] = F.one;\n            }\n        }\n\n    }\n\n    eq(p1, p2) {\n        const F = this.F;\n\n        if (this.F.eq(p1[2], this.F.zero)) return this.F.eq(p2[2], this.F.zero);\n        if (this.F.eq(p2[2], this.F.zero)) return false;\n\n        const Z1Z1 = F.square( p1[2] );\n        const Z2Z2 = F.square( p2[2] );\n\n        const U1 = F.mul( p1[0] , Z2Z2 );\n        const U2 = F.mul( p2[0] , Z1Z1 );\n\n        const Z1_cubed = F.mul( p1[2] , Z1Z1);\n        const Z2_cubed = F.mul( p2[2] , Z2Z2);\n\n        const S1 = F.mul( p1[1] , Z2_cubed);\n        const S2 = F.mul( p2[1] , Z1_cubed);\n\n        return (F.eq(U1,U2) && F.eq(S1,S2));\n    }\n\n    isZero(p) {\n        return this.F.isZero(p[2]);\n    }\n\n    toString(p) {\n        const cp = this.affine(p);\n        return `[ ${this.F.toString(cp[0])} , ${this.F.toString(cp[1])} ]`;\n    }\n\n    fromRng(rng) {\n        const F = this.F;\n        let P = [];\n        let greatest;\n        do {\n            P[0] = F.fromRng(rng);\n            greatest = rng.nextBool();\n            const x3b = F.add(F.mul(F.square(P[0]), P[0]), this.b);\n            P[1] = F.sqrt(x3b);\n        } while ((P[1] == null)||(F.isZero[P]));\n\n        const s = isGreatest(F, P[1]);\n        if (greatest ^ s) P[1] = F.neg(P[1]);\n        P[2] = F.one;\n\n        if (this.cofactor) {\n            P = this.mulScalar(P, this.cofactor);\n        }\n\n        P = this.affine(P);\n\n        return P;\n\n    }\n\n    toRprLE(buff, o, p) {\n        p = this.affine(p);\n        if (this.isZero(p)) {\n            const BuffV = new Uint8Array(buff, o, this.F.n8*2);\n            BuffV.fill(0);\n            return;\n        }\n        this.F.toRprLE(buff, o, p[0]);\n        this.F.toRprLE(buff, o+this.F.n8, p[1]);\n    }\n\n    toRprBE(buff, o, p) {\n        p = this.affine(p);\n        if (this.isZero(p)) {\n            const BuffV = new Uint8Array(buff, o, this.F.n8*2);\n            BuffV.fill(0);\n            return;\n        }\n        this.F.toRprBE(buff, o, p[0]);\n        this.F.toRprBE(buff, o+this.F.n8, p[1]);\n    }\n\n    toRprLEM(buff, o, p) {\n        p = this.affine(p);\n        if (this.isZero(p)) {\n            const BuffV = new Uint8Array(buff, o, this.F.n8*2);\n            BuffV.fill(0);\n            return;\n        }\n        this.F.toRprLEM(buff, o, p[0]);\n        this.F.toRprLEM(buff, o+this.F.n8, p[1]);\n    }\n\n    toRprLEJM(buff, o, p) {\n        p = this.affine(p);\n        if (this.isZero(p)) {\n            const BuffV = new Uint8Array(buff, o, this.F.n8*2);\n            BuffV.fill(0);\n            return;\n        }\n        this.F.toRprLEM(buff, o, p[0]);\n        this.F.toRprLEM(buff, o+this.F.n8, p[1]);\n        this.F.toRprLEM(buff, o+2*this.F.n8, p[2]);\n    }\n\n\n    toRprBEM(buff, o, p) {\n        p = this.affine(p);\n        if (this.isZero(p)) {\n            const BuffV = new Uint8Array(buff, o, this.F.n8*2);\n            BuffV.fill(0);\n            return;\n        }\n        this.F.toRprBEM(buff, o, p[0]);\n        this.F.toRprBEM(buff, o+this.F.n8, p[1]);\n    }\n\n    fromRprLE(buff, o) {\n        o = o || 0;\n        const x = this.F.fromRprLE(buff, o);\n        const y = this.F.fromRprLE(buff, o+this.F.n8);\n        if (this.F.isZero(x) && this.F.isZero(y)) {\n            return this.zero;\n        }\n        return [x, y, this.F.one];\n    }\n\n    fromRprBE(buff, o) {\n        o = o || 0;\n        const x = this.F.fromRprBE(buff, o);\n        const y = this.F.fromRprBE(buff, o+this.F.n8);\n        if (this.F.isZero(x) && this.F.isZero(y)) {\n            return this.zero;\n        }\n        return [x, y, this.F.one];\n    }\n\n    fromRprLEM(buff, o) {\n        o = o || 0;\n        const x = this.F.fromRprLEM(buff, o);\n        const y = this.F.fromRprLEM(buff, o+this.F.n8);\n        if (this.F.isZero(x) && this.F.isZero(y)) {\n            return this.zero;\n        }\n        return [x, y, this.F.one];\n    }\n\n    fromRprLEJM(buff, o) {\n        o = o || 0;\n        const x = this.F.fromRprLEM(buff, o);\n        const y = this.F.fromRprLEM(buff, o+this.F.n8);\n        const z = this.F.fromRprLEM(buff, o+this.F.n8*2);\n        if (this.F.isZero(x) && this.F.isZero(y)) {\n            return this.zero;\n        }\n        return [x, y, z];\n    }\n\n    fromRprBEM(buff, o) {\n        o = o || 0;\n        const x = this.F.fromRprBEM(buff, o);\n        const y = this.F.fromRprBEM(buff, o+this.F.n8);\n        if (this.F.isZero(x) && this.F.isZero(y)) {\n            return this.zero;\n        }\n        return [x, y, this.F.one];\n    }\n\n    fromRprCompressed(buff, o) {\n        const F = this.F;\n        const v = new Uint8Array(buff.buffer, o, F.n8);\n        if (v[0] & 0x40) return this.zero;\n        const P = new Array(3);\n\n        const greatest = ((v[0] & 0x80) != 0);\n        v[0] = v[0] & 0x7F;\n        P[0] = F.fromRprBE(buff, o);\n        if (greatest) v[0] = v[0] | 0x80;  // set back again the old value\n\n        const x3b = F.add(F.mul(F.square(P[0]), P[0]), this.b);\n        P[1] = F.sqrt(x3b);\n\n        if (P[1] === null) {\n            throw new Error(\"Invalid Point!\");\n        }\n\n        const s = isGreatest(F, P[1]);\n        if (greatest ^ s) P[1] = F.neg(P[1]);\n        P[2] = F.one;\n\n        return P;\n    }\n\n    toRprCompressed(buff, o, p) {\n        p = this.affine(p);\n        const v = new Uint8Array(buff.buffer, o, this.F.n8);\n        if (this.isZero(p)) {\n            v.fill(0);\n            v[0] = 0x40;\n            return;\n        }\n        this.F.toRprBE(buff, o, p[0]);\n\n        if (isGreatest(this.F, p[1])) {\n            v[0] = v[0] | 0x80;\n        }\n    }\n\n\n    fromRprUncompressed(buff, o) {\n        if (buff[0] & 0x40) return this.zero;\n\n        return this.fromRprBE(buff, o);\n    }\n\n    toRprUncompressed(buff, o, p) {\n        this.toRprBE(buff, o, p);\n\n        if (this.isZero(p)) {\n            buff[o] = buff[o] | 0x40;\n        }\n    }\n\n\n}\n\n\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 2456, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/nisch/Desktop/Velocity-1/node_modules/ffjavascript/src/utils.js"],"sourcesContent":["/* global BigInt */\nimport * as Scalar from \"./scalar.js\";\n\nexport function stringifyBigInts(o) {\n    if (typeof o == \"bigint\" || o.eq !== undefined) {\n        return o.toString(10);\n    } else if (o instanceof Uint8Array) {\n        return Scalar.fromRprLE(o, 0);\n    } else if (Array.isArray(o)) {\n        return o.map(stringifyBigInts);\n    } else if (typeof o == \"object\") {\n        const res = {};\n        const keys = Object.keys(o);\n        keys.forEach((k) => {\n            res[k] = stringifyBigInts(o[k]);\n        });\n        return res;\n    } else {\n        return o;\n    }\n}\n\nexport function unstringifyBigInts(o) {\n    if (typeof o == \"string\" && /^[0-9]+$/.test(o)) {\n        return BigInt(o);\n    } else if (typeof o == \"string\" && /^0x[0-9a-fA-F]+$/.test(o)) {\n        return BigInt(o);\n    } else if (Array.isArray(o)) {\n        return o.map(unstringifyBigInts);\n    } else if (typeof o == \"object\") {\n        if (o === null) return null;\n        const res = {};\n        const keys = Object.keys(o);\n        keys.forEach((k) => {\n            res[k] = unstringifyBigInts(o[k]);\n        });\n        return res;\n    } else {\n        return o;\n    }\n}\n\nexport function beBuff2int(buff) {\n    let res = BigInt(0);\n    let i = buff.length;\n    let offset = 0;\n    const buffV = new DataView(buff.buffer, buff.byteOffset, buff.byteLength);\n    while (i > 0) {\n        if (i >= 4) {\n            i -= 4;\n            res += BigInt(buffV.getUint32(i)) << BigInt(offset * 8);\n            offset += 4;\n        } else if (i >= 2) {\n            i -= 2;\n            res += BigInt(buffV.getUint16(i)) << BigInt(offset * 8);\n            offset += 2;\n        } else {\n            i -= 1;\n            res += BigInt(buffV.getUint8(i)) << BigInt(offset * 8);\n            offset += 1;\n        }\n    }\n    return res;\n}\n\nexport function beInt2Buff(n, len) {\n    let r = n;\n    const buff = new Uint8Array(len);\n    const buffV = new DataView(buff.buffer);\n    let o = len;\n    while (o > 0) {\n        if (o - 4 >= 0) {\n            o -= 4;\n            buffV.setUint32(o, Number(r & BigInt(0xffffffff)));\n            r = r >> BigInt(32);\n        } else if (o - 2 >= 0) {\n            o -= 2;\n            buffV.setUint16(o, Number(r & BigInt(0xffff)));\n            r = r >> BigInt(16);\n        } else {\n            o -= 1;\n            buffV.setUint8(o, Number(r & BigInt(0xff)));\n            r = r >> BigInt(8);\n        }\n    }\n    if (r) {\n        throw new Error(\"Number does not fit in this length\");\n    }\n    return buff;\n}\n\nexport function leBuff2int(buff) {\n    let res = BigInt(0);\n    let i = 0;\n    const buffV = new DataView(buff.buffer, buff.byteOffset, buff.byteLength);\n    while (i < buff.length) {\n        if (i + 4 <= buff.length) {\n            res += BigInt(buffV.getUint32(i, true)) << BigInt(i * 8);\n            i += 4;\n        } else if (i + 2 <= buff.length) {\n            res += BigInt(buffV.getUint16(i, true)) << BigInt(i * 8);\n            i += 2;\n        } else {\n            res += BigInt(buffV.getUint8(i, true)) << BigInt(i * 8);\n            i += 1;\n        }\n    }\n    return res;\n}\n\nexport function leInt2Buff(n, len) {\n    let r = n;\n    if (typeof len === \"undefined\") {\n        len = Math.floor((Scalar.bitLength(n) - 1) / 8) + 1;\n        if (len == 0) len = 1;\n    }\n    const buff = new Uint8Array(len);\n    const buffV = new DataView(buff.buffer);\n    let o = 0;\n    while (o < len) {\n        if (o + 4 <= len) {\n            buffV.setUint32(o, Number(r & BigInt(0xffffffff)), true);\n            o += 4;\n            r = r >> BigInt(32);\n        } else if (o + 2 <= len) {\n            buffV.setUint16(o, Number(r & BigInt(0xffff)), true);\n            o += 2;\n            r = r >> BigInt(16);\n        } else {\n            buffV.setUint8(o, Number(r & BigInt(0xff)), true);\n            o += 1;\n            r = r >> BigInt(8);\n        }\n    }\n    if (r) {\n        throw new Error(\"Number does not fit in this length\");\n    }\n    return buff;\n}\n\nexport function stringifyFElements(F, o) {\n    if (typeof o == \"bigint\" || o.eq !== undefined) {\n        return o.toString(10);\n    } else if (o instanceof Uint8Array) {\n        return F.toString(F.e(o));\n    } else if (Array.isArray(o)) {\n        return o.map(stringifyFElements.bind(this, F));\n    } else if (typeof o == \"object\") {\n        const res = {};\n        const keys = Object.keys(o);\n        keys.forEach((k) => {\n            res[k] = stringifyFElements(F, o[k]);\n        });\n        return res;\n    } else {\n        return o;\n    }\n}\n\nexport function unstringifyFElements(F, o) {\n    if (typeof o == \"string\" && /^[0-9]+$/.test(o)) {\n        return F.e(o);\n    } else if (typeof o == \"string\" && /^0x[0-9a-fA-F]+$/.test(o)) {\n        return F.e(o);\n    } else if (Array.isArray(o)) {\n        return o.map(unstringifyFElements.bind(this, F));\n    } else if (typeof o == \"object\") {\n        if (o === null) return null;\n        const res = {};\n        const keys = Object.keys(o);\n        keys.forEach((k) => {\n            res[k] = unstringifyFElements(F, o[k]);\n        });\n        return res;\n    } else {\n        return o;\n    }\n}\n\nconst _revTable = [];\nfor (let i = 0; i < 256; i++) {\n    _revTable[i] = _revSlow(i, 8);\n}\n\nfunction _revSlow(idx, bits) {\n    let res = 0;\n    let a = idx;\n    for (let i = 0; i < bits; i++) {\n        res <<= 1;\n        res = res | (a & 1);\n        a >>= 1;\n    }\n    return res;\n}\n\nexport function bitReverse(idx, bits) {\n    return (\n        (_revTable[idx >>> 24] |\n        (_revTable[(idx >>> 16) & 0xff] << 8) |\n        (_revTable[(idx >>> 8) & 0xff] << 16) |\n        (_revTable[idx & 0xff] << 24)) >>>\n        (32 - bits)\n    );\n}\n\nexport function log2(V) {\n    return (\n        ((V & 0xffff0000) !== 0 ? ((V &= 0xffff0000), 16) : 0) |\n        ((V & 0xff00ff00) !== 0 ? ((V &= 0xff00ff00), 8) : 0) |\n        ((V & 0xf0f0f0f0) !== 0 ? ((V &= 0xf0f0f0f0), 4) : 0) |\n        ((V & 0xcccccccc) !== 0 ? ((V &= 0xcccccccc), 2) : 0) |\n        ((V & 0xaaaaaaaa) !== 0)\n    );\n}\n\nexport function buffReverseBits(buff, eSize) {\n    const n = buff.byteLength / eSize;\n    const bits = log2(n);\n    if (n != 1 << bits) {\n        throw new Error(\"Invalid number of pointers\");\n    }\n    for (let i = 0; i < n; i++) {\n        const r = bitReverse(i, bits);\n        if (i > r) {\n            const tmp = buff.slice(i * eSize, (i + 1) * eSize);\n            buff.set(buff.slice(r * eSize, (r + 1) * eSize), i * eSize);\n            buff.set(tmp, r * eSize);\n        }\n    }\n}\n\nexport function array2buffer(arr, sG) {\n    const buff = new Uint8Array(sG * arr.length);\n\n    for (let i = 0; i < arr.length; i++) {\n        buff.set(arr[i], i * sG);\n    }\n\n    return buff;\n}\n\nexport function buffer2array(buff, sG) {\n    const n = buff.byteLength / sG;\n    const arr = new Array(n);\n    for (let i = 0; i < n; i++) {\n        arr[i] = buff.slice(i * sG, i * sG + sG);\n    }\n    return arr;\n}\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 2708, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/nisch/Desktop/Velocity-1/node_modules/ffjavascript/src/bigbuffer.js"],"sourcesContent":["\nconst PAGE_SIZE = 1<<30;\n\nexport default class BigBuffer {\n\n    constructor(size) {\n        this.buffers = [];\n        this.byteLength = size;\n        for (let i=0; i<size; i+= PAGE_SIZE) {\n            const n = Math.min(size-i, PAGE_SIZE);\n            this.buffers.push(new Uint8Array(n));\n        }\n\n    }\n\n    slice(fr, to) {\n        if ( to === undefined ) to = this.byteLength;\n        if ( fr === undefined ) fr = 0;\n        const len = to-fr;\n\n        const firstPage = Math.floor(fr / PAGE_SIZE);\n        const lastPage = Math.floor((fr+len-1) / PAGE_SIZE);\n\n        if ((firstPage == lastPage)||(len==0))\n            return this.buffers[firstPage].slice(fr%PAGE_SIZE, fr%PAGE_SIZE + len);\n\n        let buff;\n\n        let p = firstPage;\n        let o = fr % PAGE_SIZE;\n        // Remaining bytes to read\n        let r = len;\n        while (r>0) {\n            // bytes to copy from this page\n            const l = (o+r > PAGE_SIZE) ? (PAGE_SIZE -o) : r;\n            const srcView = new Uint8Array(this.buffers[p].buffer, this.buffers[p].byteOffset+o, l);\n            if (l == len) return srcView.slice();\n            if (!buff) {\n                if (len <= PAGE_SIZE) {\n                    buff = new Uint8Array(len);\n                } else {\n                    buff = new BigBuffer(len);\n                }\n            }\n            buff.set(srcView, len-r);\n            r = r-l;\n            p ++;\n            o = 0;\n        }\n\n        return buff;\n    }\n\n    set(buff, offset) {\n        if (offset === undefined) offset = 0;\n\n        const len = buff.byteLength;\n\n        if (len==0) return;\n\n        const firstPage = Math.floor(offset / PAGE_SIZE);\n        const lastPage = Math.floor((offset+len-1) / PAGE_SIZE);\n\n        if (firstPage == lastPage) {\n            if ((buff instanceof BigBuffer)&&(buff.buffers.length==1)) {\n                return this.buffers[firstPage].set(buff.buffers[0], offset % PAGE_SIZE);\n            } else {\n                return this.buffers[firstPage].set(buff, offset % PAGE_SIZE);\n            }\n\n        }\n\n\n        let p = firstPage;\n        let o = offset % PAGE_SIZE;\n        let r = len;\n        while (r>0) {\n            const l = (o+r > PAGE_SIZE) ? (PAGE_SIZE -o) : r;\n            const srcView = buff.slice( len -r, len -r+l);\n            const dstView = new Uint8Array(this.buffers[p].buffer, this.buffers[p].byteOffset + o, l);\n            dstView.set(srcView);\n            r = r-l;\n            p ++;\n            o = 0;\n        }\n\n    }\n}\n"],"names":[],"mappings":";;;;AACA,MAAM,YAAY,KAAG;AAEN,MAAM;IAEjB,YAAY,IAAI,CAAE;QACd,IAAI,CAAC,OAAO,GAAG,EAAE;QACjB,IAAI,CAAC,UAAU,GAAG;QAClB,IAAK,IAAI,IAAE,GAAG,IAAE,MAAM,KAAI,UAAW;YACjC,MAAM,IAAI,KAAK,GAAG,CAAC,OAAK,GAAG;YAC3B,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,WAAW;QACrC;IAEJ;IAEA,MAAM,EAAE,EAAE,EAAE,EAAE;QACV,IAAK,OAAO,WAAY,KAAK,IAAI,CAAC,UAAU;QAC5C,IAAK,OAAO,WAAY,KAAK;QAC7B,MAAM,MAAM,KAAG;QAEf,MAAM,YAAY,KAAK,KAAK,CAAC,KAAK;QAClC,MAAM,WAAW,KAAK,KAAK,CAAC,CAAC,KAAG,MAAI,CAAC,IAAI;QAEzC,IAAI,AAAC,aAAa,YAAY,OAAK,GAC/B,OAAO,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,KAAK,CAAC,KAAG,WAAW,KAAG,YAAY;QAEtE,IAAI;QAEJ,IAAI,IAAI;QACR,IAAI,IAAI,KAAK;QACb,0BAA0B;QAC1B,IAAI,IAAI;QACR,MAAO,IAAE,EAAG;YACR,+BAA+B;YAC/B,MAAM,IAAI,AAAC,IAAE,IAAI,YAAc,YAAW,IAAK;YAC/C,MAAM,UAAU,IAAI,WAAW,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,MAAM,EAAE,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,UAAU,GAAC,GAAG;YACrF,IAAI,KAAK,KAAK,OAAO,QAAQ,KAAK;YAClC,IAAI,CAAC,MAAM;gBACP,IAAI,OAAO,WAAW;oBAClB,OAAO,IAAI,WAAW;gBAC1B,OAAO;oBACH,OAAO,IAAI,UAAU;gBACzB;YACJ;YACA,KAAK,GAAG,CAAC,SAAS,MAAI;YACtB,IAAI,IAAE;YACN;YACA,IAAI;QACR;QAEA,OAAO;IACX;IAEA,IAAI,IAAI,EAAE,MAAM,EAAE;QACd,IAAI,WAAW,WAAW,SAAS;QAEnC,MAAM,MAAM,KAAK,UAAU;QAE3B,IAAI,OAAK,GAAG;QAEZ,MAAM,YAAY,KAAK,KAAK,CAAC,SAAS;QACtC,MAAM,WAAW,KAAK,KAAK,CAAC,CAAC,SAAO,MAAI,CAAC,IAAI;QAE7C,IAAI,aAAa,UAAU;YACvB,IAAI,AAAC,gBAAgB,aAAa,KAAK,OAAO,CAAC,MAAM,IAAE,GAAI;gBACvD,OAAO,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,GAAG,CAAC,KAAK,OAAO,CAAC,EAAE,EAAE,SAAS;YACjE,OAAO;gBACH,OAAO,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,GAAG,CAAC,MAAM,SAAS;YACtD;QAEJ;QAGA,IAAI,IAAI;QACR,IAAI,IAAI,SAAS;QACjB,IAAI,IAAI;QACR,MAAO,IAAE,EAAG;YACR,MAAM,IAAI,AAAC,IAAE,IAAI,YAAc,YAAW,IAAK;YAC/C,MAAM,UAAU,KAAK,KAAK,CAAE,MAAK,GAAG,MAAK,IAAE;YAC3C,MAAM,UAAU,IAAI,WAAW,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,MAAM,EAAE,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,UAAU,GAAG,GAAG;YACvF,QAAQ,GAAG,CAAC;YACZ,IAAI,IAAE;YACN;YACA,IAAI;QACR;IAEJ;AACJ","ignoreList":[0]}},
    {"offset": {"line": 2784, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/nisch/Desktop/Velocity-1/node_modules/ffjavascript/src/engine_batchconvert.js"],"sourcesContent":["import BigBuffer from \"./bigbuffer.js\";\n\nexport default function buildBatchConvert(tm, fnName, sIn, sOut) {\n    return async function batchConvert(buffIn) {\n        const nPoints = Math.floor(buffIn.byteLength / sIn);\n        if ( nPoints * sIn !== buffIn.byteLength) {\n            throw new Error(\"Invalid buffer size\");\n        }\n        const pointsPerChunk = Math.floor(nPoints/tm.concurrency);\n        const opPromises = [];\n        for (let i=0; i<tm.concurrency; i++) {\n            let n;\n            if (i< tm.concurrency-1) {\n                n = pointsPerChunk;\n            } else {\n                n = nPoints - i*pointsPerChunk;\n            }\n            if (n==0) continue;\n\n            const buffChunk = buffIn.slice(i*pointsPerChunk*sIn, i*pointsPerChunk*sIn + n*sIn);\n            const task = [\n                {cmd: \"ALLOCSET\", var: 0, buff:buffChunk},\n                {cmd: \"ALLOC\", var: 1, len:sOut * n},\n                {cmd: \"CALL\", fnName: fnName, params: [\n                    {var: 0},\n                    {val: n},\n                    {var: 1}\n                ]},\n                {cmd: \"GET\", out: 0, var: 1, len:sOut * n},\n            ];\n            opPromises.push(\n                tm.queueAction(task)\n            );\n        }\n\n        const result = await Promise.all(opPromises);\n\n        let fullBuffOut;\n        if (buffIn instanceof BigBuffer) {\n            fullBuffOut = new BigBuffer(nPoints*sOut);\n        } else {\n            fullBuffOut = new Uint8Array(nPoints*sOut);\n        }\n\n        let p =0;\n        for (let i=0; i<result.length; i++) {\n            fullBuffOut.set(result[i][0], p);\n            p+=result[i][0].byteLength;\n        }\n\n        return fullBuffOut;\n    };\n}\n"],"names":[],"mappings":";;;;AAAA;;AAEe,SAAS,kBAAkB,EAAE,EAAE,MAAM,EAAE,GAAG,EAAE,IAAI;IAC3D,OAAO,eAAe,aAAa,MAAM;QACrC,MAAM,UAAU,KAAK,KAAK,CAAC,OAAO,UAAU,GAAG;QAC/C,IAAK,UAAU,QAAQ,OAAO,UAAU,EAAE;YACtC,MAAM,IAAI,MAAM;QACpB;QACA,MAAM,iBAAiB,KAAK,KAAK,CAAC,UAAQ,GAAG,WAAW;QACxD,MAAM,aAAa,EAAE;QACrB,IAAK,IAAI,IAAE,GAAG,IAAE,GAAG,WAAW,EAAE,IAAK;YACjC,IAAI;YACJ,IAAI,IAAG,GAAG,WAAW,GAAC,GAAG;gBACrB,IAAI;YACR,OAAO;gBACH,IAAI,UAAU,IAAE;YACpB;YACA,IAAI,KAAG,GAAG;YAEV,MAAM,YAAY,OAAO,KAAK,CAAC,IAAE,iBAAe,KAAK,IAAE,iBAAe,MAAM,IAAE;YAC9E,MAAM,OAAO;gBACT;oBAAC,KAAK;oBAAY,KAAK;oBAAG,MAAK;gBAAS;gBACxC;oBAAC,KAAK;oBAAS,KAAK;oBAAG,KAAI,OAAO;gBAAC;gBACnC;oBAAC,KAAK;oBAAQ,QAAQ;oBAAQ,QAAQ;wBAClC;4BAAC,KAAK;wBAAC;wBACP;4BAAC,KAAK;wBAAC;wBACP;4BAAC,KAAK;wBAAC;qBACV;gBAAA;gBACD;oBAAC,KAAK;oBAAO,KAAK;oBAAG,KAAK;oBAAG,KAAI,OAAO;gBAAC;aAC5C;YACD,WAAW,IAAI,CACX,GAAG,WAAW,CAAC;QAEvB;QAEA,MAAM,SAAS,MAAM,QAAQ,GAAG,CAAC;QAEjC,IAAI;QACJ,IAAI,kBAAkB,6JAAS,EAAE;YAC7B,cAAc,IAAI,6JAAS,CAAC,UAAQ;QACxC,OAAO;YACH,cAAc,IAAI,WAAW,UAAQ;QACzC;QAEA,IAAI,IAAG;QACP,IAAK,IAAI,IAAE,GAAG,IAAE,OAAO,MAAM,EAAE,IAAK;YAChC,YAAY,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC,EAAE,EAAE;YAC9B,KAAG,MAAM,CAAC,EAAE,CAAC,EAAE,CAAC,UAAU;QAC9B;QAEA,OAAO;IACX;AACJ","ignoreList":[0]}},
    {"offset": {"line": 2861, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/nisch/Desktop/Velocity-1/node_modules/ffjavascript/src/wasm_field1.js"],"sourcesContent":["import * as Scalar from \"./scalar.js\";\nimport * as utils from \"./utils.js\";\nimport { getThreadRng } from \"./random.js\";\nimport buildBatchConvert from \"./engine_batchconvert.js\";\nimport BigBuffer from \"./bigbuffer.js\";\n\n\nexport default class WasmField1 {\n\n    constructor(tm, prefix, n8, p) {\n        this.tm = tm;\n        this.prefix = prefix;\n\n        this.p = p;\n        this.n8 = n8;\n        this.type = \"F1\";\n        this.m = 1;\n\n        this.half = Scalar.shiftRight(p, Scalar.one);\n        this.bitLength = Scalar.bitLength(p);\n        this.mask = Scalar.sub(Scalar.shiftLeft(Scalar.one, this.bitLength), Scalar.one);\n\n        this.pOp1 = tm.alloc(n8);\n        this.pOp2 = tm.alloc(n8);\n        this.pOp3 = tm.alloc(n8);\n        this.tm.instance.exports[prefix + \"_zero\"](this.pOp1);\n        this.zero = this.tm.getBuff(this.pOp1, this.n8);\n        this.tm.instance.exports[prefix + \"_one\"](this.pOp1);\n        this.one = this.tm.getBuff(this.pOp1, this.n8);\n\n        this.negone = this.neg(this.one);\n        this.two = this.add(this.one, this.one);\n\n        this.n64 = Math.floor(n8/8);\n        this.n32 = Math.floor(n8/4);\n\n        if(this.n64*8 != this.n8) {\n            throw new Error(\"n8 must be a multiple of 8\");\n        }\n\n        this.half = Scalar.shiftRight(this.p, Scalar.one);\n        this.nqr = this.two;\n        let r = this.exp(this.nqr, this.half);\n        while (!this.eq(r, this.negone)) {\n            this.nqr = this.add(this.nqr, this.one);\n            r = this.exp(this.nqr, this.half);\n        }\n\n        this.shift = this.mul(this.nqr, this.nqr);\n        this.shiftInv = this.inv(this.shift);\n\n        this.s = 0;\n        let t = Scalar.sub(this.p, Scalar.one);\n\n        while ( !Scalar.isOdd(t) ) {\n            this.s = this.s + 1;\n            t = Scalar.shiftRight(t, Scalar.one);\n        }\n\n        this.w = [];\n        this.w[this.s] = this.exp(this.nqr, t);\n\n        for (let i= this.s-1; i>=0; i--) {\n            this.w[i] = this.square(this.w[i+1]);\n        }\n\n        if (!this.eq(this.w[0], this.one)) {\n            throw new Error(\"Error calculating roots of unity\");\n        }\n\n        this.batchToMontgomery = buildBatchConvert(tm, prefix + \"_batchToMontgomery\", this.n8, this.n8);\n        this.batchFromMontgomery = buildBatchConvert(tm, prefix + \"_batchFromMontgomery\", this.n8, this.n8);\n    }\n\n\n    op2(opName, a, b) {\n        this.tm.setBuff(this.pOp1, a);\n        this.tm.setBuff(this.pOp2, b);\n        this.tm.instance.exports[this.prefix + opName](this.pOp1, this.pOp2, this.pOp3);\n        return this.tm.getBuff(this.pOp3, this.n8);\n    }\n\n    op2Bool(opName, a, b) {\n        this.tm.setBuff(this.pOp1, a);\n        this.tm.setBuff(this.pOp2, b);\n        return !!this.tm.instance.exports[this.prefix + opName](this.pOp1, this.pOp2);\n    }\n\n    op1(opName, a) {\n        this.tm.setBuff(this.pOp1, a);\n        this.tm.instance.exports[this.prefix + opName](this.pOp1, this.pOp3);\n        return this.tm.getBuff(this.pOp3, this.n8);\n    }\n\n    op1Bool(opName, a) {\n        this.tm.setBuff(this.pOp1, a);\n        return !!this.tm.instance.exports[this.prefix + opName](this.pOp1, this.pOp3);\n    }\n\n    add(a,b) {\n        return this.op2(\"_add\", a, b);\n    }\n\n\n    eq(a,b) {\n        return this.op2Bool(\"_eq\", a, b);\n    }\n\n    isZero(a) {\n        return this.op1Bool(\"_isZero\", a);\n    }\n\n    sub(a,b) {\n        return this.op2(\"_sub\", a, b);\n    }\n\n    neg(a) {\n        return this.op1(\"_neg\", a);\n    }\n\n    inv(a) {\n        return this.op1(\"_inverse\", a);\n    }\n\n    toMontgomery(a) {\n        return this.op1(\"_toMontgomery\", a);\n    }\n\n    fromMontgomery(a) {\n        return this.op1(\"_fromMontgomery\", a);\n    }\n\n    mul(a,b) {\n        return this.op2(\"_mul\", a, b);\n    }\n\n    div(a, b) {\n        this.tm.setBuff(this.pOp1, a);\n        this.tm.setBuff(this.pOp2, b);\n        this.tm.instance.exports[this.prefix + \"_inverse\"](this.pOp2, this.pOp2);\n        this.tm.instance.exports[this.prefix + \"_mul\"](this.pOp1, this.pOp2, this.pOp3);\n        return this.tm.getBuff(this.pOp3, this.n8);\n    }\n\n    square(a) {\n        return this.op1(\"_square\", a);\n    }\n\n    isSquare(a) {\n        return this.op1Bool(\"_isSquare\", a);\n    }\n\n    sqrt(a) {\n        return this.op1(\"_sqrt\", a);\n    }\n\n    exp(a, b) {\n        if (!(b instanceof Uint8Array)) {\n            b = Scalar.toLEBuff(Scalar.e(b));\n        }\n        this.tm.setBuff(this.pOp1, a);\n        this.tm.setBuff(this.pOp2, b);\n        this.tm.instance.exports[this.prefix + \"_exp\"](this.pOp1, this.pOp2, b.byteLength, this.pOp3);\n        return this.tm.getBuff(this.pOp3, this.n8);\n    }\n\n    isNegative(a) {\n        return this.op1Bool(\"_isNegative\", a);\n    }\n\n    e(a, b) {\n        if (a instanceof Uint8Array) return a;\n        let ra = Scalar.e(a, b);\n        if (Scalar.isNegative(ra)) {\n            ra = Scalar.neg(ra);\n            if (Scalar.gt(ra, this.p)) {\n                ra = Scalar.mod(ra, this.p);\n            }\n            ra = Scalar.sub(this.p, ra);\n        } else {\n            if (Scalar.gt(ra, this.p)) {\n                ra = Scalar.mod(ra, this.p);\n            }\n        }\n        const buff = utils.leInt2Buff(ra, this.n8);\n        return this.toMontgomery(buff);\n    }\n\n    toString(a, radix) {\n        const an = this.fromMontgomery(a);\n        const s = Scalar.fromRprLE(an, 0);\n        return Scalar.toString(s, radix);\n    }\n\n    fromRng(rng) {\n        let v;\n        const buff = new Uint8Array(this.n8);\n        do {\n            v = Scalar.zero;\n            for (let i=0; i<this.n64; i++) {\n                v = Scalar.add(v,  Scalar.shiftLeft(rng.nextU64(), 64*i));\n            }\n            v = Scalar.band(v, this.mask);\n        } while (Scalar.geq(v, this.p));\n        Scalar.toRprLE(buff, 0, v, this.n8);\n        return buff;\n    }\n\n    random() {\n        return this.fromRng(getThreadRng());\n    }\n\n    toObject(a) {\n        const an = this.fromMontgomery(a);\n        return Scalar.fromRprLE(an, 0);\n    }\n\n    fromObject(a) {\n        const buff = new Uint8Array(this.n8);\n        Scalar.toRprLE(buff, 0, a, this.n8);\n        return this.toMontgomery(buff);\n    }\n\n    toRprLE(buff, offset, a) {\n        buff.set(this.fromMontgomery(a), offset);\n    }\n\n    toRprBE(buff, offset, a) {\n        const buff2 = this.fromMontgomery(a);\n        for (let i=0; i<this.n8/2; i++) {\n            const aux = buff2[i];\n            buff2[i] = buff2[this.n8-1-i];\n            buff2[this.n8-1-i] = aux;\n        }\n        buff.set(buff2, offset);\n    }\n\n    fromRprLE(buff, offset) {\n        offset = offset || 0;\n        const res = buff.slice(offset, offset + this.n8);\n        return this.toMontgomery(res);\n    }\n\n    async batchInverse(buffIn) {\n        let returnArray = false;\n        const sIn = this.n8;\n        const sOut = this.n8;\n\n        if (Array.isArray(buffIn)) {\n            buffIn = utils.array2buffer(buffIn, sIn );\n            returnArray = true;\n        } else {\n            buffIn = buffIn.slice(0, buffIn.byteLength);\n        }\n\n        const nPoints = Math.floor(buffIn.byteLength / sIn);\n        if ( nPoints * sIn !== buffIn.byteLength) {\n            throw new Error(\"Invalid buffer size\");\n        }\n        const pointsPerChunk = Math.floor(nPoints/this.tm.concurrency);\n        const opPromises = [];\n        for (let i=0; i<this.tm.concurrency; i++) {\n            let n;\n            if (i< this.tm.concurrency-1) {\n                n = pointsPerChunk;\n            } else {\n                n = nPoints - i*pointsPerChunk;\n            }\n            if (n==0) continue;\n\n            const buffChunk = buffIn.slice(i*pointsPerChunk*sIn, i*pointsPerChunk*sIn + n*sIn);\n            const task = [\n                {cmd: \"ALLOCSET\", var: 0, buff:buffChunk},\n                {cmd: \"ALLOC\", var: 1, len:sOut * n},\n                {cmd: \"CALL\", fnName: this.prefix + \"_batchInverse\", params: [\n                    {var: 0},\n                    {val: sIn},\n                    {val: n},\n                    {var: 1},\n                    {val: sOut},\n                ]},\n                {cmd: \"GET\", out: 0, var: 1, len:sOut * n},\n            ];\n            opPromises.push(\n                this.tm.queueAction(task)\n            );\n        }\n\n        const result = await Promise.all(opPromises);\n\n        let fullBuffOut;\n        if (buffIn instanceof BigBuffer) {\n            fullBuffOut = new BigBuffer(nPoints*sOut);\n        } else {\n            fullBuffOut = new Uint8Array(nPoints*sOut);\n        }\n\n        let p =0;\n        for (let i=0; i<result.length; i++) {\n            fullBuffOut.set(result[i][0], p);\n            p+=result[i][0].byteLength;\n        }\n\n        if (returnArray) {\n            return utils.buffer2array(fullBuffOut, sOut);\n        } else {\n            return fullBuffOut;\n        }\n\n    }\n\n}\n\n\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 3154, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/nisch/Desktop/Velocity-1/node_modules/ffjavascript/src/wasm_field2.js"],"sourcesContent":["import { getThreadRng } from \"./random.js\";\nimport * as Scalar from \"./scalar.js\";\n\n\nexport default class WasmField2 {\n\n    constructor(tm, prefix, F) {\n        this.tm = tm;\n        this.prefix = prefix;\n\n        this.F = F;\n        this.type = \"F2\";\n        this.m = F.m * 2;\n        this.n8 = this.F.n8*2;\n        this.n32 = this.F.n32*2;\n        this.n64 = this.F.n64*2;\n\n        this.pOp1 = tm.alloc(F.n8*2);\n        this.pOp2 = tm.alloc(F.n8*2);\n        this.pOp3 = tm.alloc(F.n8*2);\n        this.tm.instance.exports[prefix + \"_zero\"](this.pOp1);\n        this.zero = tm.getBuff(this.pOp1, this.n8);\n        this.tm.instance.exports[prefix + \"_one\"](this.pOp1);\n        this.one = tm.getBuff(this.pOp1, this.n8);\n\n        this.negone = this.neg(this.one);\n        this.two = this.add(this.one, this.one);\n\n    }\n\n    op2(opName, a, b) {\n        this.tm.setBuff(this.pOp1, a);\n        this.tm.setBuff(this.pOp2, b);\n        this.tm.instance.exports[this.prefix + opName](this.pOp1, this.pOp2, this.pOp3);\n        return this.tm.getBuff(this.pOp3, this.n8);\n    }\n\n    op2Bool(opName, a, b) {\n        this.tm.setBuff(this.pOp1, a);\n        this.tm.setBuff(this.pOp2, b);\n        return !!this.tm.instance.exports[this.prefix + opName](this.pOp1, this.pOp2);\n    }\n\n    op1(opName, a) {\n        this.tm.setBuff(this.pOp1, a);\n        this.tm.instance.exports[this.prefix + opName](this.pOp1, this.pOp3);\n        return this.tm.getBuff(this.pOp3, this.n8);\n    }\n\n    op1Bool(opName, a) {\n        this.tm.setBuff(this.pOp1, a);\n        return !!this.tm.instance.exports[this.prefix + opName](this.pOp1, this.pOp3);\n    }\n\n    add(a,b) {\n        return this.op2(\"_add\", a, b);\n    }\n\n    eq(a,b) {\n        return this.op2Bool(\"_eq\", a, b);\n    }\n\n    isZero(a) {\n        return this.op1Bool(\"_isZero\", a);\n    }\n\n    sub(a,b) {\n        return this.op2(\"_sub\", a, b);\n    }\n\n    neg(a) {\n        return this.op1(\"_neg\", a);\n    }\n\n    inv(a) {\n        return this.op1(\"_inverse\", a);\n    }\n\n    isNegative(a) {\n        return this.op1Bool(\"_isNegative\", a);\n    }\n\n    toMontgomery(a) {\n        return this.op1(\"_toMontgomery\", a);\n    }\n\n    fromMontgomery(a) {\n        return this.op1(\"_fromMontgomery\", a);\n    }\n\n    mul(a,b) {\n        return this.op2(\"_mul\", a, b);\n    }\n\n    mul1(a,b) {\n        return this.op2(\"_mul1\", a, b);\n    }\n\n    div(a, b) {\n        this.tm.setBuff(this.pOp1, a);\n        this.tm.setBuff(this.pOp2, b);\n        this.tm.instance.exports[this.prefix + \"_inverse\"](this.pOp2, this.pOp2);\n        this.tm.instance.exports[this.prefix + \"_mul\"](this.pOp1, this.pOp2, this.pOp3);\n        return this.tm.getBuff(this.pOp3, this.n8);\n    }\n\n    square(a) {\n        return this.op1(\"_square\", a);\n    }\n\n    isSquare(a) {\n        return this.op1Bool(\"_isSquare\", a);\n    }\n\n    sqrt(a) {\n        return this.op1(\"_sqrt\", a);\n    }\n\n    exp(a, b) {\n        if (!(b instanceof Uint8Array)) {\n            b = Scalar.toLEBuff(Scalar.e(b));\n        }\n        this.tm.setBuff(this.pOp1, a);\n        this.tm.setBuff(this.pOp2, b);\n        this.tm.instance.exports[this.prefix + \"_exp\"](this.pOp1, this.pOp2, b.byteLength, this.pOp3);\n        return this.tm.getBuff(this.pOp3, this.n8);\n    }\n\n    e(a, b) {\n        if (a instanceof Uint8Array) return a;\n        if ((Array.isArray(a)) && (a.length == 2)) {\n            const c1 = this.F.e(a[0], b);\n            const c2 = this.F.e(a[1], b);\n            const res = new Uint8Array(this.F.n8*2);\n            res.set(c1);\n            res.set(c2, this.F.n8*2);\n            return res;\n        } else {\n            throw new Error(\"invalid F2\");\n        }\n    }\n\n    toString(a, radix) {\n        const s1 = this.F.toString(a.slice(0, this.F.n8), radix);\n        const s2 = this.F.toString(a.slice(this.F.n8), radix);\n        return `[${s1}, ${s2}]`;\n    }\n\n    fromRng(rng) {\n        const c1 = this.F.fromRng(rng);\n        const c2 = this.F.fromRng(rng);\n        const res = new Uint8Array(this.F.n8*2);\n        res.set(c1);\n        res.set(c2, this.F.n8);\n        return res;\n    }\n\n    random() {\n        return this.fromRng(getThreadRng());\n    }\n\n    toObject(a) {\n        const c1 = this.F.toObject(a.slice(0, this.F.n8));\n        const c2 = this.F.toObject(a.slice(this.F.n8, this.F.n8*2));\n        return [c1, c2];\n    }\n\n    fromObject(a) {\n        const buff = new Uint8Array(this.F.n8*2);\n        const b1 = this.F.fromObject(a[0]);\n        const b2 = this.F.fromObject(a[1]);\n        buff.set(b1);\n        buff.set(b2, this.F.n8);\n        return buff;\n    }\n\n    c1(a) {\n        return a.slice(0, this.F.n8);\n    }\n\n    c2(a) {\n        return a.slice(this.F.n8);\n    }\n\n}\n\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 3316, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/nisch/Desktop/Velocity-1/node_modules/ffjavascript/src/wasm_field3.js"],"sourcesContent":["\n\nimport { getThreadRng } from \"./random.js\";\nimport * as Scalar from \"./scalar.js\";\n\n\nexport default class WasmField3 {\n\n    constructor(tm, prefix, F) {\n        this.tm = tm;\n        this.prefix = prefix;\n\n        this.F = F;\n        this.type = \"F3\";\n        this.m = F.m * 3;\n        this.n8 = this.F.n8*3;\n        this.n32 = this.F.n32*3;\n        this.n64 = this.F.n64*3;\n\n        this.pOp1 = tm.alloc(F.n8*3);\n        this.pOp2 = tm.alloc(F.n8*3);\n        this.pOp3 = tm.alloc(F.n8*3);\n        this.tm.instance.exports[prefix + \"_zero\"](this.pOp1);\n        this.zero = tm.getBuff(this.pOp1, this.n8);\n        this.tm.instance.exports[prefix + \"_one\"](this.pOp1);\n        this.one = tm.getBuff(this.pOp1, this.n8);\n\n        this.negone = this.neg(this.one);\n        this.two = this.add(this.one, this.one);\n\n    }\n\n    op2(opName, a, b) {\n        this.tm.setBuff(this.pOp1, a);\n        this.tm.setBuff(this.pOp2, b);\n        this.tm.instance.exports[this.prefix + opName](this.pOp1, this.pOp2, this.pOp3);\n        return this.tm.getBuff(this.pOp3, this.n8);\n    }\n\n    op2Bool(opName, a, b) {\n        this.tm.setBuff(this.pOp1, a);\n        this.tm.setBuff(this.pOp2, b);\n        return !!this.tm.instance.exports[this.prefix + opName](this.pOp1, this.pOp2);\n    }\n\n    op1(opName, a) {\n        this.tm.setBuff(this.pOp1, a);\n        this.tm.instance.exports[this.prefix + opName](this.pOp1, this.pOp3);\n        return this.tm.getBuff(this.pOp3, this.n8);\n    }\n\n    op1Bool(opName, a) {\n        this.tm.setBuff(this.pOp1, a);\n        return !!this.tm.instance.exports[this.prefix + opName](this.pOp1, this.pOp3);\n    }\n\n\n    eq(a,b) {\n        return this.op2Bool(\"_eq\", a, b);\n    }\n\n    isZero(a) {\n        return this.op1Bool(\"_isZero\", a);\n    }\n\n    add(a,b) {\n        return this.op2(\"_add\", a, b);\n    }\n\n    sub(a,b) {\n        return this.op2(\"_sub\", a, b);\n    }\n\n    neg(a) {\n        return this.op1(\"_neg\", a);\n    }\n\n    inv(a) {\n        return this.op1(\"_inverse\", a);\n    }\n\n    isNegative(a) {\n        return this.op1Bool(\"_isNegative\", a);\n    }\n\n    toMontgomery(a) {\n        return this.op1(\"_toMontgomery\", a);\n    }\n\n    fromMontgomery(a) {\n        return this.op1(\"_fromMontgomery\", a);\n    }\n\n    mul(a,b) {\n        return this.op2(\"_mul\", a, b);\n    }\n\n    div(a, b) {\n        this.tm.setBuff(this.pOp1, a);\n        this.tm.setBuff(this.pOp2, b);\n        this.tm.instance.exports[this.prefix + \"_inverse\"](this.pOp2, this.pOp2);\n        this.tm.instance.exports[this.prefix + \"_mul\"](this.pOp1, this.pOp2, this.pOp3);\n        return this.tm.getBuff(this.pOp3, this.n8);\n    }\n\n    square(a) {\n        return this.op1(\"_square\", a);\n    }\n\n    isSquare(a) {\n        return this.op1Bool(\"_isSquare\", a);\n    }\n\n    sqrt(a) {\n        return this.op1(\"_sqrt\", a);\n    }\n\n    exp(a, b) {\n        if (!(b instanceof Uint8Array)) {\n            b = Scalar.toLEBuff(Scalar.e(b));\n        }\n        this.tm.setBuff(this.pOp1, a);\n        this.tm.setBuff(this.pOp2, b);\n        this.tm.instance.exports[this.prefix + \"_exp\"](this.pOp1, this.pOp2, b.byteLength, this.pOp3);\n        return this.getBuff(this.pOp3, this.n8);\n    }\n\n    e(a, b) {\n        if (a instanceof Uint8Array) return a;\n        if ((Array.isArray(a)) && (a.length == 3)) {\n            const c1 = this.F.e(a[0], b);\n            const c2 = this.F.e(a[1], b);\n            const c3 = this.F.e(a[2], b);\n            const res = new Uint8Array(this.F.n8*3);\n            res.set(c1);\n            res.set(c2, this.F.n8);\n            res.set(c3, this.F.n8*2);\n            return res;\n        } else {\n            throw new Error(\"invalid F3\");\n        }\n    }\n\n    toString(a, radix) {\n        const s1 = this.F.toString(a.slice(0, this.F.n8), radix);\n        const s2 = this.F.toString(a.slice(this.F.n8, this.F.n8*2), radix);\n        const s3 = this.F.toString(a.slice(this.F.n8*2), radix);\n        return `[${s1}, ${s2}, ${s3}]`;\n    }\n\n    fromRng(rng) {\n        const c1 = this.F.fromRng(rng);\n        const c2 = this.F.fromRng(rng);\n        const c3 = this.F.fromRng(rng);\n        const res = new Uint8Array(this.F.n8*3);\n        res.set(c1);\n        res.set(c2, this.F.n8);\n        res.set(c3, this.F.n8*2);\n        return res;\n    }\n\n    random() {\n        return this.fromRng(getThreadRng());\n    }\n\n    toObject(a) {\n        const c1 = this.F.toObject(a.slice(0, this.F.n8));\n        const c2 = this.F.toObject(a.slice(this.F.n8, this.F.n8*2));\n        const c3 = this.F.toObject(a.slice(this.F.n8*2, this.F.n8*3));\n        return [c1, c2, c3];\n    }\n\n    fromObject(a) {\n        const buff = new Uint8Array(this.F.n8*3);\n        const b1 = this.F.fromObject(a[0]);\n        const b2 = this.F.fromObject(a[1]);\n        const b3 = this.F.fromObject(a[2]);\n        buff.set(b1);\n        buff.set(b2, this.F.n8);\n        buff.set(b3, this.F.n8*2);\n        return buff;\n    }\n\n    c1(a) {\n        return a.slice(0, this.F.n8);\n    }\n\n    c2(a) {\n        return a.slice(this.F.n8, this.F.n8*2);\n    }\n\n    c3(a) {\n        return a.slice(this.F.n8*2);\n    }\n\n}\n\n\n"],"names":[],"mappings":";;;;AAEA;AACA;;;AAGe,MAAM;IAEjB,YAAY,EAAE,EAAE,MAAM,EAAE,CAAC,CAAE;QACvB,IAAI,CAAC,EAAE,GAAG;QACV,IAAI,CAAC,MAAM,GAAG;QAEd,IAAI,CAAC,CAAC,GAAG;QACT,IAAI,CAAC,IAAI,GAAG;QACZ,IAAI,CAAC,CAAC,GAAG,EAAE,CAAC,GAAG;QACf,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,CAAC,CAAC,EAAE,GAAC;QACpB,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,CAAC,CAAC,GAAG,GAAC;QACtB,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,CAAC,CAAC,GAAG,GAAC;QAEtB,IAAI,CAAC,IAAI,GAAG,GAAG,KAAK,CAAC,EAAE,EAAE,GAAC;QAC1B,IAAI,CAAC,IAAI,GAAG,GAAG,KAAK,CAAC,EAAE,EAAE,GAAC;QAC1B,IAAI,CAAC,IAAI,GAAG,GAAG,KAAK,CAAC,EAAE,EAAE,GAAC;QAC1B,IAAI,CAAC,EAAE,CAAC,QAAQ,CAAC,OAAO,CAAC,SAAS,QAAQ,CAAC,IAAI,CAAC,IAAI;QACpD,IAAI,CAAC,IAAI,GAAG,GAAG,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,EAAE;QACzC,IAAI,CAAC,EAAE,CAAC,QAAQ,CAAC,OAAO,CAAC,SAAS,OAAO,CAAC,IAAI,CAAC,IAAI;QACnD,IAAI,CAAC,GAAG,GAAG,GAAG,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,EAAE;QAExC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG;QAC/B,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,GAAG;IAE1C;IAEA,IAAI,MAAM,EAAE,CAAC,EAAE,CAAC,EAAE;QACd,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE;QAC3B,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE;QAC3B,IAAI,CAAC,EAAE,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,GAAG,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,IAAI;QAC9E,OAAO,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,EAAE;IAC7C;IAEA,QAAQ,MAAM,EAAE,CAAC,EAAE,CAAC,EAAE;QAClB,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE;QAC3B,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE;QAC3B,OAAO,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,GAAG,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,IAAI;IAChF;IAEA,IAAI,MAAM,EAAE,CAAC,EAAE;QACX,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE;QAC3B,IAAI,CAAC,EAAE,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,GAAG,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,IAAI;QACnE,OAAO,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,EAAE;IAC7C;IAEA,QAAQ,MAAM,EAAE,CAAC,EAAE;QACf,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE;QAC3B,OAAO,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,GAAG,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,IAAI;IAChF;IAGA,GAAG,CAAC,EAAC,CAAC,EAAE;QACJ,OAAO,IAAI,CAAC,OAAO,CAAC,OAAO,GAAG;IAClC;IAEA,OAAO,CAAC,EAAE;QACN,OAAO,IAAI,CAAC,OAAO,CAAC,WAAW;IACnC;IAEA,IAAI,CAAC,EAAC,CAAC,EAAE;QACL,OAAO,IAAI,CAAC,GAAG,CAAC,QAAQ,GAAG;IAC/B;IAEA,IAAI,CAAC,EAAC,CAAC,EAAE;QACL,OAAO,IAAI,CAAC,GAAG,CAAC,QAAQ,GAAG;IAC/B;IAEA,IAAI,CAAC,EAAE;QACH,OAAO,IAAI,CAAC,GAAG,CAAC,QAAQ;IAC5B;IAEA,IAAI,CAAC,EAAE;QACH,OAAO,IAAI,CAAC,GAAG,CAAC,YAAY;IAChC;IAEA,WAAW,CAAC,EAAE;QACV,OAAO,IAAI,CAAC,OAAO,CAAC,eAAe;IACvC;IAEA,aAAa,CAAC,EAAE;QACZ,OAAO,IAAI,CAAC,GAAG,CAAC,iBAAiB;IACrC;IAEA,eAAe,CAAC,EAAE;QACd,OAAO,IAAI,CAAC,GAAG,CAAC,mBAAmB;IACvC;IAEA,IAAI,CAAC,EAAC,CAAC,EAAE;QACL,OAAO,IAAI,CAAC,GAAG,CAAC,QAAQ,GAAG;IAC/B;IAEA,IAAI,CAAC,EAAE,CAAC,EAAE;QACN,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE;QAC3B,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE;QAC3B,IAAI,CAAC,EAAE,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,GAAG,WAAW,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,IAAI;QACvE,IAAI,CAAC,EAAE,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,GAAG,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,IAAI;QAC9E,OAAO,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,EAAE;IAC7C;IAEA,OAAO,CAAC,EAAE;QACN,OAAO,IAAI,CAAC,GAAG,CAAC,WAAW;IAC/B;IAEA,SAAS,CAAC,EAAE;QACR,OAAO,IAAI,CAAC,OAAO,CAAC,aAAa;IACrC;IAEA,KAAK,CAAC,EAAE;QACJ,OAAO,IAAI,CAAC,GAAG,CAAC,SAAS;IAC7B;IAEA,IAAI,CAAC,EAAE,CAAC,EAAE;QACN,IAAI,CAAC,CAAC,aAAa,UAAU,GAAG;YAC5B,IAAI,2JAAe,CAAC,oJAAQ,CAAC;QACjC;QACA,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE;QAC3B,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE;QAC3B,IAAI,CAAC,EAAE,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,GAAG,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,IAAI,EAAE,EAAE,UAAU,EAAE,IAAI,CAAC,IAAI;QAC5F,OAAO,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,EAAE;IAC1C;IAEA,EAAE,CAAC,EAAE,CAAC,EAAE;QACJ,IAAI,aAAa,YAAY,OAAO;QACpC,IAAI,AAAC,MAAM,OAAO,CAAC,MAAQ,EAAE,MAAM,IAAI,GAAI;YACvC,MAAM,KAAK,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE;YAC1B,MAAM,KAAK,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE;YAC1B,MAAM,KAAK,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE;YAC1B,MAAM,MAAM,IAAI,WAAW,IAAI,CAAC,CAAC,CAAC,EAAE,GAAC;YACrC,IAAI,GAAG,CAAC;YACR,IAAI,GAAG,CAAC,IAAI,IAAI,CAAC,CAAC,CAAC,EAAE;YACrB,IAAI,GAAG,CAAC,IAAI,IAAI,CAAC,CAAC,CAAC,EAAE,GAAC;YACtB,OAAO;QACX,OAAO;YACH,MAAM,IAAI,MAAM;QACpB;IACJ;IAEA,SAAS,CAAC,EAAE,KAAK,EAAE;QACf,MAAM,KAAK,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,EAAE,KAAK,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,EAAE,GAAG;QAClD,MAAM,KAAK,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,EAAE,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,EAAE,IAAI,CAAC,CAAC,CAAC,EAAE,GAAC,IAAI;QAC5D,MAAM,KAAK,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,EAAE,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,GAAC,IAAI;QACjD,OAAO,CAAC,CAAC,EAAE,GAAG,EAAE,EAAE,GAAG,EAAE,EAAE,GAAG,CAAC,CAAC;IAClC;IAEA,QAAQ,GAAG,EAAE;QACT,MAAM,KAAK,IAAI,CAAC,CAAC,CAAC,OAAO,CAAC;QAC1B,MAAM,KAAK,IAAI,CAAC,CAAC,CAAC,OAAO,CAAC;QAC1B,MAAM,KAAK,IAAI,CAAC,CAAC,CAAC,OAAO,CAAC;QAC1B,MAAM,MAAM,IAAI,WAAW,IAAI,CAAC,CAAC,CAAC,EAAE,GAAC;QACrC,IAAI,GAAG,CAAC;QACR,IAAI,GAAG,CAAC,IAAI,IAAI,CAAC,CAAC,CAAC,EAAE;QACrB,IAAI,GAAG,CAAC,IAAI,IAAI,CAAC,CAAC,CAAC,EAAE,GAAC;QACtB,OAAO;IACX;IAEA,SAAS;QACL,OAAO,IAAI,CAAC,OAAO,CAAC,IAAA,+JAAY;IACpC;IAEA,SAAS,CAAC,EAAE;QACR,MAAM,KAAK,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,EAAE,KAAK,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,EAAE;QAC/C,MAAM,KAAK,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,EAAE,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,EAAE,IAAI,CAAC,CAAC,CAAC,EAAE,GAAC;QACxD,MAAM,KAAK,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,EAAE,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,GAAC,GAAG,IAAI,CAAC,CAAC,CAAC,EAAE,GAAC;QAC1D,OAAO;YAAC;YAAI;YAAI;SAAG;IACvB;IAEA,WAAW,CAAC,EAAE;QACV,MAAM,OAAO,IAAI,WAAW,IAAI,CAAC,CAAC,CAAC,EAAE,GAAC;QACtC,MAAM,KAAK,IAAI,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,EAAE;QACjC,MAAM,KAAK,IAAI,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,EAAE;QACjC,MAAM,KAAK,IAAI,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,EAAE;QACjC,KAAK,GAAG,CAAC;QACT,KAAK,GAAG,CAAC,IAAI,IAAI,CAAC,CAAC,CAAC,EAAE;QACtB,KAAK,GAAG,CAAC,IAAI,IAAI,CAAC,CAAC,CAAC,EAAE,GAAC;QACvB,OAAO;IACX;IAEA,GAAG,CAAC,EAAE;QACF,OAAO,EAAE,KAAK,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,EAAE;IAC/B;IAEA,GAAG,CAAC,EAAE;QACF,OAAO,EAAE,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,EAAE,IAAI,CAAC,CAAC,CAAC,EAAE,GAAC;IACxC;IAEA,GAAG,CAAC,EAAE;QACF,OAAO,EAAE,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,GAAC;IAC7B;AAEJ","ignoreList":[0]}},
    {"offset": {"line": 3487, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/nisch/Desktop/Velocity-1/node_modules/ffjavascript/src/wasm_curve.js"],"sourcesContent":["\n\nimport * as Scalar from \"./scalar.js\";\nimport buildBatchConvert from \"./engine_batchconvert.js\";\n\nexport default class WasmCurve {\n\n    constructor(tm, prefix, F, pGen, pGb, cofactor) {\n        this.tm = tm;\n        this.prefix = prefix;\n        this.F = F;\n\n        this.pOp1 = tm.alloc(F.n8*3);\n        this.pOp2 = tm.alloc(F.n8*3);\n        this.pOp3 = tm.alloc(F.n8*3);\n        this.tm.instance.exports[prefix + \"_zero\"](this.pOp1);\n        this.zero = this.tm.getBuff(this.pOp1, F.n8*3);\n        this.tm.instance.exports[prefix + \"_zeroAffine\"](this.pOp1);\n        this.zeroAffine = this.tm.getBuff(this.pOp1, F.n8*2);\n        this.one = this.tm.getBuff(pGen, F.n8*3);\n        this.g = this.one;\n        this.oneAffine = this.tm.getBuff(pGen, F.n8*2);\n        this.gAffine = this.oneAffine;\n        this.b = this.tm.getBuff(pGb, F.n8);\n\n        if (cofactor) {\n            this.cofactor = Scalar.toLEBuff(cofactor);\n        }\n\n        this.negone = this.neg(this.one);\n        this.two = this.add(this.one, this.one);\n\n        this.batchLEMtoC = buildBatchConvert(tm, prefix + \"_batchLEMtoC\", F.n8*2, F.n8);\n        this.batchLEMtoU = buildBatchConvert(tm, prefix + \"_batchLEMtoU\", F.n8*2, F.n8*2);\n        this.batchCtoLEM = buildBatchConvert(tm, prefix + \"_batchCtoLEM\", F.n8, F.n8*2);\n        this.batchUtoLEM = buildBatchConvert(tm, prefix + \"_batchUtoLEM\", F.n8*2, F.n8*2);\n        this.batchToJacobian = buildBatchConvert(tm, prefix + \"_batchToJacobian\", F.n8*2, F.n8*3);\n        this.batchToAffine = buildBatchConvert(tm, prefix + \"_batchToAffine\", F.n8*3, F.n8*2);\n    }\n\n    op2(opName, a, b) {\n        this.tm.setBuff(this.pOp1, a);\n        this.tm.setBuff(this.pOp2, b);\n        this.tm.instance.exports[this.prefix + opName](this.pOp1, this.pOp2, this.pOp3);\n        return this.tm.getBuff(this.pOp3, this.F.n8*3);\n    }\n\n    op2bool(opName, a, b) {\n        this.tm.setBuff(this.pOp1, a);\n        this.tm.setBuff(this.pOp2, b);\n        return !!this.tm.instance.exports[this.prefix + opName](this.pOp1, this.pOp2, this.pOp3);\n    }\n\n    op1(opName, a) {\n        this.tm.setBuff(this.pOp1, a);\n        this.tm.instance.exports[this.prefix + opName](this.pOp1, this.pOp3);\n        return this.tm.getBuff(this.pOp3, this.F.n8*3);\n    }\n\n    op1Affine(opName, a) {\n        this.tm.setBuff(this.pOp1, a);\n        this.tm.instance.exports[this.prefix + opName](this.pOp1, this.pOp3);\n        return this.tm.getBuff(this.pOp3, this.F.n8*2);\n    }\n\n    op1Bool(opName, a) {\n        this.tm.setBuff(this.pOp1, a);\n        return !!this.tm.instance.exports[this.prefix + opName](this.pOp1, this.pOp3);\n    }\n\n    add(a,b) {\n        if (a.byteLength == this.F.n8*3) {\n            if (b.byteLength == this.F.n8*3) {\n                return this.op2(\"_add\", a, b);\n            } else if (b.byteLength == this.F.n8*2) {\n                return this.op2(\"_addMixed\", a, b);\n            } else {\n                throw new Error(\"invalid point size\");\n            }\n        } else if (a.byteLength == this.F.n8*2) {\n            if (b.byteLength == this.F.n8*3) {\n                return this.op2(\"_addMixed\", b, a);\n            } else if (b.byteLength == this.F.n8*2) {\n                return this.op2(\"_addAffine\", a, b);\n            } else {\n                throw new Error(\"invalid point size\");\n            }\n        } else {\n            throw new Error(\"invalid point size\");\n        }\n    }\n\n    sub(a,b) {\n        if (a.byteLength == this.F.n8*3) {\n            if (b.byteLength == this.F.n8*3) {\n                return this.op2(\"_sub\", a, b);\n            } else if (b.byteLength == this.F.n8*2) {\n                return this.op2(\"_subMixed\", a, b);\n            } else {\n                throw new Error(\"invalid point size\");\n            }\n        } else if (a.byteLength == this.F.n8*2) {\n            if (b.byteLength == this.F.n8*3) {\n                return this.op2(\"_subMixed\", b, a);\n            } else if (b.byteLength == this.F.n8*2) {\n                return this.op2(\"_subAffine\", a, b);\n            } else {\n                throw new Error(\"invalid point size\");\n            }\n        } else {\n            throw new Error(\"invalid point size\");\n        }\n    }\n\n    neg(a) {\n        if (a.byteLength == this.F.n8*3) {\n            return this.op1(\"_neg\", a);\n        } else if (a.byteLength == this.F.n8*2) {\n            return this.op1Affine(\"_negAffine\", a);\n        } else {\n            throw new Error(\"invalid point size\");\n        }\n    }\n\n    double(a) {\n        if (a.byteLength == this.F.n8*3) {\n            return this.op1(\"_double\", a);\n        } else if (a.byteLength == this.F.n8*2) {\n            return this.op1(\"_doubleAffine\", a);\n        } else {\n            throw new Error(\"invalid point size\");\n        }\n    }\n\n    isZero(a) {\n        if (a.byteLength == this.F.n8*3) {\n            return this.op1Bool(\"_isZero\", a);\n        } else if (a.byteLength == this.F.n8*2) {\n            return this.op1Bool(\"_isZeroAffine\", a);\n        } else {\n            throw new Error(\"invalid point size\");\n        }\n    }\n\n    timesScalar(a, s) {\n        if (!(s instanceof Uint8Array)) {\n            s = Scalar.toLEBuff(Scalar.e(s));\n        }\n        let fnName;\n        if (a.byteLength == this.F.n8*3) {\n            fnName = this.prefix + \"_timesScalar\";\n        } else if (a.byteLength == this.F.n8*2) {\n            fnName = this.prefix + \"_timesScalarAffine\";\n        } else {\n            throw new Error(\"invalid point size\");\n        }\n        this.tm.setBuff(this.pOp1, a);\n        this.tm.setBuff(this.pOp2, s);\n        this.tm.instance.exports[fnName](this.pOp1, this.pOp2, s.byteLength, this.pOp3);\n        return this.tm.getBuff(this.pOp3, this.F.n8*3);\n    }\n\n    timesFr(a, s) {\n        let fnName;\n        if (a.byteLength == this.F.n8*3) {\n            fnName = this.prefix + \"_timesFr\";\n        } else if (a.byteLength == this.F.n8*2) {\n            fnName = this.prefix + \"_timesFrAffine\";\n        } else {\n            throw new Error(\"invalid point size\");\n        }\n        this.tm.setBuff(this.pOp1, a);\n        this.tm.setBuff(this.pOp2, s);\n        this.tm.instance.exports[fnName](this.pOp1, this.pOp2, this.pOp3);\n        return this.tm.getBuff(this.pOp3, this.F.n8*3);\n    }\n\n    eq(a,b) {\n        if (a.byteLength == this.F.n8*3) {\n            if (b.byteLength == this.F.n8*3) {\n                return this.op2bool(\"_eq\", a, b);\n            } else if (b.byteLength == this.F.n8*2) {\n                return this.op2bool(\"_eqMixed\", a, b);\n            } else {\n                throw new Error(\"invalid point size\");\n            }\n        } else if (a.byteLength == this.F.n8*2) {\n            if (b.byteLength == this.F.n8*3) {\n                return this.op2bool(\"_eqMixed\", b, a);\n            } else if (b.byteLength == this.F.n8*2) {\n                return this.op2bool(\"_eqAffine\", a, b);\n            } else {\n                throw new Error(\"invalid point size\");\n            }\n        } else {\n            throw new Error(\"invalid point size\");\n        }\n    }\n\n    toAffine(a) {\n        if (a.byteLength == this.F.n8*3) {\n            return this.op1Affine(\"_toAffine\", a);\n        } else if (a.byteLength == this.F.n8*2) {\n            return a;\n        } else {\n            throw new Error(\"invalid point size\");\n        }\n    }\n\n    toJacobian(a) {\n        if (a.byteLength == this.F.n8*3) {\n            return a;\n        } else if (a.byteLength == this.F.n8*2) {\n            return this.op1(\"_toJacobian\", a);\n        } else {\n            throw new Error(\"invalid point size\");\n        }\n    }\n\n    toRprUncompressed(arr, offset, a) {\n        this.tm.setBuff(this.pOp1, a);\n        if (a.byteLength == this.F.n8*3) {\n            this.tm.instance.exports[this.prefix + \"_toAffine\"](this.pOp1, this.pOp1);\n        } else if (a.byteLength != this.F.n8*2) {\n            throw new Error(\"invalid point size\");\n        }\n        this.tm.instance.exports[this.prefix + \"_LEMtoU\"](this.pOp1, this.pOp1);\n        const res = this.tm.getBuff(this.pOp1, this.F.n8*2);\n        arr.set(res, offset);\n    }\n\n    fromRprUncompressed(arr, offset) {\n        const buff = arr.slice(offset, offset + this.F.n8*2);\n        this.tm.setBuff(this.pOp1, buff);\n        this.tm.instance.exports[this.prefix + \"_UtoLEM\"](this.pOp1, this.pOp1);\n        return this.tm.getBuff(this.pOp1, this.F.n8*2);\n    }\n\n    toRprCompressed(arr, offset, a) {\n        this.tm.setBuff(this.pOp1, a);\n        if (a.byteLength == this.F.n8*3) {\n            this.tm.instance.exports[this.prefix + \"_toAffine\"](this.pOp1, this.pOp1);\n        } else if (a.byteLength != this.F.n8*2) {\n            throw new Error(\"invalid point size\");\n        }\n        this.tm.instance.exports[this.prefix + \"_LEMtoC\"](this.pOp1, this.pOp1);\n        const res = this.tm.getBuff(this.pOp1, this.F.n8);\n        arr.set(res, offset);\n    }\n\n    fromRprCompressed(arr, offset) {\n        const buff = arr.slice(offset, offset + this.F.n8);\n        this.tm.setBuff(this.pOp1, buff);\n        this.tm.instance.exports[this.prefix + \"_CtoLEM\"](this.pOp1, this.pOp2);\n        return this.tm.getBuff(this.pOp2, this.F.n8*2);\n    }\n\n    toUncompressed(a) {\n        const buff = new Uint8Array(this.F.n8*2);\n        this.toRprUncompressed(buff, 0, a);\n        return buff;\n    }\n\n    toRprLEM(arr, offset, a) {\n        if (a.byteLength == this.F.n8*2) {\n            arr.set(a, offset);\n            return;\n        } else if (a.byteLength == this.F.n8*3) {\n            this.tm.setBuff(this.pOp1, a);\n            this.tm.instance.exports[this.prefix + \"_toAffine\"](this.pOp1, this.pOp1);\n            const res = this.tm.getBuff(this.pOp1, this.F.n8*2);\n            arr.set(res, offset);\n        } else {\n            throw new Error(\"invalid point size\");\n        }\n    }\n\n    fromRprLEM(arr, offset) {\n        offset = offset || 0;\n        return arr.slice(offset, offset+this.F.n8*2);\n    }\n\n    toString(a, radix) {\n        if (a.byteLength == this.F.n8*3) {\n            const x = this.F.toString(a.slice(0, this.F.n8), radix);\n            const y = this.F.toString(a.slice(this.F.n8, this.F.n8*2), radix);\n            const z = this.F.toString(a.slice(this.F.n8*2), radix);\n            return `[ ${x}, ${y}, ${z} ]`;\n        } else if (a.byteLength == this.F.n8*2) {\n            const x = this.F.toString(a.slice(0, this.F.n8), radix);\n            const y = this.F.toString(a.slice(this.F.n8), radix);\n            return `[ ${x}, ${y} ]`;\n        } else {\n            throw new Error(\"invalid point size\");\n        }\n    }\n\n    isValid(a) {\n        if (this.isZero(a)) return true;\n        const F = this.F;\n        const aa = this.toAffine(a);\n        const x = aa.slice(0, this.F.n8);\n        const y = aa.slice(this.F.n8, this.F.n8*2);\n        const x3b = F.add(F.mul(F.square(x),x), this.b);\n        const y2 = F.square(y);\n        return F.eq(x3b, y2);\n    }\n\n    fromRng(rng) {\n        const F = this.F;\n        let P = [];\n        let greatest;\n        let x3b;\n        do {\n            P[0] = F.fromRng(rng);\n            greatest = rng.nextBool();\n            x3b = F.add(F.mul(F.square(P[0]), P[0]), this.b);\n        } while (!F.isSquare(x3b));\n\n        P[1] = F.sqrt(x3b);\n\n        const s = F.isNegative(P[1]);\n        if (greatest ^ s) P[1] = F.neg(P[1]);\n\n        let Pbuff = new Uint8Array(this.F.n8*2);\n        Pbuff.set(P[0]);\n        Pbuff.set(P[1], this.F.n8);\n\n        if (this.cofactor) {\n            Pbuff = this.timesScalar(Pbuff, this.cofactor);\n        }\n\n        return Pbuff;\n    }\n\n\n\n    toObject(a) {\n        if (this.isZero(a)) {\n            return [\n                this.F.toObject(this.F.zero),\n                this.F.toObject(this.F.one),\n                this.F.toObject(this.F.zero),\n            ];\n        }\n        const x = this.F.toObject(a.slice(0, this.F.n8));\n        const y = this.F.toObject(a.slice(this.F.n8, this.F.n8*2));\n        let z;\n        if (a.byteLength == this.F.n8*3) {\n            z = this.F.toObject(a.slice(this.F.n8*2, this.F.n8*3));\n        } else {\n            z = this.F.toObject(this.F.one);\n        }\n        return [x, y, z];\n    }\n\n    fromObject(a) {\n        const x = this.F.fromObject(a[0]);\n        const y = this.F.fromObject(a[1]);\n        let z;\n        if (a.length==3) {\n            z = this.F.fromObject(a[2]);\n        } else {\n            z = this.F.one;\n        }\n        if (this.F.isZero(z, this.F.one)) {\n            return this.zeroAffine;\n        } else if (this.F.eq(z, this.F.one)) {\n            const buff = new Uint8Array(this.F.n8*2);\n            buff.set(x);\n            buff.set(y, this.F.n8);\n            return buff;\n        } else {\n            const buff = new Uint8Array(this.F.n8*3);\n            buff.set(x);\n            buff.set(y, this.F.n8);\n            buff.set(z, this.F.n8*2);\n            return buff;\n        }\n    }\n\n    e(a) {\n        if (a instanceof Uint8Array) return a;\n        return this.fromObject(a);\n    }\n\n    x(a) {\n        const tmp = this.toAffine(a);\n        return tmp.slice(0, this.F.n8);\n    }\n\n    y(a) {\n        const tmp = this.toAffine(a);\n        return tmp.slice(this.F.n8);\n    }\n\n}\n\n\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 3852, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/nisch/Desktop/Velocity-1/node_modules/ffjavascript/src/threadman_thread.js"],"sourcesContent":["/* global WebAssembly */\n\nexport default function thread(self) {\n    const MAXMEM = 32767;\n    let instance;\n    let memory;\n\n    if (self) {\n        self.onmessage = function(e) {\n            let data;\n            if (e.data) {\n                data = e.data;\n            } else {\n                data = e;\n            }\n\n            if (data[0].cmd == \"INIT\") {\n                init(data[0]).then(function() {\n                    self.postMessage(data.result);\n                });\n            } else if (data[0].cmd == \"TERMINATE\") {\n                self.close();\n            } else {\n                const res = runTask(data);\n                self.postMessage(res);\n            }\n        };\n    }\n\n    async function init(data) {\n        const code = new Uint8Array(data.code);\n        const wasmModule = await WebAssembly.compile(code);\n        memory = new WebAssembly.Memory({initial:data.init, maximum: MAXMEM});\n\n        instance = await WebAssembly.instantiate(wasmModule, {\n            env: {\n                \"memory\": memory\n            }\n        });\n    }\n\n\n\n    function alloc(length) {\n        const u32 = new Uint32Array(memory.buffer, 0, 1);\n        while (u32[0] & 3) u32[0]++;  // Return always aligned pointers\n        const res = u32[0];\n        u32[0] += length;\n        if (u32[0] + length > memory.buffer.byteLength) {\n            const currentPages = memory.buffer.byteLength / 0x10000;\n            let requiredPages = Math.floor((u32[0] + length) / 0x10000)+1;\n            if (requiredPages>MAXMEM) requiredPages=MAXMEM;\n            memory.grow(requiredPages-currentPages);\n        }\n        return res;\n    }\n\n    function allocBuffer(buffer) {\n        const p = alloc(buffer.byteLength);\n        setBuffer(p, buffer);\n        return p;\n    }\n\n    function getBuffer(pointer, length) {\n        const u8 = new Uint8Array(memory.buffer);\n        return new Uint8Array(u8.buffer, u8.byteOffset + pointer, length);\n    }\n\n    function setBuffer(pointer, buffer) {\n        const u8 = new Uint8Array(memory.buffer);\n        u8.set(new Uint8Array(buffer), pointer);\n    }\n\n    function runTask(task) {\n        if (task[0].cmd == \"INIT\") {\n            return init(task[0]);\n        }\n        const ctx = {\n            vars: [],\n            out: []\n        };\n        const u32a = new Uint32Array(memory.buffer, 0, 1);\n        const oldAlloc = u32a[0];\n        for (let i=0; i<task.length; i++) {\n            switch (task[i].cmd) {\n            case \"ALLOCSET\":\n                ctx.vars[task[i].var] = allocBuffer(task[i].buff);\n                break;\n            case \"ALLOC\":\n                ctx.vars[task[i].var] = alloc(task[i].len);\n                break;\n            case \"SET\":\n                setBuffer(ctx.vars[task[i].var], task[i].buff);\n                break;\n            case \"CALL\": {\n                const params = [];\n                for (let j=0; j<task[i].params.length; j++) {\n                    const p = task[i].params[j];\n                    if (typeof p.var !== \"undefined\") {\n                        params.push(ctx.vars[p.var] + (p.offset || 0));\n                    } else if (typeof p.val != \"undefined\") {\n                        params.push(p.val);\n                    }\n                }\n                instance.exports[task[i].fnName](...params);\n                break;\n            }\n            case \"GET\":\n                ctx.out[task[i].out] = getBuffer(ctx.vars[task[i].var], task[i].len).slice();\n                break;\n            default:\n                throw new Error(\"Invalid cmd\");\n            }\n        }\n        const u32b = new Uint32Array(memory.buffer, 0, 1);\n        u32b[0] = oldAlloc;\n        return ctx.out;\n    }\n\n\n    return runTask;\n}\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 3971, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/nisch/Desktop/Velocity-1/node_modules/ffjavascript/src/threadman.js"],"sourcesContent":["/*\n    Copyright 2019 0KIMS association.\n\n    This file is part of wasmsnark (Web Assembly zkSnark Prover).\n\n    wasmsnark is a free software: you can redistribute it and/or modify it\n    under the terms of the GNU General Public License as published by\n    the Free Software Foundation, either version 3 of the License, or\n    (at your option) any later version.\n\n    wasmsnark is distributed in the hope that it will be useful, but WITHOUT\n    ANY WARRANTY; without even the implied warranty of MERCHANTABILITY\n    or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public\n    License for more details.\n\n    You should have received a copy of the GNU General Public License\n    along with wasmsnark. If not, see <https://www.gnu.org/licenses/>.\n*/\n\n// const MEM_SIZE = 1000;  // Memory size in 64K Pakes (512Mb)\nconst MEM_SIZE = 25;  // Memory size in 64K Pakes (1600Kb)\n\n\nimport thread from \"./threadman_thread.js\";\nimport os from \"os\";\nimport Worker from \"web-worker\";\n\nclass Deferred {\n    constructor() {\n        this.promise = new Promise((resolve, reject)=> {\n            this.reject = reject;\n            this.resolve = resolve;\n        });\n    }\n}\n\nfunction sleep(ms) {\n    return new Promise(resolve => setTimeout(resolve, ms));\n}\n\nlet workerSource;\n\nconst threadStr = `(${thread.toString()})(self)`;\nif(process.browser) {\n    if(globalThis?.Blob) {\n        const threadBytes= new TextEncoder().encode(threadStr);\n        const workerBlob = new Blob([threadBytes], { type: \"application/javascript\" }) ;\n        workerSource = URL.createObjectURL(workerBlob);\n    } else {\n        workerSource = \"data:application/javascript;base64,\" + globalThis.btoa(threadStr);\n    }\n} else {  \n    workerSource = \"data:application/javascript;base64,\" + Buffer.from(threadStr).toString(\"base64\");\n}\n\n\n\nexport default async function buildThreadManager(wasm, singleThread) {\n    const tm = new ThreadManager();\n\n    tm.memory = new WebAssembly.Memory({initial:MEM_SIZE});\n    tm.u8 = new Uint8Array(tm.memory.buffer);\n    tm.u32 = new Uint32Array(tm.memory.buffer);\n\n    const wasmModule = await WebAssembly.compile(wasm.code);\n\n    tm.instance = await WebAssembly.instantiate(wasmModule, {\n        env: {\n            \"memory\": tm.memory\n        }\n    });\n    \n    if(process.browser && !globalThis?.Worker) {\n        singleThread = true;\n    }\n    \n    tm.singleThread = singleThread;\n    tm.initalPFree = tm.u32[0];   // Save the Pointer to free space.\n    tm.pq = wasm.pq;\n    tm.pr = wasm.pr;\n    tm.pG1gen = wasm.pG1gen;\n    tm.pG1zero = wasm.pG1zero;\n    tm.pG2gen = wasm.pG2gen;\n    tm.pG2zero = wasm.pG2zero;\n    tm.pOneT = wasm.pOneT;\n\n    //    tm.pTmp0 = tm.alloc(curve.G2.F.n8*3);\n    //    tm.pTmp1 = tm.alloc(curve.G2.F.n8*3);\n\n    if (singleThread) {\n        tm.code = wasm.code;\n        tm.taskManager = thread();\n        await tm.taskManager([{\n            cmd: \"INIT\",\n            init: MEM_SIZE,\n            code: tm.code.slice()\n        }]);\n        tm.concurrency  = 1;\n    } else {\n        tm.workers = [];\n        tm.pendingDeferreds = [];\n        tm.working = [];\n\n        let concurrency = 2;\n        if (process.browser) {\n            if (typeof navigator === \"object\" && navigator.hardwareConcurrency) {\n                concurrency = navigator.hardwareConcurrency;\n            }\n        } else {\n            concurrency = os.cpus().length;\n        }\n\n        if(concurrency == 0){\n            concurrency = 2;\n        }\n\n        // Limit to 64 threads for memory reasons.\n        if (concurrency>64) concurrency=64;\n        tm.concurrency = concurrency;\n\n        for (let i = 0; i<concurrency; i++) {\n\n            tm.workers[i] = new Worker(workerSource);\n\n            tm.workers[i].addEventListener(\"message\", getOnMsg(i));\n\n            tm.working[i]=false;\n        }\n\n        const initPromises = [];\n        for (let i=0; i<tm.workers.length;i++) {\n            const copyCode = wasm.code.slice();\n            initPromises.push(tm.postAction(i, [{\n                cmd: \"INIT\",\n                init: MEM_SIZE,\n                code: copyCode\n            }], [copyCode.buffer]));\n        }\n\n        await Promise.all(initPromises);\n\n    }\n    return tm;\n\n    function getOnMsg(i) {\n        return function(e) {\n            let data;\n            if ((e)&&(e.data)) {\n                data = e.data;\n            } else {\n                data = e;\n            }\n\n            tm.working[i]=false;\n            tm.pendingDeferreds[i].resolve(data);\n            tm.processWorks();\n        };\n    }\n\n}\n\nexport class ThreadManager {\n    constructor() {\n        this.actionQueue = [];\n        this.oldPFree = 0;\n    }\n\n    startSyncOp() {\n        if (this.oldPFree != 0) throw new Error(\"Sync operation in progress\");\n        this.oldPFree = this.u32[0];\n    }\n\n    endSyncOp() {\n        if (this.oldPFree == 0) throw new Error(\"No sync operation in progress\");\n        this.u32[0] = this.oldPFree;\n        this.oldPFree = 0;\n    }\n\n    postAction(workerId, e, transfers, _deferred) {\n        if (this.working[workerId]) {\n            throw new Error(\"Posting a job t a working worker\");\n        }\n        this.working[workerId] = true;\n\n        this.pendingDeferreds[workerId] = _deferred ? _deferred : new Deferred();\n        this.workers[workerId].postMessage(e, transfers);\n\n        return this.pendingDeferreds[workerId].promise;\n    }\n\n    processWorks() {\n        for (let i=0; (i<this.workers.length)&&(this.actionQueue.length > 0); i++) {\n            if (this.working[i] == false) {\n                const work = this.actionQueue.shift();\n                this.postAction(i, work.data, work.transfers, work.deferred);\n            }\n        }\n    }\n\n    queueAction(actionData, transfers) {\n        const d = new Deferred();\n\n        if (this.singleThread) {\n            const res = this.taskManager(actionData);\n            d.resolve(res);\n        } else {\n            this.actionQueue.push({\n                data: actionData,\n                transfers: transfers,\n                deferred: d\n            });\n            this.processWorks();\n        }\n        return d.promise;\n    }\n\n    resetMemory() {\n        this.u32[0] = this.initalPFree;\n    }\n\n    allocBuff(buff) {\n        const pointer = this.alloc(buff.byteLength);\n        this.setBuff(pointer, buff);\n        return pointer;\n    }\n\n    getBuff(pointer, length) {\n        return this.u8.slice(pointer, pointer+ length);\n    }\n\n    setBuff(pointer, buffer) {\n        this.u8.set(new Uint8Array(buffer), pointer);\n    }\n\n    alloc(length) {\n        while (this.u32[0] & 3) this.u32[0]++;  // Return always aligned pointers\n        const res = this.u32[0];\n        this.u32[0] += length;\n        return res;\n    }\n\n    async terminate() {\n        for (let i=0; i<this.workers.length; i++) {\n            this.workers[i].postMessage([{cmd: \"TERMINATE\"}]);\n        }\n        await sleep(200);\n    }\n\n}\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 4192, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/nisch/Desktop/Velocity-1/node_modules/ffjavascript/src/engine_applykey.js"],"sourcesContent":["import BigBuffer from \"./bigbuffer.js\";\n\nexport default function buildBatchApplyKey(curve, groupName) {\n    const G = curve[groupName];\n    const Fr = curve.Fr;\n    const tm = curve.tm;\n\n    curve[groupName].batchApplyKey = async function(buff, first, inc, inType, outType) {\n        inType = inType || \"affine\";\n        outType = outType || \"affine\";\n        let fnName, fnAffine;\n        let sGin, sGmid, sGout;\n        if (groupName == \"G1\") {\n            if (inType == \"jacobian\") {\n                sGin = G.F.n8*3;\n                fnName = \"g1m_batchApplyKey\";\n            } else {\n                sGin = G.F.n8*2;\n                fnName = \"g1m_batchApplyKeyMixed\";\n            }\n            sGmid = G.F.n8*3;\n            if (outType == \"jacobian\") {\n                sGout = G.F.n8*3;\n            } else {\n                fnAffine = \"g1m_batchToAffine\";\n                sGout = G.F.n8*2;\n            }\n        } else if (groupName == \"G2\") {\n            if (inType == \"jacobian\") {\n                sGin = G.F.n8*3;\n                fnName = \"g2m_batchApplyKey\";\n            } else {\n                sGin = G.F.n8*2;\n                fnName = \"g2m_batchApplyKeyMixed\";\n            }\n            sGmid = G.F.n8*3;\n            if (outType == \"jacobian\") {\n                sGout = G.F.n8*3;\n            } else {\n                fnAffine = \"g2m_batchToAffine\";\n                sGout = G.F.n8*2;\n            }\n        } else if (groupName == \"Fr\") {\n            fnName = \"frm_batchApplyKey\";\n            sGin = G.n8;\n            sGmid = G.n8;\n            sGout = G.n8;\n        } else {\n            throw new Error(\"Invalid group: \" + groupName);\n        }\n        const nPoints = Math.floor(buff.byteLength / sGin);\n        const pointsPerChunk = Math.floor(nPoints/tm.concurrency);\n        const opPromises = [];\n        inc = Fr.e(inc);\n        let t = Fr.e(first);\n        for (let i=0; i<tm.concurrency; i++) {\n            let n;\n            if (i< tm.concurrency-1) {\n                n = pointsPerChunk;\n            } else {\n                n = nPoints - i*pointsPerChunk;\n            }\n            if (n==0) continue;\n\n            const task = [];\n\n            task.push({\n                cmd: \"ALLOCSET\",\n                var: 0,\n                buff: buff.slice(i*pointsPerChunk*sGin, i*pointsPerChunk*sGin + n*sGin)\n            });\n            task.push({cmd: \"ALLOCSET\", var: 1, buff: t});\n            task.push({cmd: \"ALLOCSET\", var: 2, buff: inc});\n            task.push({cmd: \"ALLOC\", var: 3, len: n*Math.max(sGmid, sGout)});\n            task.push({\n                cmd: \"CALL\",\n                fnName: fnName,\n                params: [\n                    {var: 0},\n                    {val: n},\n                    {var: 1},\n                    {var: 2},\n                    {var:3}\n                ]\n            });\n            if (fnAffine) {\n                task.push({\n                    cmd: \"CALL\",\n                    fnName: fnAffine,\n                    params: [\n                        {var: 3},\n                        {val: n},\n                        {var: 3},\n                    ]\n                });\n            }\n            task.push({cmd: \"GET\", out: 0, var: 3, len: n*sGout});\n\n            opPromises.push(tm.queueAction(task));\n            t = Fr.mul(t, Fr.exp(inc, n));\n        }\n\n        const result = await Promise.all(opPromises);\n\n        let outBuff;\n        if (buff instanceof BigBuffer) {\n            outBuff = new BigBuffer(nPoints*sGout);\n        } else {\n            outBuff = new Uint8Array(nPoints*sGout);\n        }\n\n        let p=0;\n        for (let i=0; i<result.length; i++) {\n            outBuff.set(result[i][0], p);\n            p += result[i][0].byteLength;\n        }\n\n        return outBuff;\n    };\n}\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 4345, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/nisch/Desktop/Velocity-1/node_modules/ffjavascript/src/engine_pairing.js"],"sourcesContent":["\nexport default function buildPairing(curve) {\n    const tm = curve.tm;\n    curve.pairing = function pairing(a, b) {\n\n        tm.startSyncOp();\n        const pA = tm.allocBuff(curve.G1.toJacobian(a));\n        const pB = tm.allocBuff(curve.G2.toJacobian(b));\n        const pRes = tm.alloc(curve.Gt.n8);\n        tm.instance.exports[curve.name + \"_pairing\"](pA, pB, pRes);\n\n        const res = tm.getBuff(pRes, curve.Gt.n8);\n\n        tm.endSyncOp();\n        return res;\n    };\n\n    curve.pairingEq = async function pairingEq() {\n        let  buffCt;\n        let nEqs;\n        if ((arguments.length % 2) == 1) {\n            buffCt = arguments[arguments.length-1];\n            nEqs = (arguments.length -1) /2;\n        } else {\n            buffCt = curve.Gt.one;\n            nEqs = arguments.length /2;\n        }\n\n        const opPromises = [];\n        for (let i=0; i<nEqs; i++) {\n\n            const task = [];\n\n            const g1Buff = curve.G1.toJacobian(arguments[i*2]);\n            task.push({cmd: \"ALLOCSET\", var: 0, buff: g1Buff});\n            task.push({cmd: \"ALLOC\", var: 1, len: curve.prePSize});\n\n            const g2Buff = curve.G2.toJacobian(arguments[i*2 +1]);\n            task.push({cmd: \"ALLOCSET\", var: 2, buff: g2Buff});\n            task.push({cmd: \"ALLOC\", var: 3, len: curve.preQSize});\n\n            task.push({cmd: \"ALLOC\", var: 4, len: curve.Gt.n8});\n\n            task.push({cmd: \"CALL\", fnName: curve.name + \"_prepareG1\", params: [\n                {var: 0},\n                {var: 1}\n            ]});\n\n            task.push({cmd: \"CALL\", fnName: curve.name + \"_prepareG2\", params: [\n                {var: 2},\n                {var: 3}\n            ]});\n\n            task.push({cmd: \"CALL\", fnName: curve.name + \"_millerLoop\", params: [\n                {var: 1},\n                {var: 3},\n                {var: 4}\n            ]});\n\n            task.push({cmd: \"GET\", out: 0, var: 4, len: curve.Gt.n8});\n\n            opPromises.push(\n                tm.queueAction(task)\n            );\n        }\n\n\n        const result = await Promise.all(opPromises);\n\n        tm.startSyncOp();\n        const pRes = tm.alloc(curve.Gt.n8);\n        tm.instance.exports.ftm_one(pRes);\n\n        for (let i=0; i<result.length; i++) {\n            const pMR = tm.allocBuff(result[i][0]);\n            tm.instance.exports.ftm_mul(pRes, pMR, pRes);\n        }\n        tm.instance.exports[curve.name + \"_finalExponentiation\"](pRes, pRes);\n\n        const pCt = tm.allocBuff(buffCt);\n\n        const r = !!tm.instance.exports.ftm_eq(pRes, pCt);\n\n        tm.endSyncOp();\n\n        return r;\n    };\n\n    curve.prepareG1 = function(p) {\n        this.tm.startSyncOp();\n        const pP = this.tm.allocBuff(p);\n        const pPrepP = this.tm.alloc(this.prePSize);\n        this.tm.instance.exports[this.name + \"_prepareG1\"](pP, pPrepP);\n        const res = this.tm.getBuff(pPrepP, this.prePSize);\n        this.tm.endSyncOp();\n        return res;\n    };\n\n    curve.prepareG2 = function(q) {\n        this.tm.startSyncOp();\n        const pQ = this.tm.allocBuff(q);\n        const pPrepQ = this.tm.alloc(this.preQSize);\n        this.tm.instance.exports[this.name + \"_prepareG2\"](pQ, pPrepQ);\n        const res = this.tm.getBuff(pPrepQ, this.preQSize);\n        this.tm.endSyncOp();\n        return res;\n    };\n\n    curve.millerLoop = function(preP, preQ) {\n        this.tm.startSyncOp();\n        const pPreP = this.tm.allocBuff(preP);\n        const pPreQ = this.tm.allocBuff(preQ);\n        const pRes = this.tm.alloc(this.Gt.n8);\n        this.tm.instance.exports[this.name + \"_millerLoop\"](pPreP, pPreQ, pRes);\n        const res = this.tm.getBuff(pRes, this.Gt.n8);\n        this.tm.endSyncOp();\n        return res;\n    };\n\n    curve.finalExponentiation = function(a) {\n        this.tm.startSyncOp();\n        const pA = this.tm.allocBuff(a);\n        const pRes = this.tm.alloc(this.Gt.n8);\n        this.tm.instance.exports[this.name + \"_finalExponentiation\"](pA, pRes);\n        const res = this.tm.getBuff(pRes, this.Gt.n8);\n        this.tm.endSyncOp();\n        return res;\n    };\n\n}\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 4504, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/nisch/Desktop/Velocity-1/node_modules/ffjavascript/src/engine_multiexp.js"],"sourcesContent":["import { log2 } from \"./utils.js\";\n\nconst pTSizes = [\n    1 ,  1,  1,  1,    2,  3,  4,  5,\n    6 ,  7,  7,  8,    9, 10, 11, 12,\n    13, 13, 14, 15,   16, 16, 17, 17,\n    17, 17, 17, 17,   17, 17, 17, 17\n];\n\nexport default function buildMultiexp(curve, groupName) {\n    const G = curve[groupName];\n    const tm = G.tm;\n    async function _multiExpChunk(buffBases, buffScalars, inType, logger, logText) {\n        if ( ! (buffBases instanceof Uint8Array) ) {\n            if (logger) logger.error(`${logText} _multiExpChunk buffBases is not Uint8Array`);\n            throw new Error(`${logText} _multiExpChunk buffBases is not Uint8Array`);\n        }\n        if ( ! (buffScalars instanceof Uint8Array) ) {\n            if (logger) logger.error(`${logText} _multiExpChunk buffScalars is not Uint8Array`);\n            throw new Error(`${logText} _multiExpChunk buffScalars is not Uint8Array`);\n        }\n        inType = inType || \"affine\";\n\n        let sGIn;\n        let fnName;\n        if (groupName == \"G1\") {\n            if (inType == \"affine\") {\n                fnName = \"g1m_multiexpAffine_chunk\";\n                sGIn = G.F.n8*2;\n            } else {\n                fnName = \"g1m_multiexp_chunk\";\n                sGIn = G.F.n8*3;\n            }\n        } else if (groupName == \"G2\") {\n            if (inType == \"affine\") {\n                fnName = \"g2m_multiexpAffine_chunk\";\n                sGIn = G.F.n8*2;\n            } else {\n                fnName = \"g2m_multiexp_chunk\";\n                sGIn = G.F.n8*3;\n            }\n        } else {\n            throw new Error(\"Invalid group\");\n        }\n        const nPoints = Math.floor(buffBases.byteLength / sGIn);\n\n        if (nPoints == 0) return G.zero;\n        const sScalar = Math.floor(buffScalars.byteLength / nPoints);\n        if( sScalar * nPoints != buffScalars.byteLength) {\n            throw new Error(\"Scalar size does not match\");\n        }\n\n        const bitChunkSize = pTSizes[log2(nPoints)];\n        const nChunks = Math.floor((sScalar*8 - 1) / bitChunkSize) +1;\n\n        const opPromises = [];\n        for (let i=0; i<nChunks; i++) {\n            const task = [\n                {cmd: \"ALLOCSET\", var: 0, buff: buffBases},\n                {cmd: \"ALLOCSET\", var: 1, buff: buffScalars},\n                {cmd: \"ALLOC\", var: 2, len: G.F.n8*3},\n                {cmd: \"CALL\", fnName: fnName, params: [\n                    {var: 0},\n                    {var: 1},\n                    {val: sScalar},\n                    {val: nPoints},\n                    {val: i*bitChunkSize},\n                    {val: Math.min(sScalar*8 - i*bitChunkSize, bitChunkSize)},\n                    {var: 2}\n                ]},\n                {cmd: \"GET\", out: 0, var: 2, len: G.F.n8*3}\n            ];\n            opPromises.push(\n                G.tm.queueAction(task)\n            );\n        }\n\n        const result = await Promise.all(opPromises);\n\n        let res = G.zero;\n        for (let i=result.length-1; i>=0; i--) {\n            if (!G.isZero(res)) {\n                for (let j=0; j<bitChunkSize; j++) res = G.double(res);\n            }\n            res = G.add(res, result[i][0]);\n        }\n\n        return res;\n    }\n\n    async function _multiExp(buffBases, buffScalars, inType, logger, logText) {\n        const MAX_CHUNK_SIZE = 1 << 22;\n        const MIN_CHUNK_SIZE = 1 << 10;\n        let sGIn;\n\n        if (groupName == \"G1\") {\n            if (inType == \"affine\") {\n                sGIn = G.F.n8*2;\n            } else {\n                sGIn = G.F.n8*3;\n            }\n        } else if (groupName == \"G2\") {\n            if (inType == \"affine\") {\n                sGIn = G.F.n8*2;\n            } else {\n                sGIn = G.F.n8*3;\n            }\n        } else {\n            throw new Error(\"Invalid group\");\n        }\n\n        const nPoints = Math.floor(buffBases.byteLength / sGIn);\n        if (nPoints == 0) return G.zero;\n        const sScalar = Math.floor(buffScalars.byteLength / nPoints);\n        if( sScalar * nPoints != buffScalars.byteLength) {\n            throw new Error(\"Scalar size does not match\");\n        }\n\n        const bitChunkSize = pTSizes[log2(nPoints)];\n        const nChunks = Math.floor((sScalar*8 - 1) / bitChunkSize) +1;\n\n        let chunkSize;\n        chunkSize = Math.floor(nPoints / (tm.concurrency /nChunks));\n        if (chunkSize>MAX_CHUNK_SIZE) chunkSize = MAX_CHUNK_SIZE;\n        if (chunkSize<MIN_CHUNK_SIZE) chunkSize = MIN_CHUNK_SIZE;\n\n        const opPromises = [];\n        for (let i=0; i<nPoints; i += chunkSize) {\n            if (logger) logger.debug(`Multiexp start: ${logText}: ${i}/${nPoints}`);\n            const n= Math.min(nPoints - i, chunkSize);\n            const buffBasesChunk = buffBases.slice(i*sGIn, (i+n)*sGIn);\n            const buffScalarsChunk = buffScalars.slice(i*sScalar, (i+n)*sScalar);\n            opPromises.push(_multiExpChunk(buffBasesChunk, buffScalarsChunk, inType, logger, logText).then( (r) => {\n                if (logger) logger.debug(`Multiexp end: ${logText}: ${i}/${nPoints}`);\n                return r;\n            }));\n        }\n\n        const result = await Promise.all(opPromises);\n\n        let res = G.zero;\n        for (let i=result.length-1; i>=0; i--) {\n            res = G.add(res, result[i]);\n        }\n\n        return res;\n    }\n\n    G.multiExp = async function multiExpAffine(buffBases, buffScalars, logger, logText) {\n        return await _multiExp(buffBases, buffScalars, \"jacobian\", logger, logText);\n    };\n    G.multiExpAffine = async function multiExpAffine(buffBases, buffScalars, logger, logText) {\n        return await _multiExp(buffBases, buffScalars, \"affine\", logger, logText);\n    };\n}\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 4710, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/nisch/Desktop/Velocity-1/node_modules/ffjavascript/src/engine_fft.js"],"sourcesContent":["import {log2, buffReverseBits, array2buffer, buffer2array} from \"./utils.js\";\nimport BigBuffer from \"./bigbuffer.js\";\n\n\nexport default function buildFFT(curve, groupName) {\n    const G = curve[groupName];\n    const Fr = curve.Fr;\n    const tm = G.tm;\n    async function _fft(buff, inverse, inType, outType, logger, loggerTxt) {\n\n        inType = inType || \"affine\";\n        outType = outType || \"affine\";\n        const MAX_BITS_THREAD = 14;\n\n        let sIn, sMid, sOut, fnIn2Mid, fnMid2Out, fnFFTMix, fnFFTJoin, fnFFTFinal;\n        if (groupName == \"G1\") {\n            if (inType == \"affine\") {\n                sIn = G.F.n8*2;\n                fnIn2Mid = \"g1m_batchToJacobian\";\n            } else {\n                sIn = G.F.n8*3;\n            }\n            sMid = G.F.n8*3;\n            if (inverse) {\n                fnFFTFinal = \"g1m_fftFinal\";\n            }\n            fnFFTJoin = \"g1m_fftJoin\";\n            fnFFTMix = \"g1m_fftMix\";\n\n            if (outType == \"affine\") {\n                sOut = G.F.n8*2;\n                fnMid2Out = \"g1m_batchToAffine\";\n            } else {\n                sOut = G.F.n8*3;\n            }\n\n        } else if (groupName == \"G2\") {\n            if (inType == \"affine\") {\n                sIn = G.F.n8*2;\n                fnIn2Mid = \"g2m_batchToJacobian\";\n            } else {\n                sIn = G.F.n8*3;\n            }\n            sMid = G.F.n8*3;\n            if (inverse) {\n                fnFFTFinal = \"g2m_fftFinal\";\n            }\n            fnFFTJoin = \"g2m_fftJoin\";\n            fnFFTMix = \"g2m_fftMix\";\n            if (outType == \"affine\") {\n                sOut = G.F.n8*2;\n                fnMid2Out = \"g2m_batchToAffine\";\n            } else {\n                sOut = G.F.n8*3;\n            }\n        } else if (groupName == \"Fr\") {\n            sIn = G.n8;\n            sMid = G.n8;\n            sOut = G.n8;\n            if (inverse) {\n                fnFFTFinal = \"frm_fftFinal\";\n            }\n            fnFFTMix = \"frm_fftMix\";\n            fnFFTJoin = \"frm_fftJoin\";\n        }\n\n\n        let returnArray = false;\n        if (Array.isArray(buff)) {\n            buff = array2buffer(buff, sIn);\n            returnArray = true;\n        } else {\n            buff = buff.slice(0, buff.byteLength);\n        }\n\n        const nPoints = buff.byteLength / sIn;\n        const bits = log2(nPoints);\n\n        if  ((1 << bits) != nPoints) {\n            throw new Error(\"fft must be multiple of 2\" );\n        }\n\n        if (bits == Fr.s +1) {\n            let buffOut;\n\n            if (inverse) {\n                buffOut =  await _fftExtInv(buff, inType, outType, logger, loggerTxt);\n            } else {\n                buffOut =  await _fftExt(buff, inType, outType, logger, loggerTxt);\n            }\n\n            if (returnArray) {\n                return buffer2array(buffOut, sOut);\n            } else {\n                return buffOut;\n            }\n        }\n\n        let inv;\n        if (inverse) {\n            inv = Fr.inv(Fr.e(nPoints));\n        }\n\n        let buffOut;\n\n        buffReverseBits(buff, sIn);\n\n        let chunks;\n        let pointsInChunk = Math.min(1 << MAX_BITS_THREAD, nPoints);\n        let nChunks = nPoints / pointsInChunk;\n\n        while ((nChunks < tm.concurrency)&&(pointsInChunk>=16)) {\n            nChunks *= 2;\n            pointsInChunk /= 2;\n        }\n\n        const l2Chunk = log2(pointsInChunk);\n\n        const promises = [];\n        for (let i = 0; i< nChunks; i++) {\n            if (logger) logger.debug(`${loggerTxt}: fft ${bits} mix start: ${i}/${nChunks}`);\n            const task = [];\n            task.push({cmd: \"ALLOC\", var: 0, len: sMid*pointsInChunk});\n            const buffChunk = buff.slice( (pointsInChunk * i)*sIn, (pointsInChunk * (i+1))*sIn);\n            task.push({cmd: \"SET\", var: 0, buff: buffChunk});\n            if (fnIn2Mid) {\n                task.push({cmd: \"CALL\", fnName:fnIn2Mid, params: [{var:0}, {val: pointsInChunk}, {var: 0}]});\n            }\n            for (let j=1; j<=l2Chunk;j++) {\n                task.push({cmd: \"CALL\", fnName:fnFFTMix, params: [{var:0}, {val: pointsInChunk}, {val: j}]});\n            }\n\n            if (l2Chunk==bits) {\n                if (fnFFTFinal) {\n                    task.push({cmd: \"ALLOCSET\", var: 1, buff: inv});\n                    task.push({cmd: \"CALL\", fnName: fnFFTFinal,  params:[\n                        {var: 0},\n                        {val: pointsInChunk},\n                        {var: 1},\n                    ]});\n                }\n                if (fnMid2Out) {\n                    task.push({cmd: \"CALL\", fnName:fnMid2Out, params: [{var:0}, {val: pointsInChunk}, {var: 0}]});\n                }\n                task.push({cmd: \"GET\", out: 0, var: 0, len: pointsInChunk*sOut});\n            } else {\n                task.push({cmd: \"GET\", out:0, var: 0, len: sMid*pointsInChunk});\n            }\n            promises.push(tm.queueAction(task).then( (r) => {\n                if (logger) logger.debug(`${loggerTxt}: fft ${bits} mix end: ${i}/${nChunks}`);\n                return r;\n            }));\n        }\n\n        chunks = await Promise.all(promises);\n        for (let i = 0; i< nChunks; i++) chunks[i] = chunks[i][0];\n\n        for (let i = l2Chunk+1;   i<=bits; i++) {\n            if (logger) logger.debug(`${loggerTxt}: fft  ${bits}  join: ${i}/${bits}`);\n            const nGroups = 1 << (bits - i);\n            const nChunksPerGroup = nChunks / nGroups;\n            const opPromises = [];\n            for (let j=0; j<nGroups; j++) {\n                for (let k=0; k <nChunksPerGroup/2; k++) {\n                    const first = Fr.exp( Fr.w[i], k*pointsInChunk);\n                    const inc = Fr.w[i];\n                    const o1 = j*nChunksPerGroup + k;\n                    const o2 = j*nChunksPerGroup + k + nChunksPerGroup/2;\n\n                    const task = [];\n                    task.push({cmd: \"ALLOCSET\", var: 0, buff: chunks[o1]});\n                    task.push({cmd: \"ALLOCSET\", var: 1, buff: chunks[o2]});\n                    task.push({cmd: \"ALLOCSET\", var: 2, buff: first});\n                    task.push({cmd: \"ALLOCSET\", var: 3, buff: inc});\n                    task.push({cmd: \"CALL\", fnName: fnFFTJoin,  params:[\n                        {var: 0},\n                        {var: 1},\n                        {val: pointsInChunk},\n                        {var: 2},\n                        {var: 3}\n                    ]});\n                    if (i==bits) {\n                        if (fnFFTFinal) {\n                            task.push({cmd: \"ALLOCSET\", var: 4, buff: inv});\n                            task.push({cmd: \"CALL\", fnName: fnFFTFinal,  params:[\n                                {var: 0},\n                                {val: pointsInChunk},\n                                {var: 4},\n                            ]});\n                            task.push({cmd: \"CALL\", fnName: fnFFTFinal,  params:[\n                                {var: 1},\n                                {val: pointsInChunk},\n                                {var: 4},\n                            ]});\n                        }\n                        if (fnMid2Out) {\n                            task.push({cmd: \"CALL\", fnName:fnMid2Out, params: [{var:0}, {val: pointsInChunk}, {var: 0}]});\n                            task.push({cmd: \"CALL\", fnName:fnMid2Out, params: [{var:1}, {val: pointsInChunk}, {var: 1}]});\n                        }\n                        task.push({cmd: \"GET\", out: 0, var: 0, len: pointsInChunk*sOut});\n                        task.push({cmd: \"GET\", out: 1, var: 1, len: pointsInChunk*sOut});\n                    } else {\n                        task.push({cmd: \"GET\", out: 0, var: 0, len: pointsInChunk*sMid});\n                        task.push({cmd: \"GET\", out: 1, var: 1, len: pointsInChunk*sMid});\n                    }\n                    opPromises.push(tm.queueAction(task).then( (r) => {\n                        if (logger) logger.debug(`${loggerTxt}: fft ${bits} join  ${i}/${bits}  ${j+1}/${nGroups} ${k}/${nChunksPerGroup/2}`);\n                        return r;\n                    }));\n                }\n            }\n\n            const res = await Promise.all(opPromises);\n            for (let j=0; j<nGroups; j++) {\n                for (let k=0; k <nChunksPerGroup/2; k++) {\n                    const o1 = j*nChunksPerGroup + k;\n                    const o2 = j*nChunksPerGroup + k + nChunksPerGroup/2;\n                    const resChunk = res.shift();\n                    chunks[o1] = resChunk[0];\n                    chunks[o2] = resChunk[1];\n                }\n            }\n        }\n\n        if (buff instanceof BigBuffer) {\n            buffOut = new BigBuffer(nPoints*sOut);\n        } else {\n            buffOut = new Uint8Array(nPoints*sOut);\n        }\n        if (inverse) {\n            buffOut.set(chunks[0].slice((pointsInChunk-1)*sOut));\n            let p= sOut;\n            for (let i=nChunks-1; i>0; i--) {\n                buffOut.set(chunks[i], p);\n                p += pointsInChunk*sOut;\n                delete chunks[i];  // Liberate mem\n            }\n            buffOut.set(chunks[0].slice(0, (pointsInChunk-1)*sOut), p);\n            delete chunks[0];\n        } else {\n            for (let i=0; i<nChunks; i++) {\n                buffOut.set(chunks[i], pointsInChunk*sOut*i);\n                delete chunks[i];\n            }\n        }\n\n        if (returnArray) {\n            return buffer2array(buffOut, sOut);\n        } else {\n            return buffOut;\n        }\n    }\n\n    async function _fftExt(buff, inType, outType, logger, loggerTxt) {\n        let b1, b2;\n        b1 = buff.slice( 0 , buff.byteLength/2);\n        b2 = buff.slice( buff.byteLength/2, buff.byteLength);\n\n        const promises = [];\n\n        [b1, b2] = await _fftJoinExt(b1, b2, \"fftJoinExt\", Fr.one, Fr.shift, inType, \"jacobian\", logger, loggerTxt);\n\n        promises.push( _fft(b1, false, \"jacobian\", outType, logger, loggerTxt));\n        promises.push( _fft(b2, false, \"jacobian\", outType, logger, loggerTxt));\n\n        const res1 = await Promise.all(promises);\n\n        let buffOut;\n        if (res1[0].byteLength > (1<<28)) {\n            buffOut = new BigBuffer(res1[0].byteLength*2);\n        } else {\n            buffOut = new Uint8Array(res1[0].byteLength*2);\n        }\n\n        buffOut.set(res1[0]);\n        buffOut.set(res1[1], res1[0].byteLength);\n\n        return buffOut;\n    }\n\n    async function _fftExtInv(buff, inType, outType, logger, loggerTxt) {\n        let b1, b2;\n        b1 = buff.slice( 0 , buff.byteLength/2);\n        b2 = buff.slice( buff.byteLength/2, buff.byteLength);\n\n        const promises = [];\n\n        promises.push( _fft(b1, true, inType, \"jacobian\", logger, loggerTxt));\n        promises.push( _fft(b2, true, inType, \"jacobian\", logger, loggerTxt));\n\n        [b1, b2] = await Promise.all(promises);\n\n        const res1 = await _fftJoinExt(b1, b2, \"fftJoinExtInv\", Fr.one, Fr.shiftInv, \"jacobian\", outType, logger, loggerTxt);\n\n        let buffOut;\n        if (res1[0].byteLength > (1<<28)) {\n            buffOut = new BigBuffer(res1[0].byteLength*2);\n        } else {\n            buffOut = new Uint8Array(res1[0].byteLength*2);\n        }\n\n        buffOut.set(res1[0]);\n        buffOut.set(res1[1], res1[0].byteLength);\n\n        return buffOut;\n    }\n\n\n    async function _fftJoinExt(buff1, buff2, fn, first, inc, inType, outType, logger, loggerTxt) {\n        const MAX_CHUNK_SIZE = 1<<16;\n        const MIN_CHUNK_SIZE = 1<<4;\n\n        let fnName;\n        let fnIn2Mid, fnMid2Out;\n        let sOut, sIn, sMid;\n\n        if (groupName == \"G1\") {\n            if (inType == \"affine\") {\n                sIn = G.F.n8*2;\n                fnIn2Mid = \"g1m_batchToJacobian\";\n            } else {\n                sIn = G.F.n8*3;\n            }\n            sMid = G.F.n8*3;\n            fnName = \"g1m_\"+fn;\n            if (outType == \"affine\") {\n                fnMid2Out = \"g1m_batchToAffine\";\n                sOut = G.F.n8*2;\n            } else {\n                sOut = G.F.n8*3;\n            }\n        } else if (groupName == \"G2\") {\n            if (inType == \"affine\") {\n                sIn = G.F.n8*2;\n                fnIn2Mid = \"g2m_batchToJacobian\";\n            } else {\n                sIn = G.F.n8*3;\n            }\n            fnName = \"g2m_\"+fn;\n            sMid = G.F.n8*3;\n            if (outType == \"affine\") {\n                fnMid2Out = \"g2m_batchToAffine\";\n                sOut = G.F.n8*2;\n            } else {\n                sOut = G.F.n8*3;\n            }\n        } else if (groupName == \"Fr\") {\n            sIn = Fr.n8;\n            sOut = Fr.n8;\n            sMid = Fr.n8;\n            fnName = \"frm_\" + fn;\n        } else {\n            throw new Error(\"Invalid group\");\n        }\n\n        if (buff1.byteLength != buff2.byteLength) {\n            throw new Error(\"Invalid buffer size\");\n        }\n        const nPoints = Math.floor(buff1.byteLength / sIn);\n        if (nPoints != 1 << log2(nPoints)) {\n            throw new Error(\"Invalid number of points\");\n        }\n\n        let chunkSize = Math.floor(nPoints /tm.concurrency);\n        if (chunkSize < MIN_CHUNK_SIZE) chunkSize = MIN_CHUNK_SIZE;\n        if (chunkSize > MAX_CHUNK_SIZE) chunkSize = MAX_CHUNK_SIZE;\n\n        const opPromises = [];\n\n        for (let i=0; i<nPoints; i += chunkSize) {\n            if (logger) logger.debug(`${loggerTxt}: fftJoinExt Start: ${i}/${nPoints}`);\n            const n= Math.min(nPoints - i, chunkSize);\n\n            const firstChunk = Fr.mul(first, Fr.exp( inc, i));\n            const task = [];\n\n            const b1 = buff1.slice(i*sIn, (i+n)*sIn);\n            const b2 = buff2.slice(i*sIn, (i+n)*sIn);\n\n            task.push({cmd: \"ALLOC\", var: 0, len: sMid*n});\n            task.push({cmd: \"SET\", var: 0, buff: b1});\n            task.push({cmd: \"ALLOC\", var: 1, len: sMid*n});\n            task.push({cmd: \"SET\", var: 1, buff: b2});\n            task.push({cmd: \"ALLOCSET\", var: 2, buff: firstChunk});\n            task.push({cmd: \"ALLOCSET\", var: 3, buff: inc});\n            if (fnIn2Mid) {\n                task.push({cmd: \"CALL\", fnName:fnIn2Mid, params: [{var:0}, {val: n}, {var: 0}]});\n                task.push({cmd: \"CALL\", fnName:fnIn2Mid, params: [{var:1}, {val: n}, {var: 1}]});\n            }\n            task.push({cmd: \"CALL\", fnName: fnName, params: [\n                {var: 0},\n                {var: 1},\n                {val: n},\n                {var: 2},\n                {var: 3},\n                {val: Fr.s},\n            ]});\n            if (fnMid2Out) {\n                task.push({cmd: \"CALL\", fnName:fnMid2Out, params: [{var:0}, {val: n}, {var: 0}]});\n                task.push({cmd: \"CALL\", fnName:fnMid2Out, params: [{var:1}, {val: n}, {var: 1}]});\n            }\n            task.push({cmd: \"GET\", out: 0, var: 0, len: n*sOut});\n            task.push({cmd: \"GET\", out: 1, var: 1, len: n*sOut});\n            opPromises.push(\n                tm.queueAction(task).then( (r) => {\n                    if (logger) logger.debug(`${loggerTxt}: fftJoinExt End: ${i}/${nPoints}`);\n                    return r;\n                })\n            );\n        }\n\n        const result = await Promise.all(opPromises);\n\n        let fullBuffOut1;\n        let fullBuffOut2;\n        if (nPoints * sOut > 1<<28) {\n            fullBuffOut1 = new BigBuffer(nPoints*sOut);\n            fullBuffOut2 = new BigBuffer(nPoints*sOut);\n        } else {\n            fullBuffOut1 = new Uint8Array(nPoints*sOut);\n            fullBuffOut2 = new Uint8Array(nPoints*sOut);\n        }\n\n        let p =0;\n        for (let i=0; i<result.length; i++) {\n            fullBuffOut1.set(result[i][0], p);\n            fullBuffOut2.set(result[i][1], p);\n            p+=result[i][0].byteLength;\n        }\n\n        return [fullBuffOut1, fullBuffOut2];\n    }\n\n\n    G.fft = async function(buff, inType, outType, logger, loggerTxt) {\n        return await _fft(buff, false, inType, outType, logger, loggerTxt);\n    };\n\n    G.ifft = async function(buff, inType, outType, logger, loggerTxt) {\n        return await _fft(buff, true, inType, outType, logger, loggerTxt);\n    };\n\n    G.lagrangeEvaluations = async function (buff, inType, outType, logger, loggerTxt) {\n        inType = inType || \"affine\";\n        outType = outType || \"affine\";\n\n        let sIn;\n        if (groupName == \"G1\") {\n            if (inType == \"affine\") {\n                sIn = G.F.n8*2;\n            } else {\n                sIn = G.F.n8*3;\n            }\n        } else if (groupName == \"G2\") {\n            if (inType == \"affine\") {\n                sIn = G.F.n8*2;\n            } else {\n                sIn = G.F.n8*3;\n            }\n        } else if (groupName == \"Fr\") {\n            sIn = Fr.n8;\n        } else {\n            throw new Error(\"Invalid group\");\n        }\n\n        const nPoints = buff.byteLength /sIn;\n        const bits = log2(nPoints);\n\n        if ((2 ** bits)*sIn != buff.byteLength) {\n            if (logger) logger.error(\"lagrangeEvaluations iinvalid input size\");\n            throw new Error(\"lagrangeEvaluations invalid Input size\");\n        }\n\n        if (bits <= Fr.s) {\n            return await G.ifft(buff, inType, outType, logger, loggerTxt);\n        }\n\n        if (bits > Fr.s+1) {\n            if (logger) logger.error(\"lagrangeEvaluations input too big\");\n            throw new Error(\"lagrangeEvaluations input too big\");\n        }\n\n        let t0 = buff.slice(0, buff.byteLength/2);\n        let t1 = buff.slice(buff.byteLength/2, buff.byteLength);\n\n\n        const shiftToSmallM = Fr.exp(Fr.shift, nPoints/2);\n        const sConst = Fr.inv( Fr.sub(Fr.one, shiftToSmallM));\n\n        [t0, t1] = await _fftJoinExt(t0, t1, \"prepareLagrangeEvaluation\", sConst, Fr.shiftInv, inType, \"jacobian\", logger, loggerTxt + \" prep\");\n\n        const promises = [];\n\n        promises.push( _fft(t0, true, \"jacobian\", outType, logger, loggerTxt + \" t0\"));\n        promises.push( _fft(t1, true, \"jacobian\", outType, logger, loggerTxt + \" t1\"));\n\n        [t0, t1] = await Promise.all(promises);\n\n        let buffOut;\n        if (t0.byteLength > (1<<28)) {\n            buffOut = new BigBuffer(t0.byteLength*2);\n        } else {\n            buffOut = new Uint8Array(t0.byteLength*2);\n        }\n\n        buffOut.set(t0);\n        buffOut.set(t1, t0.byteLength);\n\n        return buffOut;\n    };\n\n    G.fftMix = async function fftMix(buff) {\n        const sG = G.F.n8*3;\n        let fnName, fnFFTJoin;\n        if (groupName == \"G1\") {\n            fnName = \"g1m_fftMix\";\n            fnFFTJoin = \"g1m_fftJoin\";\n        } else if (groupName == \"G2\") {\n            fnName = \"g2m_fftMix\";\n            fnFFTJoin = \"g2m_fftJoin\";\n        } else if (groupName == \"Fr\") {\n            fnName = \"frm_fftMix\";\n            fnFFTJoin = \"frm_fftJoin\";\n        } else {\n            throw new Error(\"Invalid group\");\n        }\n\n        const nPoints = Math.floor(buff.byteLength / sG);\n        const power = log2(nPoints);\n\n        let nChunks = 1 << log2(tm.concurrency);\n\n        if (nPoints <= nChunks*2) nChunks = 1;\n\n        const pointsPerChunk = nPoints / nChunks;\n\n        const powerChunk = log2(pointsPerChunk);\n\n        const opPromises = [];\n        for (let i=0; i<nChunks; i++) {\n            const task = [];\n            const b = buff.slice((i* pointsPerChunk)*sG, ((i+1)* pointsPerChunk)*sG);\n            task.push({cmd: \"ALLOCSET\", var: 0, buff: b});\n            for (let j=1; j<=powerChunk; j++) {\n                task.push({cmd: \"CALL\", fnName: fnName, params: [\n                    {var: 0},\n                    {val: pointsPerChunk},\n                    {val: j}\n                ]});\n            }\n            task.push({cmd: \"GET\", out: 0, var: 0, len: pointsPerChunk*sG});\n            opPromises.push(\n                tm.queueAction(task)\n            );\n        }\n\n        const result = await Promise.all(opPromises);\n\n        const chunks = [];\n        for (let i=0; i<result.length; i++) chunks[i] = result[i][0];\n\n\n        for (let i = powerChunk+1; i<=power; i++) {\n            const nGroups = 1 << (power - i);\n            const nChunksPerGroup = nChunks / nGroups;\n            const opPromises = [];\n            for (let j=0; j<nGroups; j++) {\n                for (let k=0; k <nChunksPerGroup/2; k++) {\n                    const first = Fr.exp( Fr.w[i], k*pointsPerChunk);\n                    const inc = Fr.w[i];\n                    const o1 = j*nChunksPerGroup + k;\n                    const o2 = j*nChunksPerGroup + k + nChunksPerGroup/2;\n\n                    const task = [];\n                    task.push({cmd: \"ALLOCSET\", var: 0, buff: chunks[o1]});\n                    task.push({cmd: \"ALLOCSET\", var: 1, buff: chunks[o2]});\n                    task.push({cmd: \"ALLOCSET\", var: 2, buff: first});\n                    task.push({cmd: \"ALLOCSET\", var: 3, buff: inc});\n                    task.push({cmd: \"CALL\", fnName: fnFFTJoin,  params:[\n                        {var: 0},\n                        {var: 1},\n                        {val: pointsPerChunk},\n                        {var: 2},\n                        {var: 3}\n                    ]});\n                    task.push({cmd: \"GET\", out: 0, var: 0, len: pointsPerChunk*sG});\n                    task.push({cmd: \"GET\", out: 1, var: 1, len: pointsPerChunk*sG});\n                    opPromises.push(tm.queueAction(task));\n                }\n            }\n\n            const res = await Promise.all(opPromises);\n            for (let j=0; j<nGroups; j++) {\n                for (let k=0; k <nChunksPerGroup/2; k++) {\n                    const o1 = j*nChunksPerGroup + k;\n                    const o2 = j*nChunksPerGroup + k + nChunksPerGroup/2;\n                    const resChunk = res.shift();\n                    chunks[o1] = resChunk[0];\n                    chunks[o2] = resChunk[1];\n                }\n            }\n        }\n\n        let fullBuffOut;\n        if (buff instanceof BigBuffer) {\n            fullBuffOut = new BigBuffer(nPoints*sG);\n        } else {\n            fullBuffOut = new Uint8Array(nPoints*sG);\n        }\n        let p =0;\n        for (let i=0; i<nChunks; i++) {\n            fullBuffOut.set(chunks[i], p);\n            p+=chunks[i].byteLength;\n        }\n\n        return fullBuffOut;\n    };\n\n    G.fftJoin = async function fftJoin(buff1, buff2, first, inc) {\n        const sG = G.F.n8*3;\n        let fnName;\n        if (groupName == \"G1\") {\n            fnName = \"g1m_fftJoin\";\n        } else if (groupName == \"G2\") {\n            fnName = \"g2m_fftJoin\";\n        } else if (groupName == \"Fr\") {\n            fnName = \"frm_fftJoin\";\n        } else {\n            throw new Error(\"Invalid group\");\n        }\n\n        if (buff1.byteLength != buff2.byteLength) {\n            throw new Error(\"Invalid buffer size\");\n        }\n        const nPoints = Math.floor(buff1.byteLength / sG);\n        if (nPoints != 1 << log2(nPoints)) {\n            throw new Error(\"Invalid number of points\");\n        }\n\n        let nChunks = 1 << log2(tm.concurrency);\n        if (nPoints <= nChunks*2) nChunks = 1;\n\n        const pointsPerChunk = nPoints / nChunks;\n\n\n        const opPromises = [];\n        for (let i=0; i<nChunks; i++) {\n            const task = [];\n\n            const firstChunk = Fr.mul(first, Fr.exp(inc, i*pointsPerChunk));\n            const b1 = buff1.slice((i* pointsPerChunk)*sG, ((i+1)* pointsPerChunk)*sG);\n            const b2 = buff2.slice((i* pointsPerChunk)*sG, ((i+1)* pointsPerChunk)*sG);\n            task.push({cmd: \"ALLOCSET\", var: 0, buff: b1});\n            task.push({cmd: \"ALLOCSET\", var: 1, buff: b2});\n            task.push({cmd: \"ALLOCSET\", var: 2, buff: firstChunk});\n            task.push({cmd: \"ALLOCSET\", var: 3, buff: inc});\n            task.push({cmd: \"CALL\", fnName: fnName, params: [\n                {var: 0},\n                {var: 1},\n                {val: pointsPerChunk},\n                {var: 2},\n                {var: 3}\n            ]});\n            task.push({cmd: \"GET\", out: 0, var: 0, len: pointsPerChunk*sG});\n            task.push({cmd: \"GET\", out: 1, var: 1, len: pointsPerChunk*sG});\n            opPromises.push(\n                tm.queueAction(task)\n            );\n\n        }\n\n\n        const result = await Promise.all(opPromises);\n\n        let fullBuffOut1;\n        let fullBuffOut2;\n        if (buff1 instanceof BigBuffer) {\n            fullBuffOut1 = new BigBuffer(nPoints*sG);\n            fullBuffOut2 = new BigBuffer(nPoints*sG);\n        } else {\n            fullBuffOut1 = new Uint8Array(nPoints*sG);\n            fullBuffOut2 = new Uint8Array(nPoints*sG);\n        }\n\n        let p =0;\n        for (let i=0; i<result.length; i++) {\n            fullBuffOut1.set(result[i][0], p);\n            fullBuffOut2.set(result[i][1], p);\n            p+=result[i][0].byteLength;\n        }\n\n        return [fullBuffOut1, fullBuffOut2];\n    };\n\n\n\n    G.fftFinal =  async function fftFinal(buff, factor) {\n        const sG = G.F.n8*3;\n        const sGout = G.F.n8*2;\n        let fnName, fnToAffine;\n        if (groupName == \"G1\") {\n            fnName = \"g1m_fftFinal\";\n            fnToAffine = \"g1m_batchToAffine\";\n        } else if (groupName == \"G2\") {\n            fnName = \"g2m_fftFinal\";\n            fnToAffine = \"g2m_batchToAffine\";\n        } else {\n            throw new Error(\"Invalid group\");\n        }\n\n        const nPoints = Math.floor(buff.byteLength / sG);\n        if (nPoints != 1 << log2(nPoints)) {\n            throw new Error(\"Invalid number of points\");\n        }\n\n        const pointsPerChunk = Math.floor(nPoints / tm.concurrency);\n\n        const opPromises = [];\n        for (let i=0; i<tm.concurrency; i++) {\n            let n;\n            if (i< tm.concurrency-1) {\n                n = pointsPerChunk;\n            } else {\n                n = nPoints - i*pointsPerChunk;\n            }\n            if (n==0) continue;\n            const task = [];\n            const b = buff.slice((i* pointsPerChunk)*sG, (i*pointsPerChunk+n)*sG);\n            task.push({cmd: \"ALLOCSET\", var: 0, buff: b});\n            task.push({cmd: \"ALLOCSET\", var: 1, buff: factor});\n            task.push({cmd: \"CALL\", fnName: fnName, params: [\n                {var: 0},\n                {val: n},\n                {var: 1},\n            ]});\n            task.push({cmd: \"CALL\", fnName: fnToAffine, params: [\n                {var: 0},\n                {val: n},\n                {var: 0},\n            ]});\n            task.push({cmd: \"GET\", out: 0, var: 0, len: n*sGout});\n            opPromises.push(\n                tm.queueAction(task)\n            );\n\n        }\n\n        const result = await Promise.all(opPromises);\n\n        let fullBuffOut;\n        if (buff instanceof BigBuffer) {\n            fullBuffOut = new BigBuffer(nPoints*sGout);\n        } else {\n            fullBuffOut = new Uint8Array(nPoints*sGout);\n        }\n\n        let p =0;\n        for (let i=result.length-1; i>=0; i--) {\n            fullBuffOut.set(result[i][0], p);\n            p+=result[i][0].byteLength;\n        }\n\n        return fullBuffOut;\n    };\n}\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 5781, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/nisch/Desktop/Velocity-1/node_modules/ffjavascript/src/engine.js"],"sourcesContent":["import WasmField1 from \"./wasm_field1.js\";\nimport WasmField2 from \"./wasm_field2.js\";\nimport WasmField3 from \"./wasm_field3.js\";\nimport WasmCurve from \"./wasm_curve.js\";\nimport buildThreadManager from \"./threadman.js\";\nimport * as Scalar from \"./scalar.js\";\nimport buildBatchApplyKey from \"./engine_applykey.js\";\nimport buildPairing from \"./engine_pairing.js\";\nimport buildMultiExp from \"./engine_multiexp.js\";\nimport buildFFT from \"./engine_fft.js\";\n\nexport default async function buildEngine(params) {\n\n    const tm = await buildThreadManager(params.wasm, params.singleThread);\n\n\n    const curve = {};\n\n    curve.q = Scalar.e(params.wasm.q.toString());\n    curve.r = Scalar.e(params.wasm.r.toString());\n    curve.name = params.name;\n    curve.tm = tm;\n    curve.prePSize = params.wasm.prePSize;\n    curve.preQSize = params.wasm.preQSize;\n    curve.Fr = new WasmField1(tm, \"frm\", params.n8r, params.r);\n    curve.F1 = new WasmField1(tm, \"f1m\", params.n8q, params.q);\n    curve.F2 = new WasmField2(tm, \"f2m\", curve.F1);\n    curve.G1 = new WasmCurve(tm, \"g1m\", curve.F1, params.wasm.pG1gen, params.wasm.pG1b, params.cofactorG1);\n    curve.G2 = new WasmCurve(tm, \"g2m\", curve.F2, params.wasm.pG2gen, params.wasm.pG2b, params.cofactorG2);\n    curve.F6 = new WasmField3(tm, \"f6m\", curve.F2);\n    curve.F12 = new WasmField2(tm, \"ftm\", curve.F6);\n\n    curve.Gt = curve.F12;\n\n    buildBatchApplyKey(curve, \"G1\");\n    buildBatchApplyKey(curve, \"G2\");\n    buildBatchApplyKey(curve, \"Fr\");\n\n    buildMultiExp(curve, \"G1\");\n    buildMultiExp(curve, \"G2\");\n\n    buildFFT(curve, \"G1\");\n    buildFFT(curve, \"G2\");\n    buildFFT(curve, \"Fr\");\n\n    buildPairing(curve);\n\n    curve.array2buffer = function(arr, sG) {\n        const buff = new Uint8Array(sG*arr.length);\n\n        for (let i=0; i<arr.length; i++) {\n            buff.set(arr[i], i*sG);\n        }\n\n        return buff;\n    };\n\n    curve.buffer2array = function(buff , sG) {\n        const n= buff.byteLength / sG;\n        const arr = new Array(n);\n        for (let i=0; i<n; i++) {\n            arr[i] = buff.slice(i*sG, i*sG+sG);\n        }\n        return arr;\n    };\n\n    return curve;\n}\n\n\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;AAEe,eAAe,YAAY,MAAM;IAE5C,MAAM,KAAK,MAAM,IAAA,6JAAkB,EAAC,OAAO,IAAI,EAAE,OAAO,YAAY;IAGpE,MAAM,QAAQ,CAAC;IAEf,MAAM,CAAC,GAAG,oJAAQ,CAAC,OAAO,IAAI,CAAC,CAAC,CAAC,QAAQ;IACzC,MAAM,CAAC,GAAG,oJAAQ,CAAC,OAAO,IAAI,CAAC,CAAC,CAAC,QAAQ;IACzC,MAAM,IAAI,GAAG,OAAO,IAAI;IACxB,MAAM,EAAE,GAAG;IACX,MAAM,QAAQ,GAAG,OAAO,IAAI,CAAC,QAAQ;IACrC,MAAM,QAAQ,GAAG,OAAO,IAAI,CAAC,QAAQ;IACrC,MAAM,EAAE,GAAG,IAAI,+JAAU,CAAC,IAAI,OAAO,OAAO,GAAG,EAAE,OAAO,CAAC;IACzD,MAAM,EAAE,GAAG,IAAI,+JAAU,CAAC,IAAI,OAAO,OAAO,GAAG,EAAE,OAAO,CAAC;IACzD,MAAM,EAAE,GAAG,IAAI,+JAAU,CAAC,IAAI,OAAO,MAAM,EAAE;IAC7C,MAAM,EAAE,GAAG,IAAI,8JAAS,CAAC,IAAI,OAAO,MAAM,EAAE,EAAE,OAAO,IAAI,CAAC,MAAM,EAAE,OAAO,IAAI,CAAC,IAAI,EAAE,OAAO,UAAU;IACrG,MAAM,EAAE,GAAG,IAAI,8JAAS,CAAC,IAAI,OAAO,MAAM,EAAE,EAAE,OAAO,IAAI,CAAC,MAAM,EAAE,OAAO,IAAI,CAAC,IAAI,EAAE,OAAO,UAAU;IACrG,MAAM,EAAE,GAAG,IAAI,+JAAU,CAAC,IAAI,OAAO,MAAM,EAAE;IAC7C,MAAM,GAAG,GAAG,IAAI,+JAAU,CAAC,IAAI,OAAO,MAAM,EAAE;IAE9C,MAAM,EAAE,GAAG,MAAM,GAAG;IAEpB,IAAA,mKAAkB,EAAC,OAAO;IAC1B,IAAA,mKAAkB,EAAC,OAAO;IAC1B,IAAA,mKAAkB,EAAC,OAAO;IAE1B,IAAA,mKAAa,EAAC,OAAO;IACrB,IAAA,mKAAa,EAAC,OAAO;IAErB,IAAA,8JAAQ,EAAC,OAAO;IAChB,IAAA,8JAAQ,EAAC,OAAO;IAChB,IAAA,8JAAQ,EAAC,OAAO;IAEhB,IAAA,kKAAY,EAAC;IAEb,MAAM,YAAY,GAAG,SAAS,GAAG,EAAE,EAAE;QACjC,MAAM,OAAO,IAAI,WAAW,KAAG,IAAI,MAAM;QAEzC,IAAK,IAAI,IAAE,GAAG,IAAE,IAAI,MAAM,EAAE,IAAK;YAC7B,KAAK,GAAG,CAAC,GAAG,CAAC,EAAE,EAAE,IAAE;QACvB;QAEA,OAAO;IACX;IAEA,MAAM,YAAY,GAAG,SAAS,IAAI,EAAG,EAAE;QACnC,MAAM,IAAG,KAAK,UAAU,GAAG;QAC3B,MAAM,MAAM,IAAI,MAAM;QACtB,IAAK,IAAI,IAAE,GAAG,IAAE,GAAG,IAAK;YACpB,GAAG,CAAC,EAAE,GAAG,KAAK,KAAK,CAAC,IAAE,IAAI,IAAE,KAAG;QACnC;QACA,OAAO;IACX;IAEA,OAAO;AACX","ignoreList":[0]}},
    {"offset": {"line": 5852, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/nisch/Desktop/Velocity-1/node_modules/ffjavascript/src/bn128.js"],"sourcesContent":["import { buildBn128 as buildBn128wasm } from \"wasmcurves\";\nimport buildEngine from \"./engine.js\";\nimport * as Scalar from \"./scalar.js\";\nimport { ModuleBuilder } from \"wasmbuilder\";\n\nglobalThis.curve_bn128 = null;\n\nexport default async function buildBn128(singleThread, plugins) {\n    if ((!singleThread) && (globalThis.curve_bn128)) return globalThis.curve_bn128;\n\n    const moduleBuilder = new ModuleBuilder();\n    moduleBuilder.setMemory(25);\n    buildBn128wasm(moduleBuilder);\n\n    if (plugins) plugins(moduleBuilder);\n\n    const bn128wasm = {};\n\n    bn128wasm.code = moduleBuilder.build();\n    bn128wasm.pq = moduleBuilder.modules.f1m.pq;\n    bn128wasm.pr = moduleBuilder.modules.frm.pq;\n    bn128wasm.pG1gen = moduleBuilder.modules.bn128.pG1gen;\n    bn128wasm.pG1zero = moduleBuilder.modules.bn128.pG1zero;\n    bn128wasm.pG1b = moduleBuilder.modules.bn128.pG1b;\n    bn128wasm.pG2gen = moduleBuilder.modules.bn128.pG2gen;\n    bn128wasm.pG2zero = moduleBuilder.modules.bn128.pG2zero;\n    bn128wasm.pG2b = moduleBuilder.modules.bn128.pG2b;\n    bn128wasm.pOneT = moduleBuilder.modules.bn128.pOneT;\n    bn128wasm.prePSize = moduleBuilder.modules.bn128.prePSize;\n    bn128wasm.preQSize = moduleBuilder.modules.bn128.preQSize;\n    bn128wasm.n8q = 32;\n    bn128wasm.n8r = 32;\n    bn128wasm.q = moduleBuilder.modules.bn128.q;\n    bn128wasm.r = moduleBuilder.modules.bn128.r;\n\n    const params = {\n        name: \"bn128\",\n        wasm: bn128wasm,\n        q: Scalar.e(\"21888242871839275222246405745257275088696311157297823662689037894645226208583\"),\n        r: Scalar.e(\"21888242871839275222246405745257275088548364400416034343698204186575808495617\"),\n        n8q: 32,\n        n8r: 32,\n        cofactorG2: Scalar.e(\"30644e72e131a029b85045b68181585e06ceecda572a2489345f2299c0f9fa8d\", 16),\n        singleThread: singleThread ? true : false\n    };\n\n    const curve = await buildEngine(params);\n    curve.terminate = async function () {\n        if (!params.singleThread) {\n            globalThis.curve_bn128 = null;\n            await this.tm.terminate();\n        }\n    };\n\n    if (!singleThread) {\n        globalThis.curve_bn128 = curve;\n    }\n\n    return curve;\n}\n\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;AAAA;;;;;AAEA,WAAW,WAAW,GAAG;AAEV,eAAe,WAAW,YAAY,EAAE,OAAO;IAC1D,IAAI,AAAC,CAAC,gBAAkB,WAAW,WAAW,EAAG,OAAO,WAAW,WAAW;IAE9E,MAAM,gBAAgB,IAAI,sKAAa;IACvC,cAAc,SAAS,CAAC;IACxB,IAAA,mJAAc,EAAC;IAEf,IAAI,SAAS,QAAQ;IAErB,MAAM,YAAY,CAAC;IAEnB,UAAU,IAAI,GAAG,cAAc,KAAK;IACpC,UAAU,EAAE,GAAG,cAAc,OAAO,CAAC,GAAG,CAAC,EAAE;IAC3C,UAAU,EAAE,GAAG,cAAc,OAAO,CAAC,GAAG,CAAC,EAAE;IAC3C,UAAU,MAAM,GAAG,cAAc,OAAO,CAAC,KAAK,CAAC,MAAM;IACrD,UAAU,OAAO,GAAG,cAAc,OAAO,CAAC,KAAK,CAAC,OAAO;IACvD,UAAU,IAAI,GAAG,cAAc,OAAO,CAAC,KAAK,CAAC,IAAI;IACjD,UAAU,MAAM,GAAG,cAAc,OAAO,CAAC,KAAK,CAAC,MAAM;IACrD,UAAU,OAAO,GAAG,cAAc,OAAO,CAAC,KAAK,CAAC,OAAO;IACvD,UAAU,IAAI,GAAG,cAAc,OAAO,CAAC,KAAK,CAAC,IAAI;IACjD,UAAU,KAAK,GAAG,cAAc,OAAO,CAAC,KAAK,CAAC,KAAK;IACnD,UAAU,QAAQ,GAAG,cAAc,OAAO,CAAC,KAAK,CAAC,QAAQ;IACzD,UAAU,QAAQ,GAAG,cAAc,OAAO,CAAC,KAAK,CAAC,QAAQ;IACzD,UAAU,GAAG,GAAG;IAChB,UAAU,GAAG,GAAG;IAChB,UAAU,CAAC,GAAG,cAAc,OAAO,CAAC,KAAK,CAAC,CAAC;IAC3C,UAAU,CAAC,GAAG,cAAc,OAAO,CAAC,KAAK,CAAC,CAAC;IAE3C,MAAM,SAAS;QACX,MAAM;QACN,MAAM;QACN,GAAG,oJAAQ,CAAC;QACZ,GAAG,oJAAQ,CAAC;QACZ,KAAK;QACL,KAAK;QACL,YAAY,oJAAQ,CAAC,oEAAoE;QACzF,cAAc,eAAe,OAAO;IACxC;IAEA,MAAM,QAAQ,MAAM,IAAA,0JAAW,EAAC;IAChC,MAAM,SAAS,GAAG;QACd,IAAI,CAAC,OAAO,YAAY,EAAE;YACtB,WAAW,WAAW,GAAG;YACzB,MAAM,IAAI,CAAC,EAAE,CAAC,SAAS;QAC3B;IACJ;IAEA,IAAI,CAAC,cAAc;QACf,WAAW,WAAW,GAAG;IAC7B;IAEA,OAAO;AACX","ignoreList":[0]}},
    {"offset": {"line": 5915, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/nisch/Desktop/Velocity-1/node_modules/ffjavascript/src/bls12381.js"],"sourcesContent":["import { buildBls12381 as buildBls12381wasm } from \"wasmcurves\";\nimport buildEngine from \"./engine.js\";\nimport * as Scalar from \"./scalar.js\";\nimport { ModuleBuilder } from \"wasmbuilder\";\n\nglobalThis.curve_bls12381 = null;\n\nexport default async function buildBls12381(singleThread, plugins) {\n    if ((!singleThread) && (globalThis.curve_bls12381)) return globalThis.curve_bls12381;\n\n    const moduleBuilder = new ModuleBuilder();\n    moduleBuilder.setMemory(25);\n    buildBls12381wasm(moduleBuilder);\n\n    if (plugins) plugins(moduleBuilder);\n\n    const bls12381wasm = {};\n\n    bls12381wasm.code = moduleBuilder.build();\n    bls12381wasm.pq = moduleBuilder.modules.f1m.pq;\n    bls12381wasm.pr = moduleBuilder.modules.frm.pq;\n    bls12381wasm.pG1gen = moduleBuilder.modules.bls12381.pG1gen;\n    bls12381wasm.pG1zero = moduleBuilder.modules.bls12381.pG1zero;\n    bls12381wasm.pG1b = moduleBuilder.modules.bls12381.pG1b;\n    bls12381wasm.pG2gen = moduleBuilder.modules.bls12381.pG2gen;\n    bls12381wasm.pG2zero = moduleBuilder.modules.bls12381.pG2zero;\n    bls12381wasm.pG2b = moduleBuilder.modules.bls12381.pG2b;\n    bls12381wasm.pOneT = moduleBuilder.modules.bls12381.pOneT;\n    bls12381wasm.prePSize = moduleBuilder.modules.bls12381.prePSize;\n    bls12381wasm.preQSize = moduleBuilder.modules.bls12381.preQSize;\n    bls12381wasm.n8q = 48;\n    bls12381wasm.n8r = 32;\n    bls12381wasm.q = moduleBuilder.modules.bls12381.q;\n    bls12381wasm.r = moduleBuilder.modules.bls12381.r;\n\n\n    const params = {\n        name: \"bls12381\",\n        wasm: bls12381wasm,\n        q: Scalar.e(\"1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaaab\", 16),\n        r: Scalar.e(\"73eda753299d7d483339d80809a1d80553bda402fffe5bfeffffffff00000001\", 16),\n        n8q: 48,\n        n8r: 32,\n        cofactorG1: Scalar.e(\"0x396c8c005555e1568c00aaab0000aaab\", 16),\n        cofactorG2: Scalar.e(\"0x5d543a95414e7f1091d50792876a202cd91de4547085abaa68a205b2e5a7ddfa628f1cb4d9e82ef21537e293a6691ae1616ec6e786f0c70cf1c38e31c7238e5\", 16),\n        singleThread: singleThread ? true : false\n    };\n\n    const curve = await buildEngine(params);\n    curve.terminate = async function () {\n        if (!params.singleThread) {\n            globalThis.curve_bls12381 = null;\n            await this.tm.terminate();\n        }\n    };\n\n    if (!singleThread) {\n        globalThis.curve_bls12381 = curve;\n    }\n\n    return curve;\n}\n\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;AAAA;;;;;AAEA,WAAW,cAAc,GAAG;AAEb,eAAe,cAAc,YAAY,EAAE,OAAO;IAC7D,IAAI,AAAC,CAAC,gBAAkB,WAAW,cAAc,EAAG,OAAO,WAAW,cAAc;IAEpF,MAAM,gBAAgB,IAAI,sKAAa;IACvC,cAAc,SAAS,CAAC;IACxB,IAAA,sJAAiB,EAAC;IAElB,IAAI,SAAS,QAAQ;IAErB,MAAM,eAAe,CAAC;IAEtB,aAAa,IAAI,GAAG,cAAc,KAAK;IACvC,aAAa,EAAE,GAAG,cAAc,OAAO,CAAC,GAAG,CAAC,EAAE;IAC9C,aAAa,EAAE,GAAG,cAAc,OAAO,CAAC,GAAG,CAAC,EAAE;IAC9C,aAAa,MAAM,GAAG,cAAc,OAAO,CAAC,QAAQ,CAAC,MAAM;IAC3D,aAAa,OAAO,GAAG,cAAc,OAAO,CAAC,QAAQ,CAAC,OAAO;IAC7D,aAAa,IAAI,GAAG,cAAc,OAAO,CAAC,QAAQ,CAAC,IAAI;IACvD,aAAa,MAAM,GAAG,cAAc,OAAO,CAAC,QAAQ,CAAC,MAAM;IAC3D,aAAa,OAAO,GAAG,cAAc,OAAO,CAAC,QAAQ,CAAC,OAAO;IAC7D,aAAa,IAAI,GAAG,cAAc,OAAO,CAAC,QAAQ,CAAC,IAAI;IACvD,aAAa,KAAK,GAAG,cAAc,OAAO,CAAC,QAAQ,CAAC,KAAK;IACzD,aAAa,QAAQ,GAAG,cAAc,OAAO,CAAC,QAAQ,CAAC,QAAQ;IAC/D,aAAa,QAAQ,GAAG,cAAc,OAAO,CAAC,QAAQ,CAAC,QAAQ;IAC/D,aAAa,GAAG,GAAG;IACnB,aAAa,GAAG,GAAG;IACnB,aAAa,CAAC,GAAG,cAAc,OAAO,CAAC,QAAQ,CAAC,CAAC;IACjD,aAAa,CAAC,GAAG,cAAc,OAAO,CAAC,QAAQ,CAAC,CAAC;IAGjD,MAAM,SAAS;QACX,MAAM;QACN,MAAM;QACN,GAAG,oJAAQ,CAAC,oGAAoG;QAChH,GAAG,oJAAQ,CAAC,oEAAoE;QAChF,KAAK;QACL,KAAK;QACL,YAAY,oJAAQ,CAAC,sCAAsC;QAC3D,YAAY,oJAAQ,CAAC,qIAAqI;QAC1J,cAAc,eAAe,OAAO;IACxC;IAEA,MAAM,QAAQ,MAAM,IAAA,0JAAW,EAAC;IAChC,MAAM,SAAS,GAAG;QACd,IAAI,CAAC,OAAO,YAAY,EAAE;YACtB,WAAW,cAAc,GAAG;YAC5B,MAAM,IAAI,CAAC,EAAE,CAAC,SAAS;QAC3B;IACJ;IAEA,IAAI,CAAC,cAAc;QACf,WAAW,cAAc,GAAG;IAChC;IAEA,OAAO;AACX","ignoreList":[0]}},
    {"offset": {"line": 5979, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/nisch/Desktop/Velocity-1/node_modules/ffjavascript/src/curves.js"],"sourcesContent":["import * as Scalar from \"./scalar.js\";\nimport {default as buildBn128} from \"./bn128.js\";\nimport {default as buildBls12381} from \"./bls12381.js\";\n\nconst bls12381r = Scalar.e(\"73eda753299d7d483339d80809a1d80553bda402fffe5bfeffffffff00000001\", 16);\nconst bn128r = Scalar.e(\"21888242871839275222246405745257275088548364400416034343698204186575808495617\");\n\nconst bls12381q = Scalar.e(\"1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaaab\", 16);\nconst bn128q = Scalar.e(\"21888242871839275222246405745257275088696311157297823662689037894645226208583\");\n\nexport async function getCurveFromR(r, singleThread, plugins) {\n    let curve;\n    if (Scalar.eq(r, bn128r)) {\n        curve = await buildBn128(singleThread, plugins);\n    } else if (Scalar.eq(r, bls12381r)) {\n        curve = await buildBls12381(singleThread, plugins);\n    } else {\n        throw new Error(`Curve not supported: ${Scalar.toString(r)}`);\n    }\n    return curve;\n}\n\nexport async function getCurveFromQ(q, singleThread, plugins) {\n    let curve;\n    if (Scalar.eq(q, bn128q)) {\n        curve = await buildBn128(singleThread, plugins);\n    } else if (Scalar.eq(q, bls12381q)) {\n        curve = await buildBls12381(singleThread, plugins);\n    } else {\n        throw new Error(`Curve not supported: ${Scalar.toString(q, 16)}`);\n    }\n    return curve;\n}\n\nexport async function getCurveFromName(name, singleThread, plugins) {\n    let curve;\n    const normName = normalizeName(name);\n    if ([\"BN128\", \"BN254\", \"ALTBN128\"].indexOf(normName) >= 0) {\n        curve = await buildBn128(singleThread, plugins);\n    } else if ([\"BLS12381\"].indexOf(normName) >= 0) {\n        curve = await buildBls12381(singleThread, plugins);\n    } else {\n        throw new Error(`Curve not supported: ${name}`);\n    }\n    return curve;\n\n    function normalizeName(n) {\n        return n.toUpperCase().match(/[A-Za-z0-9]+/g).join(\"\");\n    }\n\n}\n"],"names":[],"mappings":";;;;;;;;AAAA;AACA;AACA;;;;AAEA,MAAM,YAAY,oJAAQ,CAAC,oEAAoE;AAC/F,MAAM,SAAS,oJAAQ,CAAC;AAExB,MAAM,YAAY,oJAAQ,CAAC,oGAAoG;AAC/H,MAAM,SAAS,oJAAQ,CAAC;AAEjB,eAAe,cAAc,CAAC,EAAE,YAAY,EAAE,OAAO;IACxD,IAAI;IACJ,IAAI,qJAAS,CAAC,GAAG,SAAS;QACtB,QAAQ,MAAM,IAAA,yJAAU,EAAC,cAAc;IAC3C,OAAO,IAAI,qJAAS,CAAC,GAAG,YAAY;QAChC,QAAQ,MAAM,IAAA,4JAAa,EAAC,cAAc;IAC9C,OAAO;QACH,MAAM,IAAI,MAAM,CAAC,qBAAqB,EAAE,2JAAe,CAAC,IAAI;IAChE;IACA,OAAO;AACX;AAEO,eAAe,cAAc,CAAC,EAAE,YAAY,EAAE,OAAO;IACxD,IAAI;IACJ,IAAI,qJAAS,CAAC,GAAG,SAAS;QACtB,QAAQ,MAAM,IAAA,yJAAU,EAAC,cAAc;IAC3C,OAAO,IAAI,qJAAS,CAAC,GAAG,YAAY;QAChC,QAAQ,MAAM,IAAA,4JAAa,EAAC,cAAc;IAC9C,OAAO;QACH,MAAM,IAAI,MAAM,CAAC,qBAAqB,EAAE,2JAAe,CAAC,GAAG,KAAK;IACpE;IACA,OAAO;AACX;AAEO,eAAe,iBAAiB,IAAI,EAAE,YAAY,EAAE,OAAO;IAC9D,IAAI;IACJ,MAAM,WAAW,cAAc;IAC/B,IAAI;QAAC;QAAS;QAAS;KAAW,CAAC,OAAO,CAAC,aAAa,GAAG;QACvD,QAAQ,MAAM,IAAA,yJAAU,EAAC,cAAc;IAC3C,OAAO,IAAI;QAAC;KAAW,CAAC,OAAO,CAAC,aAAa,GAAG;QAC5C,QAAQ,MAAM,IAAA,4JAAa,EAAC,cAAc;IAC9C,OAAO;QACH,MAAM,IAAI,MAAM,CAAC,qBAAqB,EAAE,MAAM;IAClD;IACA,OAAO;;;IAEP,SAAS,cAAc,CAAC;QACpB,OAAO,EAAE,WAAW,GAAG,KAAK,CAAC,iBAAiB,IAAI,CAAC;IACvD;AAEJ","ignoreList":[0]}},
    {"offset": {"line": 6046, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/nisch/Desktop/Velocity-1/node_modules/ffjavascript/main.js"],"sourcesContent":["\nimport * as _Scalar  from \"./src/scalar.js\";\nexport const Scalar=_Scalar;\n\nexport {default as PolField} from \"./src/polfield.js\";\nexport {default as F1Field} from \"./src/f1field.js\";\nexport {default as F2Field} from \"./src/f2field.js\";\nexport {default as F3Field} from \"./src/f3field.js\";\n\nexport {default as ZqField} from \"./src/f1field.js\";\n\nexport {default as EC} from \"./src/ec.js\";\n\nexport {default as buildBn128} from \"./src/bn128.js\";\nexport {default as buildBls12381} from \"./src/bls12381.js\";\n\nimport * as _utils from \"./src/utils.js\";\nexport const utils = _utils;\nexport {default as ChaCha} from \"./src/chacha.js\";\n\nexport {default as BigBuffer} from \"./src/bigbuffer.js\";\n\nexport {getCurveFromR, getCurveFromQ, getCurveFromName} from \"./src/curves.js\";\n\n"],"names":[],"mappings":";;;;;;AACA;AAGA;AACA;AACA;AACA;AAIA;AAEA;AACA;AAEA;AAEA;AAEA;AAEA;;AApBO,MAAM,SAAO;;;;;;;;;;AAeb,MAAM,QAAQ","ignoreList":[0]}},
    {"offset": {"line": 6128, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/nisch/Desktop/Velocity-1/node_modules/r1csfile/node_modules/ffjavascript/src/scalar.js"],"sourcesContent":["\n/* global BigInt */\nconst hexLen = [ 0, 1, 2, 2, 3, 3, 3, 3, 4 ,4 ,4 ,4 ,4 ,4 ,4 ,4];\n\nexport function fromString(s, radix) {\n    if ((!radix)||(radix==10)) {\n        return BigInt(s);\n    } else if (radix==16) {\n        if (s.slice(0,2) == \"0x\") {\n            return BigInt(s);\n        } else {\n            return BigInt(\"0x\"+s);\n        }\n    }\n}\n\nexport const e = fromString;\n\nexport function fromArray(a, radix) {\n    let acc =BigInt(0);\n    radix = BigInt(radix);\n    for (let i=0; i<a.length; i++) {\n        acc = acc*radix + BigInt(a[i]);\n    }\n    return acc;\n}\n\nexport function bitLength(a) {\n    const aS =a.toString(16);\n    return (aS.length-1)*4 +hexLen[parseInt(aS[0], 16)];\n}\n\nexport function isNegative(a) {\n    return BigInt(a) < BigInt(0);\n}\n\nexport function isZero(a) {\n    return !a;\n}\n\nexport function shiftLeft(a, n) {\n    return BigInt(a) << BigInt(n);\n}\n\nexport function shiftRight(a, n) {\n    return BigInt(a) >> BigInt(n);\n}\n\nexport const shl = shiftLeft;\nexport const shr = shiftRight;\n\nexport function isOdd(a) {\n    return (BigInt(a) & BigInt(1)) == BigInt(1);\n}\n\n\nexport function naf(n) {\n    let E = BigInt(n);\n    const res = [];\n    while (E) {\n        if (E & BigInt(1)) {\n            const z = 2 - Number(E % BigInt(4));\n            res.push( z );\n            E = E - BigInt(z);\n        } else {\n            res.push( 0 );\n        }\n        E = E >> BigInt(1);\n    }\n    return res;\n}\n\n\nexport function bits(n) {\n    let E = BigInt(n);\n    const res = [];\n    while (E) {\n        if (E & BigInt(1)) {\n            res.push(1);\n        } else {\n            res.push( 0 );\n        }\n        E = E >> BigInt(1);\n    }\n    return res;\n}\n\nexport function toNumber(s) {\n    if (s>BigInt(Number.MAX_SAFE_INTEGER )) {\n        throw new Error(\"Number too big\");\n    }\n    return Number(s);\n}\n\nexport function toArray(s, radix) {\n    const res = [];\n    let rem = BigInt(s);\n    radix = BigInt(radix);\n    while (rem) {\n        res.unshift( Number(rem % radix));\n        rem = rem / radix;\n    }\n    return res;\n}\n\n\nexport function add(a, b) {\n    return BigInt(a) + BigInt(b);\n}\n\nexport function sub(a, b) {\n    return BigInt(a) - BigInt(b);\n}\n\nexport function neg(a) {\n    return -BigInt(a);\n}\n\nexport function mul(a, b) {\n    return BigInt(a) * BigInt(b);\n}\n\nexport function square(a) {\n    return BigInt(a) * BigInt(a);\n}\n\nexport function pow(a, b) {\n    return BigInt(a) ** BigInt(b);\n}\n\nexport function exp(a, b) {\n    return BigInt(a) ** BigInt(b);\n}\n\nexport function abs(a) {\n    return BigInt(a) >= 0 ? BigInt(a) : -BigInt(a);\n}\n\nexport function div(a, b) {\n    return BigInt(a) / BigInt(b);\n}\n\nexport function mod(a, b) {\n    return BigInt(a) % BigInt(b);\n}\n\nexport function eq(a, b) {\n    return BigInt(a) == BigInt(b);\n}\n\nexport function neq(a, b) {\n    return BigInt(a) != BigInt(b);\n}\n\nexport function lt(a, b) {\n    return BigInt(a) < BigInt(b);\n}\n\nexport function gt(a, b) {\n    return BigInt(a) > BigInt(b);\n}\n\nexport function leq(a, b) {\n    return BigInt(a) <= BigInt(b);\n}\n\nexport function geq(a, b) {\n    return BigInt(a) >= BigInt(b);\n}\n\nexport function band(a, b) {\n    return BigInt(a) & BigInt(b);\n}\n\nexport function bor(a, b) {\n    return BigInt(a) | BigInt(b);\n}\n\nexport function bxor(a, b) {\n    return BigInt(a) ^ BigInt(b);\n}\n\nexport function land(a, b) {\n    return BigInt(a) && BigInt(b);\n}\n\nexport function lor(a, b) {\n    return BigInt(a) || BigInt(b);\n}\n\nexport function lnot(a) {\n    return !BigInt(a);\n}\n\n// Returns a buffer with Little Endian Representation\nexport function toRprLE(buff, o, e, n8) {\n    const s = \"0000000\" + e.toString(16);\n    const v = new Uint32Array(buff.buffer, buff.byteOffset + o, n8/4);\n    const l = (((s.length-7)*4 - 1) >> 5)+1;    // Number of 32bit words;\n    for (let i=0; i<l; i++) v[i] = parseInt(s.substring(s.length-8*i-8, s.length-8*i), 16);\n    for (let i=l; i<v.length; i++) v[i] = 0;\n    for (let i=v.length*4; i<n8; i++) buff[i] = toNumber(band(shiftRight(e, i*8), 0xFF));\n}\n\n// Returns a buffer with Big Endian Representation\nexport function toRprBE(buff, o, e, n8) {\n    const s = \"0000000\" + e.toString(16);\n    const v = new DataView(buff.buffer, buff.byteOffset + o, n8);\n    const l = (((s.length-7)*4 - 1) >> 5)+1;    // Number of 32bit words;\n    for (let i=0; i<l; i++) v.setUint32(n8-i*4 -4, parseInt(s.substring(s.length-8*i-8, s.length-8*i), 16), false);\n    for (let i=0; i<n8/4-l; i++) v[i] = 0;\n}\n\n// Pases a buffer with Little Endian Representation\nexport function fromRprLE(buff, o, n8) {\n    n8 = n8 || buff.byteLength;\n    o = o || 0;\n    const v = new Uint32Array(buff.buffer, buff.byteOffset + o, n8/4);\n    const a = new Array(n8/4);\n    v.forEach( (ch,i) => a[a.length-i-1] = ch.toString(16).padStart(8,\"0\") );\n    return fromString(a.join(\"\"), 16);\n}\n\n// Pases a buffer with Big Endian Representation\nexport function fromRprBE(buff, o, n8) {\n    n8 = n8 || buff.byteLength;\n    o = o || 0;\n    const v = new DataView(buff.buffer, buff.byteOffset + o, n8);\n    const a = new Array(n8/4);\n    for (let i=0; i<n8/4; i++) {\n        a[i] = v.getUint32(i*4, false).toString(16).padStart(8, \"0\");\n    }\n    return fromString(a.join(\"\"), 16);\n}\n\nexport function toString(a, radix) {\n    return a.toString(radix);\n}\n\nexport function toLEBuff(a) {\n    const buff = new Uint8Array(Math.floor((bitLength(a) - 1) / 8) +1);\n    toRprLE(buff, 0, a, buff.byteLength);\n    return buff;\n}\n\nexport const zero = e(0);\nexport const one = e(1);\n\n\n\n\n\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 6436, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/nisch/Desktop/Velocity-1/node_modules/r1csfile/node_modules/ffjavascript/src/polfield.js"],"sourcesContent":["/*\n    Copyright 2018 0kims association.\n\n    This file is part of snarkjs.\n\n    snarkjs is a free software: you can redistribute it and/or\n    modify it under the terms of the GNU General Public License as published by the\n    Free Software Foundation, either version 3 of the License, or (at your option)\n    any later version.\n\n    snarkjs is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY\n    or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n    more details.\n\n    You should have received a copy of the GNU General Public License along with\n    snarkjs. If not, see <https://www.gnu.org/licenses/>.\n*/\n\n/*\n    This library does operations on polynomials with coefficients in a field F.\n\n    A polynomial P(x) = p0 + p1 * x + p2 * x^2 + ... + pn * x^n  is represented\n    by the array [ p0, p1, p2, ... , pn ].\n */\n\nexport default class PolField {\n    constructor (F) {\n        this.F = F;\n\n        let rem = F.sqrt_t;\n        let s = F.sqrt_s;\n\n        const five = this.F.add(this.F.add(this.F.two, this.F.two), this.F.one);\n\n        this.w = new Array(s+1);\n        this.wi = new Array(s+1);\n        this.w[s] = this.F.pow(five, rem);\n        this.wi[s] = this.F.inv(this.w[s]);\n\n        let n=s-1;\n        while (n>=0) {\n            this.w[n] = this.F.square(this.w[n+1]);\n            this.wi[n] = this.F.square(this.wi[n+1]);\n            n--;\n        }\n\n\n        this.roots = [];\n/*        for (let i=0; i<16; i++) {\n            let r = this.F.one;\n            n = 1 << i;\n            const rootsi = new Array(n);\n            for (let j=0; j<n; j++) {\n                rootsi[j] = r;\n                r = this.F.mul(r, this.w[i]);\n            }\n\n            this.roots.push(rootsi);\n        }\n    */\n        this._setRoots(15);\n    }\n\n    _setRoots(n) {\n        if (n > this.F.sqrt_s) n = this.s;\n        for (let i=n; (i>=0) && (!this.roots[i]); i--) {\n            let r = this.F.one;\n            const nroots = 1 << i;\n            const rootsi = new Array(nroots);\n            for (let j=0; j<nroots; j++) {\n                rootsi[j] = r;\n                r = this.F.mul(r, this.w[i]);\n            }\n            this.roots[i] = rootsi;\n        }\n    }\n\n    add(a, b) {\n        const m = Math.max(a.length, b.length);\n        const res = new Array(m);\n        for (let i=0; i<m; i++) {\n            res[i] = this.F.add(a[i] || this.F.zero, b[i] || this.F.zero);\n        }\n        return this.reduce(res);\n    }\n\n    double(a) {\n        return this.add(a,a);\n    }\n\n    sub(a, b) {\n        const m = Math.max(a.length, b.length);\n        const res = new Array(m);\n        for (let i=0; i<m; i++) {\n            res[i] = this.F.sub(a[i] || this.F.zero, b[i] || this.F.zero);\n        }\n        return this.reduce(res);\n    }\n\n    mulScalar(p, b) {\n        if (this.F.eq(b, this.F.zero)) return [];\n        if (this.F.eq(b, this.F.one)) return p;\n        const res = new Array(p.length);\n        for (let i=0; i<p.length; i++) {\n            res[i] = this.F.mul(p[i], b);\n        }\n        return res;\n    }\n\n\n\n    mul(a, b) {\n        if (a.length == 0) return [];\n        if (b.length == 0) return [];\n        if (a.length == 1) return this.mulScalar(b, a[0]);\n        if (b.length == 1) return this.mulScalar(a, b[0]);\n\n        if (b.length > a.length) {\n            [b, a] = [a, b];\n        }\n\n        if ((b.length <= 2) || (b.length < log2(a.length))) {\n            return this.mulNormal(a,b);\n        } else {\n            return this.mulFFT(a,b);\n        }\n    }\n\n    mulNormal(a, b) {\n        let res = [];\n        for (let i=0; i<b.length; i++) {\n            res = this.add(res, this.scaleX(this.mulScalar(a, b[i]), i) );\n        }\n        return res;\n    }\n\n    mulFFT(a,b) {\n        const longestN = Math.max(a.length, b.length);\n        const bitsResult = log2(longestN-1)+2;\n        this._setRoots(bitsResult);\n\n        const m = 1 << bitsResult;\n        const ea = this.extend(a,m);\n        const eb = this.extend(b,m);\n\n        const ta = __fft(this, ea, bitsResult, 0, 1, false);\n        const tb = __fft(this, eb, bitsResult, 0, 1, false);\n\n        const tres = new Array(m);\n\n        for (let i=0; i<m; i++) {\n            tres[i] = this.F.mul(ta[i], tb[i]);\n        }\n\n        const res = __fft(this, tres, bitsResult, 0, 1, true);\n\n        const twoinvm = this.F.inv( this.F.mulScalar(this.F.one, m) );\n        const resn = new Array(m);\n        for (let i=0; i<m; i++) {\n            resn[i] = this.F.mul(res[(m-i)%m], twoinvm);\n        }\n\n        return this.reduce(resn);\n    }\n\n\n\n    square(a) {\n        return this.mul(a,a);\n    }\n\n    scaleX(p, n) {\n        if (n==0) {\n            return p;\n        } else if (n>0) {\n            const z = new Array(n).fill(this.F.zero);\n            return z.concat(p);\n        } else {\n            if (-n >= p.length) return [];\n            return p.slice(-n);\n        }\n    }\n\n    eval2(p, x) {\n        let v = this.F.zero;\n        let ix = this.F.one;\n        for (let i=0; i<p.length; i++) {\n            v = this.F.add(v, this.F.mul(p[i], ix));\n            ix = this.F.mul(ix, x);\n        }\n        return v;\n    }\n\n    evaluate(p,x) {\n        const F = this.F;\n        if (p.length == 0) return F.zero;\n        const m = this._next2Power(p.length);\n        const ep = this.extend(p, m);\n\n        return _eval(ep, x, 0, 1, m);\n\n        function _eval(p, x, offset, step, n) {\n            if (n==1) return p[offset];\n            const newX = F.square(x);\n            const res= F.add(\n                _eval(p, newX, offset, step << 1, n >> 1),\n                F.mul(\n                    x,\n                    _eval(p, newX, offset+step , step << 1, n >> 1)));\n            return res;\n        }\n    }\n\n    lagrange(points) {\n        let roots = [this.F.one];\n        for (let i=0; i<points.length; i++) {\n            roots = this.mul(roots, [this.F.neg(points[i][0]), this.F.one]);\n        }\n\n        let sum = [];\n        for (let i=0; i<points.length; i++) {\n            let mpol = this.ruffini(roots, points[i][0]);\n            const factor =\n                this.F.mul(\n                    this.F.inv(this.evaluate(mpol, points[i][0])),\n                    points[i][1]);\n            mpol = this.mulScalar(mpol, factor);\n            sum = this.add(sum, mpol);\n        }\n        return sum;\n    }\n\n\n    fft(p) {\n        if (p.length <= 1) return p;\n        const bits = log2(p.length-1)+1;\n        this._setRoots(bits);\n\n        const m = 1 << bits;\n        const ep = this.extend(p, m);\n        const res = __fft(this, ep, bits, 0, 1);\n        return res;\n    }\n\n    fft2(p) {\n        if (p.length <= 1) return p;\n        const bits = log2(p.length-1)+1;\n        this._setRoots(bits);\n\n        const m = 1 << bits;\n        const ep = this.extend(p, m);\n        __bitReverse(ep, bits);\n        const res = __fft2(this, ep, bits);\n        return res;\n    }\n\n\n    ifft(p) {\n\n        if (p.length <= 1) return p;\n        const bits = log2(p.length-1)+1;\n        this._setRoots(bits);\n        const m = 1 << bits;\n        const ep = this.extend(p, m);\n        const res =  __fft(this, ep, bits, 0, 1);\n\n        const twoinvm = this.F.inv( this.F.mulScalar(this.F.one, m) );\n        const resn = new Array(m);\n        for (let i=0; i<m; i++) {\n            resn[i] = this.F.mul(res[(m-i)%m], twoinvm);\n        }\n\n        return resn;\n\n    }\n\n\n    ifft2(p) {\n\n        if (p.length <= 1) return p;\n        const bits = log2(p.length-1)+1;\n        this._setRoots(bits);\n        const m = 1 << bits;\n        const ep = this.extend(p, m);\n        __bitReverse(ep, bits);\n        const res =  __fft2(this, ep, bits, 0, 1);\n\n        const twoinvm = this.F.inv( this.F.mulScalar(this.F.one, m) );\n        const resn = new Array(m);\n        for (let i=0; i<m; i++) {\n            resn[i] = this.F.mul(res[(m-i)%m], twoinvm);\n        }\n\n        return resn;\n\n    }\n\n    _fft(pall, bits, offset, step) {\n\n        const n = 1 << bits;\n        if (n==1) {\n            return [ pall[offset] ];\n        }\n\n        const ndiv2 = n >> 1;\n        const p1 = this._fft(pall, bits-1, offset, step*2);\n        const p2 = this._fft(pall, bits-1, offset+step, step*2);\n\n        const out = new Array(n);\n\n        let m= this.F.one;\n        for (let i=0; i<ndiv2; i++) {\n            out[i] = this.F.add(p1[i], this.F.mul(m, p2[i]));\n            out[i+ndiv2] = this.F.sub(p1[i], this.F.mul(m, p2[i]));\n            m = this.F.mul(m, this.w[bits]);\n        }\n\n        return out;\n    }\n\n    extend(p, e) {\n        if (e == p.length) return p;\n        const z = new Array(e-p.length).fill(this.F.zero);\n\n        return p.concat(z);\n    }\n\n    reduce(p) {\n        if (p.length == 0) return p;\n        if (! this.F.eq(p[p.length-1], this.F.zero) ) return p;\n        let i=p.length-1;\n        while( i>0 && this.F.eq(p[i], this.F.zero) ) i--;\n        return p.slice(0, i+1);\n    }\n\n    eq(a, b) {\n        const pa = this.reduce(a);\n        const pb = this.reduce(b);\n\n        if (pa.length != pb.length) return false;\n        for (let i=0; i<pb.length; i++) {\n            if (!this.F.eq(pa[i], pb[i])) return false;\n        }\n\n        return true;\n    }\n\n    ruffini(p, r) {\n        const res = new Array(p.length-1);\n        res[res.length-1] = p[p.length-1];\n        for (let i = res.length-2; i>=0; i--) {\n            res[i] = this.F.add(this.F.mul(res[i+1], r), p[i+1]);\n        }\n        return res;\n    }\n\n    _next2Power(v) {\n        v--;\n        v |= v >> 1;\n        v |= v >> 2;\n        v |= v >> 4;\n        v |= v >> 8;\n        v |= v >> 16;\n        v++;\n        return v;\n    }\n\n    toString(p) {\n        const ap = this.normalize(p);\n        let S = \"\";\n        for (let i=ap.length-1; i>=0; i--) {\n            if (!this.F.eq(p[i], this.F.zero)) {\n                if (S!=\"\") S += \" + \";\n                S = S + p[i].toString(10);\n                if (i>0) {\n                    S = S + \"x\";\n                    if (i>1) {\n                        S = S + \"^\" +i;\n                    }\n                }\n            }\n        }\n        return S;\n    }\n\n    normalize(p) {\n        const res  = new Array(p.length);\n        for (let i=0; i<p.length; i++) {\n            res[i] = this.F.normalize(p[i]);\n        }\n        return res;\n    }\n\n\n    _reciprocal(p, bits) {\n        const k = 1 << bits;\n        if (k==1) {\n            return [ this.F.inv(p[0]) ];\n        }\n        const np = this.scaleX(p, -k/2);\n        const q = this._reciprocal(np, bits-1);\n        const a = this.scaleX(this.double(q), 3*k/2-2);\n        const b = this.mul( this.square(q), p);\n\n        return this.scaleX(this.sub(a,b),   -(k-2));\n    }\n\n    // divides x^m / v\n    _div2(m, v) {\n        const kbits = log2(v.length-1)+1;\n        const k = 1 << kbits;\n\n        const scaleV = k - v.length;\n\n        // rec = x^(k - 2) / v* x^scaleV =>\n        // rec = x^(k-2-scaleV)/ v\n        //\n        // res = x^m/v = x^(m + (2*k-2 - scaleV) - (2*k-2 - scaleV)) /v =>\n        // res = rec * x^(m - (2*k-2 - scaleV)) =>\n        // res = rec * x^(m - 2*k + 2 + scaleV)\n\n        const rec = this._reciprocal(this.scaleX(v, scaleV), kbits);\n        const res = this.scaleX(rec, m - 2*k + 2 + scaleV);\n\n        return res;\n    }\n\n    div(_u, _v) {\n        if (_u.length < _v.length) return [];\n        const kbits = log2(_v.length-1)+1;\n        const k = 1 << kbits;\n\n        const u = this.scaleX(_u, k-_v.length);\n        const v = this.scaleX(_v, k-_v.length);\n\n        const n = v.length-1;\n        let m = u.length-1;\n\n        const s = this._reciprocal(v, kbits);\n        let t;\n        if (m>2*n) {\n            t = this.sub(this.scaleX([this.F.one], 2*n), this.mul(s, v));\n        }\n\n        let q = [];\n        let rem = u;\n        let us, ut;\n        let finish = false;\n\n        while (!finish) {\n            us = this.mul(rem, s);\n            q = this.add(q, this.scaleX(us, -2*n));\n\n            if ( m > 2*n ) {\n                ut = this.mul(rem, t);\n                rem = this.scaleX(ut, -2*n);\n                m = rem.length-1;\n            } else {\n                finish = true;\n            }\n        }\n\n        return q;\n    }\n\n\n    // returns the ith nth-root of one\n    oneRoot(n, i) {\n        let nbits = log2(n-1)+1;\n        let res = this.F.one;\n        let r = i;\n\n        if(i>=n) {\n            throw new Error(\"Given 'i' should be lower than 'n'\");\n        }\n        else if (1<<nbits !== n) {\n            throw new Error(`Internal errlr: ${n} should equal ${1<<nbits}`);\n        }\n\n        while (r>0) {\n            if (r & 1 == 1) {\n                res = this.F.mul(res, this.w[nbits]);\n            }\n            r = r >> 1;\n            nbits --;\n        }\n        return res;\n    }\n\n    computeVanishingPolinomial(bits, t) {\n        const m = 1 << bits;\n        return this.F.sub(this.F.pow(t, m), this.F.one);\n    }\n\n    evaluateLagrangePolynomials(bits, t) {\n        const m= 1 << bits;\n        const tm = this.F.pow(t, m);\n        const u= new Array(m).fill(this.F.zero);\n        this._setRoots(bits);\n        const omega = this.w[bits];\n\n        if (this.F.eq(tm, this.F.one)) {\n            for (let i = 0; i < m; i++) {\n                if (this.F.eq(this.roots[bits][0],t)) { // i.e., t equals omega^i\n                    u[i] = this.F.one;\n                    return u;\n                }\n            }\n        }\n\n        const z = this.F.sub(tm, this.F.one);\n        //        let l = this.F.mul(z,  this.F.pow(this.F.twoinv, m));\n        let l = this.F.mul(z,  this.F.inv(this.F.e(m)));\n        for (let i = 0; i < m; i++) {\n            u[i] = this.F.mul(l, this.F.inv(this.F.sub(t,this.roots[bits][i])));\n            l = this.F.mul(l, omega);\n        }\n\n        return u;\n    }\n\n    log2(V) {\n        return log2(V);\n    }\n}\n\nfunction log2( V )\n{\n    return( ( ( V & 0xFFFF0000 ) !== 0 ? ( V &= 0xFFFF0000, 16 ) : 0 ) | ( ( V & 0xFF00FF00 ) !== 0 ? ( V &= 0xFF00FF00, 8 ) : 0 ) | ( ( V & 0xF0F0F0F0 ) !== 0 ? ( V &= 0xF0F0F0F0, 4 ) : 0 ) | ( ( V & 0xCCCCCCCC ) !== 0 ? ( V &= 0xCCCCCCCC, 2 ) : 0 ) | ( ( V & 0xAAAAAAAA ) !== 0 ) );\n}\n\n\nfunction __fft(PF, pall, bits, offset, step) {\n\n    const n = 1 << bits;\n    if (n==1) {\n        return [ pall[offset] ];\n    } else if (n==2) {\n        return [\n            PF.F.add(pall[offset], pall[offset + step]),\n            PF.F.sub(pall[offset], pall[offset + step])];\n    }\n\n    const ndiv2 = n >> 1;\n    const p1 = __fft(PF, pall, bits-1, offset, step*2);\n    const p2 = __fft(PF, pall, bits-1, offset+step, step*2);\n\n    const out = new Array(n);\n\n    for (let i=0; i<ndiv2; i++) {\n        out[i] = PF.F.add(p1[i], PF.F.mul(PF.roots[bits][i], p2[i]));\n        out[i+ndiv2] = PF.F.sub(p1[i], PF.F.mul(PF.roots[bits][i], p2[i]));\n    }\n\n    return out;\n}\n\n\nfunction __fft2(PF, pall, bits) {\n\n    const n = 1 << bits;\n    if (n==1) {\n        return [ pall[0] ];\n    }\n\n    const ndiv2 = n >> 1;\n    const p1 = __fft2(PF, pall.slice(0, ndiv2), bits-1);\n    const p2 = __fft2(PF, pall.slice(ndiv2), bits-1);\n\n    const out = new Array(n);\n\n    for (let i=0; i<ndiv2; i++) {\n        out[i] = PF.F.add(p1[i], PF.F.mul(PF.roots[bits][i], p2[i]));\n        out[i+ndiv2] = PF.F.sub(p1[i], PF.F.mul(PF.roots[bits][i], p2[i]));\n    }\n\n    return out;\n}\n\nconst _revTable = [];\nfor (let i=0; i<256; i++) {\n    _revTable[i] = _revSlow(i, 8);\n}\n\nfunction _revSlow(idx, bits) {\n    let res =0;\n    let a = idx;\n    for (let i=0; i<bits; i++) {\n        res <<= 1;\n        res = res | (a &1);\n        a >>=1;\n    }\n    return res;\n}\n\nfunction rev(idx, bits) {\n    return (\n        _revTable[idx >>> 24] |\n        (_revTable[(idx >>> 16) & 0xFF] << 8) |\n        (_revTable[(idx >>> 8) & 0xFF] << 16) |\n        (_revTable[idx & 0xFF] << 24)\n    ) >>> (32-bits);\n}\n\nfunction __bitReverse(p, bits) {\n    for (let k=0; k<p.length; k++) {\n        const r = rev(k, bits);\n        if (r>k) {\n            const tmp= p[k];\n            p[k] = p[r];\n            p[r] = tmp;\n        }\n    }\n\n}\n\n\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 6948, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/nisch/Desktop/Velocity-1/node_modules/r1csfile/node_modules/ffjavascript/src/futils.js"],"sourcesContent":["/*\n    Copyright 2018 0kims association.\n\n    This file is part of snarkjs.\n\n    snarkjs is a free software: you can redistribute it and/or\n    modify it under the terms of the GNU General Public License as published by the\n    Free Software Foundation, either version 3 of the License, or (at your option)\n    any later version.\n\n    snarkjs is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY\n    or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n    more details.\n\n    You should have received a copy of the GNU General Public License along with\n    snarkjs. If not, see <https://www.gnu.org/licenses/>.\n*/\n\nimport * as Scalar from \"./scalar.js\";\n\n\nexport function mulScalar(F, base, e) {\n    let res;\n\n    if (Scalar.isZero(e)) return F.zero;\n\n    const n = Scalar.naf(e);\n\n    if (n[n.length-1] == 1) {\n        res = base;\n    } else if (n[n.length-1] == -1) {\n        res = F.neg(base);\n    } else {\n        throw new Error(\"invlaud NAF\");\n    }\n\n    for (let i=n.length-2; i>=0; i--) {\n\n        res = F.double(res);\n\n        if (n[i] == 1) {\n            res = F.add(res, base);\n        } else if (n[i] == -1) {\n            res = F.sub(res, base);\n        }\n    }\n\n    return res;\n}\n\n\n/*\nexports.mulScalar = (F, base, e) =>{\n    let res = F.zero;\n    let rem = bigInt(e);\n    let exp = base;\n\n    while (! rem.eq(bigInt.zero)) {\n        if (rem.and(bigInt.one).eq(bigInt.one)) {\n            res = F.add(res, exp);\n        }\n        exp = F.double(exp);\n        rem = rem.shiftRight(1);\n    }\n\n    return res;\n};\n*/\n\n\nexport function exp(F, base, e) {\n\n    if (Scalar.isZero(e)) return F.one;\n\n    const n = Scalar.bits(e);\n\n    if (n.length==0) return F.one;\n\n    let res = base;\n\n    for (let i=n.length-2; i>=0; i--) {\n\n        res = F.square(res);\n\n        if (n[i]) {\n            res = F.mul(res, base);\n        }\n    }\n\n    return res;\n}\n\n\n"],"names":[],"mappings":";;;;;;AAAA;;;;;;;;;;;;;;;;;AAiBA,GAEA;;AAGO,SAAS,UAAU,CAAC,EAAE,IAAI,EAAE,CAAC;IAChC,IAAI;IAEJ,IAAI,qLAAa,CAAC,IAAI,OAAO,EAAE,IAAI;IAEnC,MAAM,IAAI,kLAAU,CAAC;IAErB,IAAI,CAAC,CAAC,EAAE,MAAM,GAAC,EAAE,IAAI,GAAG;QACpB,MAAM;IACV,OAAO,IAAI,CAAC,CAAC,EAAE,MAAM,GAAC,EAAE,IAAI,CAAC,GAAG;QAC5B,MAAM,EAAE,GAAG,CAAC;IAChB,OAAO;QACH,MAAM,IAAI,MAAM;IACpB;IAEA,IAAK,IAAI,IAAE,EAAE,MAAM,GAAC,GAAG,KAAG,GAAG,IAAK;QAE9B,MAAM,EAAE,MAAM,CAAC;QAEf,IAAI,CAAC,CAAC,EAAE,IAAI,GAAG;YACX,MAAM,EAAE,GAAG,CAAC,KAAK;QACrB,OAAO,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG;YACnB,MAAM,EAAE,GAAG,CAAC,KAAK;QACrB;IACJ;IAEA,OAAO;AACX;AAsBO,SAAS,IAAI,CAAC,EAAE,IAAI,EAAE,CAAC;IAE1B,IAAI,qLAAa,CAAC,IAAI,OAAO,EAAE,GAAG;IAElC,MAAM,IAAI,mLAAW,CAAC;IAEtB,IAAI,EAAE,MAAM,IAAE,GAAG,OAAO,EAAE,GAAG;IAE7B,IAAI,MAAM;IAEV,IAAK,IAAI,IAAE,EAAE,MAAM,GAAC,GAAG,KAAG,GAAG,IAAK;QAE9B,MAAM,EAAE,MAAM,CAAC;QAEf,IAAI,CAAC,CAAC,EAAE,EAAE;YACN,MAAM,EAAE,GAAG,CAAC,KAAK;QACrB;IACJ;IAEA,OAAO;AACX","ignoreList":[0]}},
    {"offset": {"line": 7011, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/nisch/Desktop/Velocity-1/node_modules/r1csfile/node_modules/ffjavascript/src/fsqrt.js"],"sourcesContent":["import * as Scalar from \"./scalar.js\";\n// Check here: https://eprint.iacr.org/2012/685.pdf\n\nexport default function buildSqrt (F) {\n    if ((F.m % 2) == 1) {\n        if (Scalar.eq(Scalar.mod(F.p, 4), 1 )) {\n            if (Scalar.eq(Scalar.mod(F.p, 8), 1 )) {\n                if (Scalar.eq(Scalar.mod(F.p, 16), 1 )) {\n                    // alg7_muller(F);\n                    alg5_tonelliShanks(F);\n                } else if (Scalar.eq(Scalar.mod(F.p, 16), 9 )) {\n                    alg4_kong(F);\n                } else {\n                    throw new Error(\"Field withot sqrt\");\n                }\n            } else if (Scalar.eq(Scalar.mod(F.p, 8), 5 )) {\n                alg3_atkin(F);\n            } else {\n                throw new Error(\"Field withot sqrt\");\n            }\n        } else if (Scalar.eq(Scalar.mod(F.p, 4), 3 )) {\n            alg2_shanks(F);\n        }\n    } else {\n        const pm2mod4 = Scalar.mod(Scalar.pow(F.p, F.m/2), 4);\n        if (pm2mod4 == 1) {\n            alg10_adj(F);\n        } else if (pm2mod4 == 3) {\n            alg9_adj(F);\n        } else {\n            alg8_complex(F);\n        }\n\n    }\n}\n\n\nfunction alg5_tonelliShanks(F) {\n    F.sqrt_q = Scalar.pow(F.p, F.m);\n\n    F.sqrt_s = 0;\n    F.sqrt_t = Scalar.sub(F.sqrt_q, 1);\n\n    while (!Scalar.isOdd(F.sqrt_t)) {\n        F.sqrt_s = F.sqrt_s + 1;\n        F.sqrt_t = Scalar.div(F.sqrt_t, 2);\n    }\n\n    let c0 = F.one;\n\n    while (F.eq(c0, F.one)) {\n        const c = F.random();\n        F.sqrt_z = F.pow(c, F.sqrt_t);\n        c0 = F.pow(F.sqrt_z, 2 ** (F.sqrt_s-1) );\n    }\n\n    F.sqrt_tm1d2 = Scalar.div(Scalar.sub(F.sqrt_t, 1),2);\n\n    F.sqrt = function(a) {\n        const F=this;\n        if (F.isZero(a)) return F.zero;\n        let w = F.pow(a, F.sqrt_tm1d2);\n        const a0 = F.pow( F.mul(F.square(w), a), 2 ** (F.sqrt_s-1) );\n        if (F.eq(a0, F.negone)) return null;\n\n        let v = F.sqrt_s;\n        let x = F.mul(a, w);\n        let b = F.mul(x, w);\n        let z = F.sqrt_z;\n        while (!F.eq(b, F.one)) {\n            let b2k = F.square(b);\n            let k=1;\n            while (!F.eq(b2k, F.one)) {\n                b2k = F.square(b2k);\n                k++;\n            }\n\n            w = z;\n            for (let i=0; i<v-k-1; i++) {\n                w = F.square(w);\n            }\n            z = F.square(w);\n            b = F.mul(b, z);\n            x = F.mul(x, w);\n            v = k;\n        }\n        return F.geq(x, F.zero) ? x : F.neg(x);\n    };\n}\n\nfunction alg4_kong(F) {\n    F.sqrt = function() {\n        throw new Error(\"Sqrt alg 4 not implemented\");\n    };\n}\n\nfunction alg3_atkin(F) {\n    F.sqrt = function() {\n        throw new Error(\"Sqrt alg 3 not implemented\");\n    };\n}\n\nfunction alg2_shanks(F) {\n\n    F.sqrt_q = Scalar.pow(F.p, F.m);\n    F.sqrt_e1 = Scalar.div( Scalar.sub(F.sqrt_q, 3) , 4);\n\n    F.sqrt = function(a) {\n        if (this.isZero(a)) return this.zero;\n\n        // Test that have solution\n        const a1 = this.pow(a, this.sqrt_e1);\n\n        const a0 = this.mul(this.square(a1), a);\n\n        if ( this.eq(a0, this.negone) ) return null;\n\n        const x = this.mul(a1, a);\n\n        return F.geq(x, F.zero) ? x : F.neg(x);\n    };\n}\n\nfunction alg10_adj(F) {\n    F.sqrt = function() {\n        throw new Error(\"Sqrt alg 10 not implemented\");\n    };\n}\n\nfunction alg9_adj(F) {\n    F.sqrt_q = Scalar.pow(F.p, F.m/2);\n    F.sqrt_e34 = Scalar.div( Scalar.sub(F.sqrt_q, 3) , 4);\n    F.sqrt_e12 = Scalar.div( Scalar.sub(F.sqrt_q, 1) , 2);\n\n    F.frobenius = function(n, x) {\n        if ((n%2) == 1) {\n            return F.conjugate(x);\n        } else {\n            return x;\n        }\n    };\n\n    F.sqrt = function(a) {\n        const F = this;\n        const a1 = F.pow(a, F.sqrt_e34);\n        const alfa = F.mul(F.square(a1), a);\n        const a0 = F.mul(F.frobenius(1, alfa), alfa);\n        if (F.eq(a0, F.negone)) return null;\n        const x0 = F.mul(a1, a);\n        let x;\n        if (F.eq(alfa, F.negone)) {\n            x = F.mul(x0, [F.F.zero, F.F.one]);\n        } else {\n            const b = F.pow(F.add(F.one, alfa), F.sqrt_e12);\n            x = F.mul(b, x0);\n        }\n        return F.geq(x, F.zero) ? x : F.neg(x);\n    };\n}\n\n\nfunction alg8_complex(F) {\n    F.sqrt = function() {\n        throw new Error(\"Sqrt alg 8 not implemented\");\n    };\n}\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 7160, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/nisch/Desktop/Velocity-1/node_modules/r1csfile/node_modules/ffjavascript/src/chacha.js"],"sourcesContent":["\n\nimport * as Scalar from \"./scalar.js\";\n\n\nfunction quarterRound(st, a, b, c, d) {\n\n    st[a] = (st[a] + st[b]) >>> 0;\n    st[d] = (st[d] ^ st[a]) >>> 0;\n    st[d] = ((st[d] << 16) | ((st[d]>>>16) & 0xFFFF)) >>> 0;\n\n    st[c] = (st[c] + st[d]) >>> 0;\n    st[b] = (st[b] ^ st[c]) >>> 0;\n    st[b] = ((st[b] << 12) | ((st[b]>>>20) & 0xFFF)) >>> 0;\n\n    st[a] = (st[a] + st[b]) >>> 0;\n    st[d] = (st[d] ^ st[a]) >>> 0;\n    st[d] = ((st[d] << 8) | ((st[d]>>>24) & 0xFF)) >>> 0;\n\n    st[c] = (st[c] + st[d]) >>> 0;\n    st[b] = (st[b] ^ st[c]) >>> 0;\n    st[b] = ((st[b] << 7) | ((st[b]>>>25) & 0x7F)) >>> 0;\n}\n\nfunction doubleRound(st) {\n    quarterRound(st, 0, 4, 8,12);\n    quarterRound(st, 1, 5, 9,13);\n    quarterRound(st, 2, 6,10,14);\n    quarterRound(st, 3, 7,11,15);\n\n    quarterRound(st, 0, 5,10,15);\n    quarterRound(st, 1, 6,11,12);\n    quarterRound(st, 2, 7, 8,13);\n    quarterRound(st, 3, 4, 9,14);\n}\n\nexport default class ChaCha {\n\n    constructor(seed) {\n        seed = seed || [0,0,0,0,0,0,0,0];\n        this.state = [\n            0x61707865,\n            0x3320646E,\n            0x79622D32,\n            0x6B206574,\n            seed[0],\n            seed[1],\n            seed[2],\n            seed[3],\n            seed[4],\n            seed[5],\n            seed[6],\n            seed[7],\n            0,\n            0,\n            0,\n            0\n        ];\n        this.idx = 16;\n        this.buff = new Array(16);\n    }\n\n    nextU32() {\n        if (this.idx == 16) this.update();\n        return this.buff[this.idx++];\n    }\n\n    nextU64() {\n        return Scalar.add(Scalar.mul(this.nextU32(), 0x100000000), this.nextU32());\n    }\n\n    nextBool() {\n        return (this.nextU32() & 1) == 1;\n    }\n\n    update() {\n        // Copy the state\n        for (let i=0; i<16; i++) this.buff[i] = this.state[i];\n\n        // Apply the rounds\n        for (let i=0; i<10; i++) doubleRound(this.buff);\n\n        // Add to the initial\n        for (let i=0; i<16; i++) this.buff[i] = (this.buff[i] + this.state[i]) >>> 0;\n\n        this.idx = 0;\n\n        this.state[12] = (this.state[12] + 1) >>> 0;\n        if (this.state[12] != 0) return;\n        this.state[13] = (this.state[13] + 1) >>> 0;\n        if (this.state[13] != 0) return;\n        this.state[14] = (this.state[14] + 1) >>> 0;\n        if (this.state[14] != 0) return;\n        this.state[15] = (this.state[15] + 1) >>> 0;\n    }\n}\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 7254, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/nisch/Desktop/Velocity-1/node_modules/r1csfile/node_modules/ffjavascript/src/random.js"],"sourcesContent":["import ChaCha from \"./chacha.js\";\nimport crypto from \"crypto\";\n\nexport function getRandomBytes(n) {\n    let array = new Uint8Array(n);\n    if (process.browser) { // Browser\n        if (typeof globalThis.crypto !== \"undefined\") { // Supported\n            globalThis.crypto.getRandomValues(array);\n        } else { // fallback\n            for (let i=0; i<n; i++) {\n                array[i] = (Math.random()*4294967296)>>>0;\n            }\n        }\n    }\n    else { // NodeJS\n        crypto.randomFillSync(array);\n    }\n    return array;\n}\n\nexport function getRandomSeed() {\n    const arr = getRandomBytes(32);\n    const arrV = new Uint32Array(arr.buffer);\n    const seed = [];\n    for (let i=0; i<8; i++) {\n        seed.push(arrV[i]);\n    }\n    return seed;\n}\n\nlet threadRng = null;\n\nexport function getThreadRng() {\n    if (threadRng) return threadRng;\n    threadRng = new ChaCha(getRandomSeed());\n    return threadRng;\n}\n"],"names":[],"mappings":";;;;;;;;AAAA;AACA;;;AAEO,SAAS,eAAe,CAAC;IAC5B,IAAI,QAAQ,IAAI,WAAW;IAC3B;;SASK;QACD,gHAAM,CAAC,cAAc,CAAC;IAC1B;IACA,OAAO;AACX;AAEO,SAAS;IACZ,MAAM,MAAM,eAAe;IAC3B,MAAM,OAAO,IAAI,YAAY,IAAI,MAAM;IACvC,MAAM,OAAO,EAAE;IACf,IAAK,IAAI,IAAE,GAAG,IAAE,GAAG,IAAK;QACpB,KAAK,IAAI,CAAC,IAAI,CAAC,EAAE;IACrB;IACA,OAAO;AACX;AAEA,IAAI,YAAY;AAET,SAAS;IACZ,IAAI,WAAW,OAAO;IACtB,YAAY,IAAI,sLAAM,CAAC;IACvB,OAAO;AACX","ignoreList":[0]}},
    {"offset": {"line": 7294, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/nisch/Desktop/Velocity-1/node_modules/r1csfile/node_modules/ffjavascript/src/fft.js"],"sourcesContent":["/*\n    Copyright 2018 0kims association.\n\n    This file is part of snarkjs.\n\n    snarkjs is a free software: you can redistribute it and/or\n    modify it under the terms of the GNU General Public License as published by the\n    Free Software Foundation, either version 3 of the License, or (at your option)\n    any later version.\n\n    snarkjs is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY\n    or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n    more details.\n\n    You should have received a copy of the GNU General Public License along with\n    snarkjs. If not, see <https://www.gnu.org/licenses/>.\n*/\n\n/*\n    This library does operations on polynomials with coefficients in a field F.\n\n    A polynomial P(x) = p0 + p1 * x + p2 * x^2 + ... + pn * x^n  is represented\n    by the array [ p0, p1, p2, ... , pn ].\n */\n\nexport default class FFT {\n    constructor (G, F, opMulGF) {\n        this.F = F;\n        this.G = G;\n        this.opMulGF = opMulGF;\n\n        let rem = F.sqrt_t || F.t;\n        let s = F.sqrt_s || F.s;\n\n        let nqr = F.one;\n        while (F.eq(F.pow(nqr, F.half), F.one)) nqr = F.add(nqr, F.one);\n\n        this.w = new Array(s+1);\n        this.wi = new Array(s+1);\n        this.w[s] = this.F.pow(nqr, rem);\n        this.wi[s] = this.F.inv(this.w[s]);\n\n        let n=s-1;\n        while (n>=0) {\n            this.w[n] = this.F.square(this.w[n+1]);\n            this.wi[n] = this.F.square(this.wi[n+1]);\n            n--;\n        }\n\n\n        this.roots = [];\n        /*\n        for (let i=0; i<16; i++) {\n            let r = this.F.one;\n            n = 1 << i;\n            const rootsi = new Array(n);\n            for (let j=0; j<n; j++) {\n                rootsi[j] = r;\n                r = this.F.mul(r, this.w[i]);\n            }\n\n            this.roots.push(rootsi);\n        }\n        */\n        this._setRoots(Math.min(s, 15));\n    }\n\n    _setRoots(n) {\n        for (let i=n; (i>=0) && (!this.roots[i]); i--) {\n            let r = this.F.one;\n            const nroots = 1 << i;\n            const rootsi = new Array(nroots);\n            for (let j=0; j<nroots; j++) {\n                rootsi[j] = r;\n                r = this.F.mul(r, this.w[i]);\n            }\n\n            this.roots[i] = rootsi;\n        }\n    }\n\n    fft(p) {\n        if (p.length <= 1) return p;\n        const bits = log2(p.length-1)+1;\n        this._setRoots(bits);\n\n        const m = 1 << bits;\n        if (p.length != m) {\n            throw new Error(\"Size must be multiple of 2\");\n        }\n        const res = __fft(this, p, bits, 0, 1);\n        return res;\n    }\n\n    ifft(p) {\n\n        if (p.length <= 1) return p;\n        const bits = log2(p.length-1)+1;\n        this._setRoots(bits);\n        const m = 1 << bits;\n        if (p.length != m) {\n            throw new Error(\"Size must be multiple of 2\");\n        }\n        const res =  __fft(this, p, bits, 0, 1);\n        const twoinvm = this.F.inv( this.F.mulScalar(this.F.one, m) );\n        const resn = new Array(m);\n        for (let i=0; i<m; i++) {\n            resn[i] = this.opMulGF(res[(m-i)%m], twoinvm);\n        }\n\n        return resn;\n    }\n\n\n}\n\nfunction log2( V )\n{\n    return( ( ( V & 0xFFFF0000 ) !== 0 ? ( V &= 0xFFFF0000, 16 ) : 0 ) | ( ( V & 0xFF00FF00 ) !== 0 ? ( V &= 0xFF00FF00, 8 ) : 0 ) | ( ( V & 0xF0F0F0F0 ) !== 0 ? ( V &= 0xF0F0F0F0, 4 ) : 0 ) | ( ( V & 0xCCCCCCCC ) !== 0 ? ( V &= 0xCCCCCCCC, 2 ) : 0 ) | ( ( V & 0xAAAAAAAA ) !== 0 ) );\n}\n\n\nfunction __fft(PF, pall, bits, offset, step) {\n\n    const n = 1 << bits;\n    if (n==1) {\n        return [ pall[offset] ];\n    } else if (n==2) {\n        return [\n            PF.G.add(pall[offset], pall[offset + step]),\n            PF.G.sub(pall[offset], pall[offset + step])];\n    }\n\n    const ndiv2 = n >> 1;\n    const p1 = __fft(PF, pall, bits-1, offset, step*2);\n    const p2 = __fft(PF, pall, bits-1, offset+step, step*2);\n\n    const out = new Array(n);\n\n    for (let i=0; i<ndiv2; i++) {\n        out[i] = PF.G.add(p1[i], PF.opMulGF(p2[i], PF.roots[bits][i]));\n        out[i+ndiv2] = PF.G.sub(p1[i], PF.opMulGF(p2[i], PF.roots[bits][i]));\n    }\n\n    return out;\n}\n\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 7423, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/nisch/Desktop/Velocity-1/node_modules/r1csfile/node_modules/ffjavascript/src/f1field.js"],"sourcesContent":["/* global BigInt */\nimport * as Scalar from \"./scalar.js\";\nimport * as futils from \"./futils.js\";\nimport buildSqrt from \"./fsqrt.js\";\nimport {getRandomBytes} from \"./random.js\";\nimport FFFT from \"./fft.js\";\n\nexport default class ZqField {\n    constructor(p) {\n        this.type=\"F1\";\n        this.one = BigInt(1);\n        this.zero = BigInt(0);\n        this.p = BigInt(p);\n        this.m = 1;\n        this.negone = this.p-this.one;\n        this.two = BigInt(2);\n        this.half = this.p >> this.one;\n        this.bitLength = Scalar.bitLength(this.p);\n        this.mask = (this.one << BigInt(this.bitLength)) - this.one;\n\n        this.n64 = Math.floor((this.bitLength - 1) / 64)+1;\n        this.n32 = this.n64*2;\n        this.n8 = this.n64*8;\n        this.R = this.e(this.one << BigInt(this.n64*64));\n        this.Ri = this.inv(this.R);\n\n        const e = this.negone >> this.one;\n        this.nqr = this.two;\n        let r = this.pow(this.nqr, e);\n        while (!this.eq(r, this.negone)) {\n            this.nqr = this.nqr + this.one;\n            r = this.pow(this.nqr, e);\n        }\n\n\n        this.s = 0;\n        this.t = this.negone;\n\n        while ((this.t & this.one) == this.zero) {\n            this.s = this.s + 1;\n            this.t = this.t >> this.one;\n        }\n\n        this.nqr_to_t = this.pow(this.nqr, this.t);\n\n        buildSqrt(this);\n\n        this.FFT = new FFFT(this, this, this.mul.bind(this));\n\n        this.fft = this.FFT.fft.bind(this.FFT);\n        this.ifft = this.FFT.ifft.bind(this.FFT);\n        this.w = this.FFT.w;\n        this.wi = this.FFT.wi; \n    \n        this.shift = this.square(this.nqr);\n        this.k = this.exp(this.nqr, 2**this.s);\n    }\n\n    e(a,b) {\n        let res;\n        if (!b) {\n            res = BigInt(a);\n        } else if (b==16) {\n            res = BigInt(\"0x\"+a);\n        }\n        if (res < 0) {\n            let nres = -res;\n            if (nres >= this.p) nres = nres % this.p;\n            return this.p - nres;\n        } else {\n            return (res>= this.p) ? res%this.p : res;\n        }\n\n    }\n\n    add(a, b) {\n        const res = a + b;\n        return res >= this.p ? res-this.p : res;\n    }\n\n    sub(a, b) {\n        return (a >= b) ? a-b : this.p-b+a;\n    }\n\n    neg(a) {\n        return a ? this.p-a : a;\n    }\n\n    mul(a, b) {\n        return (a*b)%this.p;\n    }\n\n    mulScalar(base, s) {\n        return (base * this.e(s)) % this.p;\n    }\n\n    square(a) {\n        return (a*a) % this.p;\n    }\n\n    eq(a, b) {\n        return a==b;\n    }\n\n    neq(a, b) {\n        return a!=b;\n    }\n\n    lt(a, b) {\n        const aa = (a > this.half) ? a - this.p : a;\n        const bb = (b > this.half) ? b - this.p : b;\n        return aa < bb;\n    }\n\n    gt(a, b) {\n        const aa = (a > this.half) ? a - this.p : a;\n        const bb = (b > this.half) ? b - this.p : b;\n        return aa > bb;\n    }\n\n    leq(a, b) {\n        const aa = (a > this.half) ? a - this.p : a;\n        const bb = (b > this.half) ? b - this.p : b;\n        return aa <= bb;\n    }\n\n    geq(a, b) {\n        const aa = (a > this.half) ? a - this.p : a;\n        const bb = (b > this.half) ? b - this.p : b;\n        return aa >= bb;\n    }\n\n    div(a, b) {\n        return this.mul(a, this.inv(b));\n    }\n\n    idiv(a, b) {\n        if (!b) throw new Error(\"Division by zero\");\n        return a / b;\n    }\n\n    inv(a) {\n        if (!a) throw new Error(\"Division by zero\");\n\n        let t = this.zero;\n        let r = this.p;\n        let newt = this.one;\n        let newr = a % this.p;\n        while (newr) {\n            let q = r/newr;\n            [t, newt] = [newt, t-q*newt];\n            [r, newr] = [newr, r-q*newr];\n        }\n        if (t<this.zero) t += this.p;\n        return t;\n    }\n\n    mod(a, b) {\n        return a % b;\n    }\n\n    pow(b, e) {\n        return futils.exp(this, b, e);\n    }\n\n    exp(b, e) {\n        return futils.exp(this, b, e);\n    }\n\n    band(a, b) {\n        const res =  ((a & b) & this.mask);\n        return res >= this.p ? res-this.p : res;\n    }\n\n    bor(a, b) {\n        const res =  ((a | b) & this.mask);\n        return res >= this.p ? res-this.p : res;\n    }\n\n    bxor(a, b) {\n        const res =  ((a ^ b) & this.mask);\n        return res >= this.p ? res-this.p : res;\n    }\n\n    bnot(a) {\n        const res = a ^ this.mask;\n        return res >= this.p ? res-this.p : res;\n    }\n\n    shl(a, b) {\n        if (Number(b) < this.bitLength) {\n            const res = (a << b) & this.mask;\n            return res >= this.p ? res-this.p : res;\n        } else {\n            const nb = this.p - b;\n            if (Number(nb) < this.bitLength) {\n                return a >> nb;\n            } else {\n                return this.zero;\n            }\n        }\n    }\n\n    shr(a, b) {\n        if (Number(b) < this.bitLength) {\n            return a >> b;\n        } else {\n            const nb = this.p - b;\n            if (Number(nb) < this.bitLength) {\n                const res = (a << nb) & this.mask;\n                return res >= this.p ? res-this.p : res;\n            } else {\n                return 0;\n            }\n        }\n    }\n\n    land(a, b) {\n        return (a && b) ? this.one : this.zero;\n    }\n\n    lor(a, b) {\n        return (a || b) ? this.one : this.zero;\n    }\n\n    lnot(a) {\n        return (a) ? this.zero : this.one;\n    }\n\n    sqrt_old(n) {\n\n        if (n == this.zero) return this.zero;\n\n        // Test that have solution\n        const res = this.pow(n, this.negone >> this.one);\n        if ( res != this.one ) return null;\n\n        let m = this.s;\n        let c = this.nqr_to_t;\n        let t = this.pow(n, this.t);\n        let r = this.pow(n, this.add(this.t, this.one) >> this.one );\n\n        while ( t != this.one ) {\n            let sq = this.square(t);\n            let i = 1;\n            while (sq != this.one ) {\n                i++;\n                sq = this.square(sq);\n            }\n\n            // b = c ^ m-i-1\n            let b = c;\n            for (let j=0; j< m-i-1; j ++) b = this.square(b);\n\n            m = i;\n            c = this.square(b);\n            t = this.mul(t, c);\n            r = this.mul(r, b);\n        }\n\n        if (r > (this.p >> this.one)) {\n            r = this.neg(r);\n        }\n\n        return r;\n    }\n\n    normalize(a, b) {\n        a = BigInt(a,b);\n        if (a < 0) {\n            let na = -a;\n            if (na >= this.p) na = na % this.p;\n            return this.p - na;\n        } else {\n            return (a>= this.p) ? a%this.p : a;\n        }\n    }\n\n    random() {\n        const nBytes = (this.bitLength*2 / 8);\n        let res =this.zero;\n        for (let i=0; i<nBytes; i++) {\n            res = (res << BigInt(8)) + BigInt(getRandomBytes(1)[0]);\n        }\n        return res % this.p;\n    }\n\n    toString(a, base) {\n        base = base || 10;\n        let vs;\n        if ((a > this.half)&&(base == 10)) {\n            const v = this.p-a;\n            vs = \"-\"+v.toString(base);\n        } else {\n            vs = a.toString(base);\n        }\n        return vs;\n    }\n\n    isZero(a) {\n        return a == this.zero;\n    }\n\n    fromRng(rng) {\n        let v;\n        do {\n            v=this.zero;\n            for (let i=0; i<this.n64; i++) {\n                v += rng.nextU64() << BigInt(64 *i);\n            }\n            v &= this.mask;\n        } while (v >= this.p);\n        v = (v * this.Ri) % this.p;   // Convert from montgomery\n        return v;\n    }\n\n    fft(a) {\n        return this.FFT.fft(a);\n    }\n\n    ifft(a) {\n        return this.FFT.ifft(a);\n    }\n\n    // Returns a buffer with Little Endian Representation\n    toRprLE(buff, o, e) {\n        Scalar.toRprLE(buff, o, e, this.n64*8);\n    }\n\n    // Returns a buffer with Big Endian Representation\n    toRprBE(buff, o, e) {\n        Scalar.toRprBE(buff, o, e, this.n64*8);\n    }\n\n    // Returns a buffer with Big Endian Montgomery Representation\n    toRprBEM(buff, o, e) {\n        return this.toRprBE(buff, o, this.mul(this.R, e));\n    }\n\n    toRprLEM(buff, o, e) {\n        return this.toRprLE(buff, o, this.mul(this.R, e));\n    }\n\n\n    // Pases a buffer with Little Endian Representation\n    fromRprLE(buff, o) {\n        return Scalar.fromRprLE(buff, o, this.n8);\n    }\n\n    // Pases a buffer with Big Endian Representation\n    fromRprBE(buff, o) {\n        return Scalar.fromRprBE(buff, o, this.n8);\n    }\n\n    fromRprLEM(buff, o) {\n        return this.mul(this.fromRprLE(buff, o), this.Ri);\n    }\n\n    fromRprBEM(buff, o) {\n        return this.mul(this.fromRprBE(buff, o), this.Ri);\n    }\n\n    toObject(a) {\n        return a;\n    }\n}"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 7740, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/nisch/Desktop/Velocity-1/node_modules/r1csfile/node_modules/ffjavascript/src/f2field.js"],"sourcesContent":["/*\n    Copyright 2018 0kims association.\n\n    This file is part of snarkjs.\n\n    snarkjs is a free software: you can redistribute it and/or\n    modify it under the terms of the GNU General Public License as published by the\n    Free Software Foundation, either version 3 of the License, or (at your option)\n    any later version.\n\n    snarkjs is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY\n    or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n    more details.\n\n    You should have received a copy of the GNU General Public License along with\n    snarkjs. If not, see <https://www.gnu.org/licenses/>.\n*/\n\nimport * as fUtils from \"./futils.js\";\nimport buildSqrt from \"./fsqrt.js\";\n\nexport default class F2Field {\n    constructor(F, nonResidue) {\n        this.type=\"F2\";\n        this.F = F;\n        this.zero = [this.F.zero, this.F.zero];\n        this.one = [this.F.one, this.F.zero];\n        this.negone = this.neg(this.one);\n        this.nonResidue = nonResidue;\n        this.m = F.m*2;\n        this.p = F.p;\n        this.n64 = F.n64*2;\n        this.n32 = this.n64*2;\n        this.n8 = this.n64*8;\n\n        buildSqrt(this);\n    }\n\n    _mulByNonResidue(a) {\n        return this.F.mul(this.nonResidue, a);\n    }\n\n    copy(a) {\n        return [this.F.copy(a[0]), this.F.copy(a[1])];\n    }\n\n    add(a, b) {\n        return [\n            this.F.add(a[0], b[0]),\n            this.F.add(a[1], b[1])\n        ];\n    }\n\n    double(a) {\n        return this.add(a,a);\n    }\n\n    sub(a, b) {\n        return [\n            this.F.sub(a[0], b[0]),\n            this.F.sub(a[1], b[1])\n        ];\n    }\n\n    neg(a) {\n        return this.sub(this.zero, a);\n    }\n\n    conjugate(a) {\n        return [\n            a[0],\n            this.F.neg(a[1])\n        ];\n    }\n\n    mul(a, b) {\n        const aA = this.F.mul(a[0] , b[0]);\n        const bB = this.F.mul(a[1] , b[1]);\n\n        return [\n            this.F.add( aA , this._mulByNonResidue(bB)),\n            this.F.sub(\n                this.F.mul(\n                    this.F.add(a[0], a[1]),\n                    this.F.add(b[0], b[1])),\n                this.F.add(aA, bB))];\n    }\n\n    inv(a) {\n        const t0 = this.F.square(a[0]);\n        const t1 = this.F.square(a[1]);\n        const t2 = this.F.sub(t0, this._mulByNonResidue(t1));\n        const t3 = this.F.inv(t2);\n        return [\n            this.F.mul(a[0], t3),\n            this.F.neg(this.F.mul( a[1], t3)) ];\n    }\n\n    div(a, b) {\n        return this.mul(a, this.inv(b));\n    }\n\n    square(a) {\n        const ab = this.F.mul(a[0] , a[1]);\n\n        /*\n        [\n            (a + b) * (a + non_residue * b) - ab - non_residue * ab,\n            ab + ab\n        ];\n        */\n\n        return [\n            this.F.sub(\n                this.F.mul(\n                    this.F.add(a[0], a[1]) ,\n                    this.F.add(\n                        a[0] ,\n                        this._mulByNonResidue(a[1]))),\n                this.F.add(\n                    ab,\n                    this._mulByNonResidue(ab))),\n            this.F.add(ab, ab)\n        ];\n    }\n\n    isZero(a) {\n        return this.F.isZero(a[0]) && this.F.isZero(a[1]);\n    }\n\n    eq(a, b) {\n        return this.F.eq(a[0], b[0]) && this.F.eq(a[1], b[1]);\n    }\n\n    mulScalar(base, e) {\n        return fUtils.mulScalar(this, base, e);\n    }\n\n    pow(base, e) {\n        return fUtils.exp(this, base, e);\n    }\n\n    exp(base, e) {\n        return fUtils.exp(this, base, e);\n    }\n\n    toString(a) {\n        return `[ ${this.F.toString(a[0])} , ${this.F.toString(a[1])} ]`;\n    }\n\n    fromRng(rng) {\n        const c0 = this.F.fromRng(rng);\n        const c1 = this.F.fromRng(rng);\n        return [c0, c1];\n    }\n\n    gt(a, b) {\n        if (this.F.gt(a[0], b[0])) return true;\n        if (this.F.gt(b[0], a[0])) return false;\n        if (this.F.gt(a[1], b[1])) return true;\n        return false;\n    }\n\n    geq(a, b) {\n        return this.gt(a, b) || this.eq(a, b);\n    }\n\n    lt(a, b) {\n        return !this.geq(a,b);\n    }\n\n    leq(a, b) {\n        return !this.gt(a,b);\n    }\n\n    neq(a, b) {\n        return !this.eq(a,b);\n    }\n\n    random() {\n        return [this.F.random(), this.F.random()];\n    }\n\n\n    toRprLE(buff, o, e) {\n        this.F.toRprLE(buff, o, e[0]);\n        this.F.toRprLE(buff, o+this.F.n8, e[1]);\n    }\n\n    toRprBE(buff, o, e) {\n        this.F.toRprBE(buff, o, e[1]);\n        this.F.toRprBE(buff, o+this.F.n8, e[0]);\n    }\n\n    toRprLEM(buff, o, e) {\n        this.F.toRprLEM(buff, o, e[0]);\n        this.F.toRprLEM(buff, o+this.F.n8, e[1]);\n    }\n\n\n    toRprBEM(buff, o, e) {\n        this.F.toRprBEM(buff, o, e[1]);\n        this.F.toRprBEM(buff, o+this.F.n8, e[0]);\n    }\n\n    fromRprLE(buff, o) {\n        o = o || 0;\n        const c0 = this.F.fromRprLE(buff, o);\n        const c1 = this.F.fromRprLE(buff, o+this.F.n8);\n        return [c0, c1];\n    }\n\n    fromRprBE(buff, o) {\n        o = o || 0;\n        const c1 = this.F.fromRprBE(buff, o);\n        const c0 = this.F.fromRprBE(buff, o+this.F.n8);\n        return [c0, c1];\n    }\n\n    fromRprLEM(buff, o) {\n        o = o || 0;\n        const c0 = this.F.fromRprLEM(buff, o);\n        const c1 = this.F.fromRprLEM(buff, o+this.F.n8);\n        return [c0, c1];\n    }\n\n    fromRprBEM(buff, o) {\n        o = o || 0;\n        const c1 = this.F.fromRprBEM(buff, o);\n        const c0 = this.F.fromRprBEM(buff, o+this.F.n8);\n        return [c0, c1];\n    }\n\n    toObject(a) {\n        return a;\n    }\n\n}\n\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 7962, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/nisch/Desktop/Velocity-1/node_modules/r1csfile/node_modules/ffjavascript/src/f3field.js"],"sourcesContent":["/*\n    Copyright 2018 0kims association.\n\n    This file is part of snarkjs.\n\n    snarkjs is a free software: you can redistribute it and/or\n    modify it under the terms of the GNU General Public License as published by the\n    Free Software Foundation, either version 3 of the License, or (at your option)\n    any later version.\n\n    snarkjs is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY\n    or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n    more details.\n\n    You should have received a copy of the GNU General Public License along with\n    snarkjs. If not, see <https://www.gnu.org/licenses/>.\n*/\n\nimport * as fUtils from \"./futils.js\";\n\nexport default class F3Field {\n    constructor(F, nonResidue) {\n        this.type=\"F3\";\n        this.F = F;\n        this.zero = [this.F.zero, this.F.zero, this.F.zero];\n        this.one = [this.F.one, this.F.zero, this.F.zero];\n        this.negone = this.neg(this.one);\n        this.nonResidue = nonResidue;\n        this.m = F.m*3;\n        this.p = F.p;\n        this.n64 = F.n64*3;\n        this.n32 = this.n64*2;\n        this.n8 = this.n64*8;\n    }\n\n    _mulByNonResidue(a) {\n        return this.F.mul(this.nonResidue, a);\n    }\n\n    copy(a) {\n        return [this.F.copy(a[0]), this.F.copy(a[1]), this.F.copy(a[2])];\n    }\n\n    add(a, b) {\n        return [\n            this.F.add(a[0], b[0]),\n            this.F.add(a[1], b[1]),\n            this.F.add(a[2], b[2])\n        ];\n    }\n\n    double(a) {\n        return this.add(a,a);\n    }\n\n    sub(a, b) {\n        return [\n            this.F.sub(a[0], b[0]),\n            this.F.sub(a[1], b[1]),\n            this.F.sub(a[2], b[2])\n        ];\n    }\n\n    neg(a) {\n        return this.sub(this.zero, a);\n    }\n\n    mul(a, b) {\n\n        const aA = this.F.mul(a[0] , b[0]);\n        const bB = this.F.mul(a[1] , b[1]);\n        const cC = this.F.mul(a[2] , b[2]);\n\n        return [\n            this.F.add(\n                aA,\n                this._mulByNonResidue(\n                    this.F.sub(\n                        this.F.mul(\n                            this.F.add(a[1], a[2]),\n                            this.F.add(b[1], b[2])),\n                        this.F.add(bB, cC)))),    // aA + non_residue*((b+c)*(B+C)-bB-cC),\n\n            this.F.add(\n                this.F.sub(\n                    this.F.mul(\n                        this.F.add(a[0], a[1]),\n                        this.F.add(b[0], b[1])),\n                    this.F.add(aA, bB)),\n                this._mulByNonResidue( cC)),   // (a+b)*(A+B)-aA-bB+non_residue*cC\n\n            this.F.add(\n                this.F.sub(\n                    this.F.mul(\n                        this.F.add(a[0], a[2]),\n                        this.F.add(b[0], b[2])),\n                    this.F.add(aA, cC)),\n                bB)];                           // (a+c)*(A+C)-aA+bB-cC)\n    }\n\n    inv(a) {\n        const t0 = this.F.square(a[0]);             // t0 = a^2 ;\n        const t1 = this.F.square(a[1]);             // t1 = b^2 ;\n        const t2 = this.F.square(a[2]);             // t2 = c^2;\n        const t3 = this.F.mul(a[0],a[1]);           // t3 = ab\n        const t4 = this.F.mul(a[0],a[2]);           // t4 = ac\n        const t5 = this.F.mul(a[1],a[2]);           // t5 = bc;\n        // c0 = t0 - non_residue * t5;\n        const c0 = this.F.sub(t0, this._mulByNonResidue(t5));\n        // c1 = non_residue * t2 - t3;\n        const c1 = this.F.sub(this._mulByNonResidue(t2), t3);\n        const c2 = this.F.sub(t1, t4);              // c2 = t1-t4\n\n        // t6 = (a * c0 + non_residue * (c * c1 + b * c2)).inv();\n        const t6 =\n            this.F.inv(\n                this.F.add(\n                    this.F.mul(a[0], c0),\n                    this._mulByNonResidue(\n                        this.F.add(\n                            this.F.mul(a[2], c1),\n                            this.F.mul(a[1], c2)))));\n\n        return [\n            this.F.mul(t6, c0),         // t6*c0\n            this.F.mul(t6, c1),         // t6*c1\n            this.F.mul(t6, c2)];        // t6*c2\n    }\n\n    div(a, b) {\n        return this.mul(a, this.inv(b));\n    }\n\n    square(a) {\n        const s0 = this.F.square(a[0]);                   // s0 = a^2\n        const ab = this.F.mul(a[0], a[1]);                // ab = a*b\n        const s1 = this.F.add(ab, ab);                    // s1 = 2ab;\n        const s2 = this.F.square(\n            this.F.add(this.F.sub(a[0],a[1]), a[2]));     // s2 = (a - b + c)^2;\n        const bc = this.F.mul(a[1],a[2]);                 // bc = b*c\n        const s3 = this.F.add(bc, bc);                    // s3 = 2*bc\n        const s4 = this.F.square(a[2]);                   // s4 = c^2\n\n\n        return [\n            this.F.add(\n                s0,\n                this._mulByNonResidue(s3)),           // s0 + non_residue * s3,\n            this.F.add(\n                s1,\n                this._mulByNonResidue(s4)),           // s1 + non_residue * s4,\n            this.F.sub(\n                this.F.add( this.F.add(s1, s2) , s3 ),\n                this.F.add(s0, s4))];                      // s1 + s2 + s3 - s0 - s4\n    }\n\n    isZero(a) {\n        return this.F.isZero(a[0]) && this.F.isZero(a[1]) && this.F.isZero(a[2]);\n    }\n\n    eq(a, b) {\n        return this.F.eq(a[0], b[0]) && this.F.eq(a[1], b[1]) && this.F.eq(a[2], b[2]);\n    }\n\n    affine(a) {\n        return [this.F.affine(a[0]), this.F.affine(a[1]), this.F.affine(a[2])];\n    }\n\n    mulScalar(base, e) {\n        return fUtils.mulScalar(this, base, e);\n    }\n\n    pow(base, e) {\n        return fUtils.exp(this, base, e);\n    }\n\n    exp(base, e) {\n        return fUtils.exp(this, base, e);\n    }\n\n    toString(a) {\n        return `[ ${this.F.toString(a[0])} , ${this.F.toString(a[1])}, ${this.F.toString(a[2])} ]`;\n    }\n\n    fromRng(rng) {\n        const c0 = this.F.fromRng(rng);\n        const c1 = this.F.fromRng(rng);\n        const c2 = this.F.fromRng(rng);\n        return [c0, c1, c2];\n    }\n\n    gt(a, b) {\n        if (this.F.gt(a[0], b[0])) return true;\n        if (this.F.gt(b[0], a[0])) return false;\n        if (this.F.gt(a[1], b[1])) return true;\n        if (this.F.gt(b[1], a[1])) return false;\n        if (this.F.gt(a[2], b[2])) return true;\n        return false;\n    }\n\n\n    geq(a, b) {\n        return this.gt(a, b) || this.eq(a, b);\n    }\n\n    lt(a, b) {\n        return !this.geq(a,b);\n    }\n\n    leq(a, b) {\n        return !this.gt(a,b);\n    }\n\n    neq(a, b) {\n        return !this.eq(a,b);\n    }\n\n    random() {\n        return [this.F.random(), this.F.random(), this.F.random()];\n    }\n\n\n    toRprLE(buff, o, e) {\n        this.F.toRprLE(buff, o, e[0]);\n        this.F.toRprLE(buff, o+this.F.n8, e[1]);\n        this.F.toRprLE(buff, o+this.F.n8*2, e[2]);\n    }\n\n    toRprBE(buff, o, e) {\n        this.F.toRprBE(buff, o, e[2]);\n        this.F.toRprBE(buff, o+this.F.n8, e[1]);\n        this.F.toRprBE(buff, o+this.F.n8*2, e[0]);\n    }\n\n    toRprLEM(buff, o, e) {\n        this.F.toRprLEM(buff, o, e[0]);\n        this.F.toRprLEM(buff, o+this.F.n8, e[1]);\n        this.F.toRprLEM(buff, o+this.F.n8*2, e[2]);\n    }\n\n\n    toRprBEM(buff, o, e) {\n        this.F.toRprBEM(buff, o, e[2]);\n        this.F.toRprBEM(buff, o+this.F.n8, e[1]);\n        this.F.toRprBEM(buff, o+this.F.n8*2, e[0]);\n    }\n\n    fromRprLE(buff, o) {\n        o = o || 0;\n        const c0 = this.F.fromRprLE(buff, o);\n        const c1 = this.F.fromRprLE(buff, o+this.n8);\n        const c2 = this.F.fromRprLE(buff, o+this.n8*2);\n        return [c0, c1, c2];\n    }\n\n    fromRprBE(buff, o) {\n        o = o || 0;\n        const c2 = this.F.fromRprBE(buff, o);\n        const c1 = this.F.fromRprBE(buff, o+this.n8);\n        const c0 = this.F.fromRprBE(buff, o+this.n8*2);\n        return [c0, c1, c2];\n    }\n\n    fromRprLEM(buff, o) {\n        o = o || 0;\n        const c0 = this.F.fromRprLEM(buff, o);\n        const c1 = this.F.fromRprLEM(buff, o+this.n8);\n        const c2 = this.F.fromRprLEM(buff, o+this.n8*2);\n        return [c0, c1, c2];\n    }\n\n    fromRprBEM(buff, o) {\n        o = o || 0;\n        const c2 = this.F.fromRprBEM(buff, o);\n        const c1 = this.F.fromRprBEM(buff, o+this.n8);\n        const c0 = this.F.fromRprBEM(buff, o+this.n8*2);\n        return [c0, c1, c2];\n    }\n\n    toObject(a) {\n        return a;\n    }\n}\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 8218, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/nisch/Desktop/Velocity-1/node_modules/r1csfile/node_modules/ffjavascript/src/ec.js"],"sourcesContent":["/*\n    Copyright 2018 0kims association.\n\n    This file is part of snarkjs.\n\n    snarkjs is a free software: you can redistribute it and/or\n    modify it under the terms of the GNU General Public License as published by the\n    Free Software Foundation, either version 3 of the License, or (at your option)\n    any later version.\n\n    snarkjs is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY\n    or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for\n    more details.\n\n    You should have received a copy of the GNU General Public License along with\n    snarkjs. If not, see <https://www.gnu.org/licenses/>.\n*/\n\n\n\nimport * as fUtils from \"./futils.js\";\nimport * as Scalar from \"./scalar.js\";\n\n\nfunction isGreatest(F, a) {\n    if (Array.isArray(a)) {\n        for (let i=a.length-1; i>=0; i--) {\n            if (!F.F.isZero(a[i])) {\n                return isGreatest(F.F, a[i]);\n            }\n        }\n        return 0;\n    } else {\n        const na = F.neg(a);\n        return Scalar.gt(a, na);\n    }\n}\n\n\nexport default class EC {\n\n    constructor(F, g) {\n        this.F = F;\n        this.g = g;\n        if (this.g.length == 2) this.g[2] = this.F.one;\n        this.zero = [this.F.zero, this.F.one, this.F.zero];\n    }\n\n    add(p1, p2) {\n\n        const F = this.F;\n\n        if (this.eq(p1, this.zero)) return p2;\n        if (this.eq(p2, this.zero)) return p1;\n\n        const res = new Array(3);\n\n        const Z1Z1 = F.square( p1[2] );\n        const Z2Z2 = F.square( p2[2] );\n\n        const U1 = F.mul( p1[0] , Z2Z2 );     // U1 = X1  * Z2Z2\n        const U2 = F.mul( p2[0] , Z1Z1 );     // U2 = X2  * Z1Z1\n\n        const Z1_cubed = F.mul( p1[2] , Z1Z1);\n        const Z2_cubed = F.mul( p2[2] , Z2Z2);\n\n        const S1 = F.mul( p1[1] , Z2_cubed);  // S1 = Y1 * Z2 * Z2Z2\n        const S2 = F.mul( p2[1] , Z1_cubed);  // S2 = Y2 * Z1 * Z1Z1\n\n        if (F.eq(U1,U2) && F.eq(S1,S2)) {\n            return this.double(p1);\n        }\n\n        const H = F.sub( U2 , U1 );                    // H = U2-U1\n\n        const S2_minus_S1 = F.sub( S2 , S1 );\n\n        const I = F.square( F.add(H,H) );         // I = (2 * H)^2\n        const J = F.mul( H , I );                      // J = H * I\n\n        const r = F.add( S2_minus_S1 , S2_minus_S1 );  // r = 2 * (S2-S1)\n        const V = F.mul( U1 , I );                     // V = U1 * I\n\n        res[0] =\n            F.sub(\n                F.sub( F.square(r) , J ),\n                F.add( V , V ));                       // X3 = r^2 - J - 2 * V\n\n        const S1_J = F.mul( S1 , J );\n\n        res[1] =\n            F.sub(\n                F.mul( r , F.sub(V,res[0])),\n                F.add( S1_J,S1_J ));                   // Y3 = r * (V-X3)-2 S1 J\n\n        res[2] =\n            F.mul(\n                H,\n                F.sub(\n                    F.square( F.add(p1[2],p2[2]) ),\n                    F.add( Z1Z1 , Z2Z2 )));            // Z3 = ((Z1+Z2)^2-Z1Z1-Z2Z2) * H\n\n        return res;\n    }\n\n    neg(p) {\n        return [p[0], this.F.neg(p[1]), p[2]];\n    }\n\n    sub(a, b) {\n        return this.add(a, this.neg(b));\n    }\n\n    double(p) {\n        const F = this.F;\n\n        const res = new Array(3);\n\n        if (this.eq(p, this.zero)) return p;\n\n        const A = F.square( p[0] );                    // A = X1^2\n        const B = F.square( p[1] );                    // B = Y1^2\n        const C = F.square( B );                       // C = B^2\n\n        let D =\n            F.sub(\n                F.square( F.add(p[0] , B )),\n                F.add( A , C));\n        D = F.add(D,D);                    // D = 2 * ((X1 + B)^2 - A - C)\n\n        const E = F.add( F.add(A,A), A);          // E = 3 * A\n        const FF =F.square( E );                       // F = E^2\n\n        res[0] = F.sub( FF , F.add(D,D) );         // X3 = F - 2 D\n\n        let eightC = F.add( C , C );\n        eightC = F.add( eightC , eightC );\n        eightC = F.add( eightC , eightC );\n\n        res[1] =\n            F.sub(\n                F.mul(\n                    E,\n                    F.sub( D, res[0] )),\n                eightC);                                    // Y3 = E * (D - X3) - 8 * C\n\n        const Y1Z1 = F.mul( p[1] , p[2] );\n        res[2] = F.add( Y1Z1 , Y1Z1 );                 // Z3 = 2 * Y1 * Z1\n\n        return res;\n    }\n\n    timesScalar(base, e) {\n        return fUtils.mulScalar(this, base, e);\n    }\n\n    mulScalar(base, e) {\n        return fUtils.mulScalar(this, base, e);\n    }\n\n    affine(p) {\n        const F = this.F;\n        if (this.isZero(p)) {\n            return this.zero;\n        } else if (F.eq(p[2], F.one)) {\n            return p;\n        } else {\n            const Z_inv = F.inv(p[2]);\n            const Z2_inv = F.square(Z_inv);\n            const Z3_inv = F.mul(Z2_inv, Z_inv);\n\n            const res = new Array(3);\n            res[0] = F.mul(p[0],Z2_inv);\n            res[1] = F.mul(p[1],Z3_inv);\n            res[2] = F.one;\n\n            return res;\n        }\n    }\n\n    multiAffine(arr) {\n        const keys = Object.keys(arr);\n        const F = this.F;\n        const accMul = new Array(keys.length+1);\n        accMul[0] = F.one;\n        for (let i = 0; i< keys.length; i++) {\n            if (F.eq(arr[keys[i]][2], F.zero)) {\n                accMul[i+1] = accMul[i];\n            } else {\n                accMul[i+1] = F.mul(accMul[i], arr[keys[i]][2]);\n            }\n        }\n\n        accMul[keys.length] = F.inv(accMul[keys.length]);\n\n        for (let i = keys.length-1; i>=0; i--) {\n            if (F.eq(arr[keys[i]][2], F.zero)) {\n                accMul[i] = accMul[i+1];\n                arr[keys[i]] = this.zero;\n            } else {\n                const Z_inv = F.mul(accMul[i], accMul[i+1]);\n                accMul[i] = F.mul(arr[keys[i]][2], accMul[i+1]);\n\n                const Z2_inv = F.square(Z_inv);\n                const Z3_inv = F.mul(Z2_inv, Z_inv);\n\n                arr[keys[i]][0] = F.mul(arr[keys[i]][0],Z2_inv);\n                arr[keys[i]][1] = F.mul(arr[keys[i]][1],Z3_inv);\n                arr[keys[i]][2] = F.one;\n            }\n        }\n\n    }\n\n    eq(p1, p2) {\n        const F = this.F;\n\n        if (this.F.eq(p1[2], this.F.zero)) return this.F.eq(p2[2], this.F.zero);\n        if (this.F.eq(p2[2], this.F.zero)) return false;\n\n        const Z1Z1 = F.square( p1[2] );\n        const Z2Z2 = F.square( p2[2] );\n\n        const U1 = F.mul( p1[0] , Z2Z2 );\n        const U2 = F.mul( p2[0] , Z1Z1 );\n\n        const Z1_cubed = F.mul( p1[2] , Z1Z1);\n        const Z2_cubed = F.mul( p2[2] , Z2Z2);\n\n        const S1 = F.mul( p1[1] , Z2_cubed);\n        const S2 = F.mul( p2[1] , Z1_cubed);\n\n        return (F.eq(U1,U2) && F.eq(S1,S2));\n    }\n\n    isZero(p) {\n        return this.F.isZero(p[2]);\n    }\n\n    toString(p) {\n        const cp = this.affine(p);\n        return `[ ${this.F.toString(cp[0])} , ${this.F.toString(cp[1])} ]`;\n    }\n\n    fromRng(rng) {\n        const F = this.F;\n        let P = [];\n        let greatest;\n        do {\n            P[0] = F.fromRng(rng);\n            greatest = rng.nextBool();\n            const x3b = F.add(F.mul(F.square(P[0]), P[0]), this.b);\n            P[1] = F.sqrt(x3b);\n        } while ((P[1] == null)||(F.isZero[P]));\n\n        const s = isGreatest(F, P[1]);\n        if (greatest ^ s) P[1] = F.neg(P[1]);\n        P[2] = F.one;\n\n        if (this.cofactor) {\n            P = this.mulScalar(P, this.cofactor);\n        }\n\n        P = this.affine(P);\n\n        return P;\n\n    }\n\n    toRprLE(buff, o, p) {\n        p = this.affine(p);\n        if (this.isZero(p)) {\n            const BuffV = new Uint8Array(buff, o, this.F.n8*2);\n            BuffV.fill(0);\n            return;\n        }\n        this.F.toRprLE(buff, o, p[0]);\n        this.F.toRprLE(buff, o+this.F.n8, p[1]);\n    }\n\n    toRprBE(buff, o, p) {\n        p = this.affine(p);\n        if (this.isZero(p)) {\n            const BuffV = new Uint8Array(buff, o, this.F.n8*2);\n            BuffV.fill(0);\n            return;\n        }\n        this.F.toRprBE(buff, o, p[0]);\n        this.F.toRprBE(buff, o+this.F.n8, p[1]);\n    }\n\n    toRprLEM(buff, o, p) {\n        p = this.affine(p);\n        if (this.isZero(p)) {\n            const BuffV = new Uint8Array(buff, o, this.F.n8*2);\n            BuffV.fill(0);\n            return;\n        }\n        this.F.toRprLEM(buff, o, p[0]);\n        this.F.toRprLEM(buff, o+this.F.n8, p[1]);\n    }\n\n    toRprLEJM(buff, o, p) {\n        p = this.affine(p);\n        if (this.isZero(p)) {\n            const BuffV = new Uint8Array(buff, o, this.F.n8*2);\n            BuffV.fill(0);\n            return;\n        }\n        this.F.toRprLEM(buff, o, p[0]);\n        this.F.toRprLEM(buff, o+this.F.n8, p[1]);\n        this.F.toRprLEM(buff, o+2*this.F.n8, p[2]);\n    }\n\n\n    toRprBEM(buff, o, p) {\n        p = this.affine(p);\n        if (this.isZero(p)) {\n            const BuffV = new Uint8Array(buff, o, this.F.n8*2);\n            BuffV.fill(0);\n            return;\n        }\n        this.F.toRprBEM(buff, o, p[0]);\n        this.F.toRprBEM(buff, o+this.F.n8, p[1]);\n    }\n\n    fromRprLE(buff, o) {\n        o = o || 0;\n        const x = this.F.fromRprLE(buff, o);\n        const y = this.F.fromRprLE(buff, o+this.F.n8);\n        if (this.F.isZero(x) && this.F.isZero(y)) {\n            return this.zero;\n        }\n        return [x, y, this.F.one];\n    }\n\n    fromRprBE(buff, o) {\n        o = o || 0;\n        const x = this.F.fromRprBE(buff, o);\n        const y = this.F.fromRprBE(buff, o+this.F.n8);\n        if (this.F.isZero(x) && this.F.isZero(y)) {\n            return this.zero;\n        }\n        return [x, y, this.F.one];\n    }\n\n    fromRprLEM(buff, o) {\n        o = o || 0;\n        const x = this.F.fromRprLEM(buff, o);\n        const y = this.F.fromRprLEM(buff, o+this.F.n8);\n        if (this.F.isZero(x) && this.F.isZero(y)) {\n            return this.zero;\n        }\n        return [x, y, this.F.one];\n    }\n\n    fromRprLEJM(buff, o) {\n        o = o || 0;\n        const x = this.F.fromRprLEM(buff, o);\n        const y = this.F.fromRprLEM(buff, o+this.F.n8);\n        const z = this.F.fromRprLEM(buff, o+this.F.n8*2);\n        if (this.F.isZero(x) && this.F.isZero(y)) {\n            return this.zero;\n        }\n        return [x, y, z];\n    }\n\n    fromRprBEM(buff, o) {\n        o = o || 0;\n        const x = this.F.fromRprBEM(buff, o);\n        const y = this.F.fromRprBEM(buff, o+this.F.n8);\n        if (this.F.isZero(x) && this.F.isZero(y)) {\n            return this.zero;\n        }\n        return [x, y, this.F.one];\n    }\n\n    fromRprCompressed(buff, o) {\n        const F = this.F;\n        const v = new Uint8Array(buff.buffer, o, F.n8);\n        if (v[0] & 0x40) return this.zero;\n        const P = new Array(3);\n\n        const greatest = ((v[0] & 0x80) != 0);\n        v[0] = v[0] & 0x7F;\n        P[0] = F.fromRprBE(buff, o);\n        if (greatest) v[0] = v[0] | 0x80;  // set back again the old value\n\n        const x3b = F.add(F.mul(F.square(P[0]), P[0]), this.b);\n        P[1] = F.sqrt(x3b);\n\n        if (P[1] === null) {\n            throw new Error(\"Invalid Point!\");\n        }\n\n        const s = isGreatest(F, P[1]);\n        if (greatest ^ s) P[1] = F.neg(P[1]);\n        P[2] = F.one;\n\n        return P;\n    }\n\n    toRprCompressed(buff, o, p) {\n        p = this.affine(p);\n        const v = new Uint8Array(buff.buffer, o, this.F.n8);\n        if (this.isZero(p)) {\n            v.fill(0);\n            v[0] = 0x40;\n            return;\n        }\n        this.F.toRprBE(buff, o, p[0]);\n\n        if (isGreatest(this.F, p[1])) {\n            v[0] = v[0] | 0x80;\n        }\n    }\n\n\n    fromRprUncompressed(buff, o) {\n        if (buff[0] & 0x40) return this.zero;\n\n        return this.fromRprBE(buff, o);\n    }\n\n    toRprUncompressed(buff, o, p) {\n        this.toRprBE(buff, o, p);\n\n        if (this.isZero(p)) {\n            buff[o] = buff[o] | 0x40;\n        }\n    }\n\n\n}\n\n\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 8580, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/nisch/Desktop/Velocity-1/node_modules/r1csfile/node_modules/ffjavascript/src/utils.js"],"sourcesContent":["/* global BigInt */\nimport * as Scalar from \"./scalar.js\";\n\nexport function stringifyBigInts(o) {\n    if (typeof o == \"bigint\" || o.eq !== undefined) {\n        return o.toString(10);\n    } else if (o instanceof Uint8Array) {\n        return Scalar.fromRprLE(o, 0);\n    } else if (Array.isArray(o)) {\n        return o.map(stringifyBigInts);\n    } else if (typeof o == \"object\") {\n        const res = {};\n        const keys = Object.keys(o);\n        keys.forEach((k) => {\n            res[k] = stringifyBigInts(o[k]);\n        });\n        return res;\n    } else {\n        return o;\n    }\n}\n\nexport function unstringifyBigInts(o) {\n    if (typeof o == \"string\" && /^[0-9]+$/.test(o)) {\n        return BigInt(o);\n    } else if (typeof o == \"string\" && /^0x[0-9a-fA-F]+$/.test(o)) {\n        return BigInt(o);\n    } else if (Array.isArray(o)) {\n        return o.map(unstringifyBigInts);\n    } else if (typeof o == \"object\") {\n        if (o === null) return null;\n        const res = {};\n        const keys = Object.keys(o);\n        keys.forEach((k) => {\n            res[k] = unstringifyBigInts(o[k]);\n        });\n        return res;\n    } else {\n        return o;\n    }\n}\n\nexport function beBuff2int(buff) {\n    let res = BigInt(0);\n    let i = buff.length;\n    let offset = 0;\n    const buffV = new DataView(buff.buffer, buff.byteOffset, buff.byteLength);\n    while (i > 0) {\n        if (i >= 4) {\n            i -= 4;\n            res += BigInt(buffV.getUint32(i)) << BigInt(offset * 8);\n            offset += 4;\n        } else if (i >= 2) {\n            i -= 2;\n            res += BigInt(buffV.getUint16(i)) << BigInt(offset * 8);\n            offset += 2;\n        } else {\n            i -= 1;\n            res += BigInt(buffV.getUint8(i)) << BigInt(offset * 8);\n            offset += 1;\n        }\n    }\n    return res;\n}\n\nexport function beInt2Buff(n, len) {\n    let r = n;\n    const buff = new Uint8Array(len);\n    const buffV = new DataView(buff.buffer);\n    let o = len;\n    while (o > 0) {\n        if (o - 4 >= 0) {\n            o -= 4;\n            buffV.setUint32(o, Number(r & BigInt(0xffffffff)));\n            r = r >> BigInt(32);\n        } else if (o - 2 >= 0) {\n            o -= 2;\n            buffV.setUint16(o, Number(r & BigInt(0xffff)));\n            r = r >> BigInt(16);\n        } else {\n            o -= 1;\n            buffV.setUint8(o, Number(r & BigInt(0xff)));\n            r = r >> BigInt(8);\n        }\n    }\n    if (r) {\n        throw new Error(\"Number does not fit in this length\");\n    }\n    return buff;\n}\n\nexport function leBuff2int(buff) {\n    let res = BigInt(0);\n    let i = 0;\n    const buffV = new DataView(buff.buffer, buff.byteOffset, buff.byteLength);\n    while (i < buff.length) {\n        if (i + 4 <= buff.length) {\n            res += BigInt(buffV.getUint32(i, true)) << BigInt(i * 8);\n            i += 4;\n        } else if (i + 2 <= buff.length) {\n            res += BigInt(buffV.getUint16(i, true)) << BigInt(i * 8);\n            i += 2;\n        } else {\n            res += BigInt(buffV.getUint8(i, true)) << BigInt(i * 8);\n            i += 1;\n        }\n    }\n    return res;\n}\n\nexport function leInt2Buff(n, len) {\n    let r = n;\n    if (typeof len === \"undefined\") {\n        len = Math.floor((Scalar.bitLength(n) - 1) / 8) + 1;\n        if (len == 0) len = 1;\n    }\n    const buff = new Uint8Array(len);\n    const buffV = new DataView(buff.buffer);\n    let o = 0;\n    while (o < len) {\n        if (o + 4 <= len) {\n            buffV.setUint32(o, Number(r & BigInt(0xffffffff)), true);\n            o += 4;\n            r = r >> BigInt(32);\n        } else if (o + 2 <= len) {\n            buffV.setUint16(o, Number(r & BigInt(0xffff)), true);\n            o += 2;\n            r = r >> BigInt(16);\n        } else {\n            buffV.setUint8(o, Number(r & BigInt(0xff)), true);\n            o += 1;\n            r = r >> BigInt(8);\n        }\n    }\n    if (r) {\n        throw new Error(\"Number does not fit in this length\");\n    }\n    return buff;\n}\n\nexport function stringifyFElements(F, o) {\n    if (typeof o == \"bigint\" || o.eq !== undefined) {\n        return o.toString(10);\n    } else if (o instanceof Uint8Array) {\n        return F.toString(F.e(o));\n    } else if (Array.isArray(o)) {\n        return o.map(stringifyFElements.bind(this, F));\n    } else if (typeof o == \"object\") {\n        const res = {};\n        const keys = Object.keys(o);\n        keys.forEach((k) => {\n            res[k] = stringifyFElements(F, o[k]);\n        });\n        return res;\n    } else {\n        return o;\n    }\n}\n\nexport function unstringifyFElements(F, o) {\n    if (typeof o == \"string\" && /^[0-9]+$/.test(o)) {\n        return F.e(o);\n    } else if (typeof o == \"string\" && /^0x[0-9a-fA-F]+$/.test(o)) {\n        return F.e(o);\n    } else if (Array.isArray(o)) {\n        return o.map(unstringifyFElements.bind(this, F));\n    } else if (typeof o == \"object\") {\n        if (o === null) return null;\n        const res = {};\n        const keys = Object.keys(o);\n        keys.forEach((k) => {\n            res[k] = unstringifyFElements(F, o[k]);\n        });\n        return res;\n    } else {\n        return o;\n    }\n}\n\nconst _revTable = [];\nfor (let i = 0; i < 256; i++) {\n    _revTable[i] = _revSlow(i, 8);\n}\n\nfunction _revSlow(idx, bits) {\n    let res = 0;\n    let a = idx;\n    for (let i = 0; i < bits; i++) {\n        res <<= 1;\n        res = res | (a & 1);\n        a >>= 1;\n    }\n    return res;\n}\n\nexport function bitReverse(idx, bits) {\n    return (\n        (_revTable[idx >>> 24] |\n        (_revTable[(idx >>> 16) & 0xff] << 8) |\n        (_revTable[(idx >>> 8) & 0xff] << 16) |\n        (_revTable[idx & 0xff] << 24)) >>>\n        (32 - bits)\n    );\n}\n\nexport function log2(V) {\n    return (\n        ((V & 0xffff0000) !== 0 ? ((V &= 0xffff0000), 16) : 0) |\n        ((V & 0xff00ff00) !== 0 ? ((V &= 0xff00ff00), 8) : 0) |\n        ((V & 0xf0f0f0f0) !== 0 ? ((V &= 0xf0f0f0f0), 4) : 0) |\n        ((V & 0xcccccccc) !== 0 ? ((V &= 0xcccccccc), 2) : 0) |\n        ((V & 0xaaaaaaaa) !== 0)\n    );\n}\n\nexport function buffReverseBits(buff, eSize) {\n    const n = buff.byteLength / eSize;\n    const bits = log2(n);\n    if (n != 1 << bits) {\n        throw new Error(\"Invalid number of pointers\");\n    }\n    for (let i = 0; i < n; i++) {\n        const r = bitReverse(i, bits);\n        if (i > r) {\n            const tmp = buff.slice(i * eSize, (i + 1) * eSize);\n            buff.set(buff.slice(r * eSize, (r + 1) * eSize), i * eSize);\n            buff.set(tmp, r * eSize);\n        }\n    }\n}\n\nexport function array2buffer(arr, sG) {\n    const buff = new Uint8Array(sG * arr.length);\n\n    for (let i = 0; i < arr.length; i++) {\n        buff.set(arr[i], i * sG);\n    }\n\n    return buff;\n}\n\nexport function buffer2array(buff, sG) {\n    const n = buff.byteLength / sG;\n    const arr = new Array(n);\n    for (let i = 0; i < n; i++) {\n        arr[i] = buff.slice(i * sG, i * sG + sG);\n    }\n    return arr;\n}\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 8832, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/nisch/Desktop/Velocity-1/node_modules/r1csfile/node_modules/ffjavascript/src/bigbuffer.js"],"sourcesContent":["\nconst PAGE_SIZE = 1<<30;\n\nexport default class BigBuffer {\n\n    constructor(size) {\n        this.buffers = [];\n        this.byteLength = size;\n        for (let i=0; i<size; i+= PAGE_SIZE) {\n            const n = Math.min(size-i, PAGE_SIZE);\n            this.buffers.push(new Uint8Array(n));\n        }\n\n    }\n\n    slice(fr, to) {\n        if ( to === undefined ) to = this.byteLength;\n        if ( fr === undefined ) fr = 0;\n        const len = to-fr;\n\n        const firstPage = Math.floor(fr / PAGE_SIZE);\n        const lastPage = Math.floor((fr+len-1) / PAGE_SIZE);\n\n        if ((firstPage == lastPage)||(len==0))\n            return this.buffers[firstPage].slice(fr%PAGE_SIZE, fr%PAGE_SIZE + len);\n\n        let buff;\n\n        let p = firstPage;\n        let o = fr % PAGE_SIZE;\n        // Remaining bytes to read\n        let r = len;\n        while (r>0) {\n            // bytes to copy from this page\n            const l = (o+r > PAGE_SIZE) ? (PAGE_SIZE -o) : r;\n            const srcView = new Uint8Array(this.buffers[p].buffer, this.buffers[p].byteOffset+o, l);\n            if (l == len) return srcView.slice();\n            if (!buff) {\n                if (len <= PAGE_SIZE) {\n                    buff = new Uint8Array(len);\n                } else {\n                    buff = new BigBuffer(len);\n                }\n            }\n            buff.set(srcView, len-r);\n            r = r-l;\n            p ++;\n            o = 0;\n        }\n\n        return buff;\n    }\n\n    set(buff, offset) {\n        if (offset === undefined) offset = 0;\n\n        const len = buff.byteLength;\n\n        if (len==0) return;\n\n        const firstPage = Math.floor(offset / PAGE_SIZE);\n        const lastPage = Math.floor((offset+len-1) / PAGE_SIZE);\n\n        if (firstPage == lastPage) {\n            if ((buff instanceof BigBuffer)&&(buff.buffers.length==1)) {\n                return this.buffers[firstPage].set(buff.buffers[0], offset % PAGE_SIZE);\n            } else {\n                return this.buffers[firstPage].set(buff, offset % PAGE_SIZE);\n            }\n\n        }\n\n\n        let p = firstPage;\n        let o = offset % PAGE_SIZE;\n        let r = len;\n        while (r>0) {\n            const l = (o+r > PAGE_SIZE) ? (PAGE_SIZE -o) : r;\n            const srcView = buff.slice( len -r, len -r+l);\n            const dstView = new Uint8Array(this.buffers[p].buffer, this.buffers[p].byteOffset + o, l);\n            dstView.set(srcView);\n            r = r-l;\n            p ++;\n            o = 0;\n        }\n\n    }\n}\n"],"names":[],"mappings":";;;;AACA,MAAM,YAAY,KAAG;AAEN,MAAM;IAEjB,YAAY,IAAI,CAAE;QACd,IAAI,CAAC,OAAO,GAAG,EAAE;QACjB,IAAI,CAAC,UAAU,GAAG;QAClB,IAAK,IAAI,IAAE,GAAG,IAAE,MAAM,KAAI,UAAW;YACjC,MAAM,IAAI,KAAK,GAAG,CAAC,OAAK,GAAG;YAC3B,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,WAAW;QACrC;IAEJ;IAEA,MAAM,EAAE,EAAE,EAAE,EAAE;QACV,IAAK,OAAO,WAAY,KAAK,IAAI,CAAC,UAAU;QAC5C,IAAK,OAAO,WAAY,KAAK;QAC7B,MAAM,MAAM,KAAG;QAEf,MAAM,YAAY,KAAK,KAAK,CAAC,KAAK;QAClC,MAAM,WAAW,KAAK,KAAK,CAAC,CAAC,KAAG,MAAI,CAAC,IAAI;QAEzC,IAAI,AAAC,aAAa,YAAY,OAAK,GAC/B,OAAO,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,KAAK,CAAC,KAAG,WAAW,KAAG,YAAY;QAEtE,IAAI;QAEJ,IAAI,IAAI;QACR,IAAI,IAAI,KAAK;QACb,0BAA0B;QAC1B,IAAI,IAAI;QACR,MAAO,IAAE,EAAG;YACR,+BAA+B;YAC/B,MAAM,IAAI,AAAC,IAAE,IAAI,YAAc,YAAW,IAAK;YAC/C,MAAM,UAAU,IAAI,WAAW,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,MAAM,EAAE,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,UAAU,GAAC,GAAG;YACrF,IAAI,KAAK,KAAK,OAAO,QAAQ,KAAK;YAClC,IAAI,CAAC,MAAM;gBACP,IAAI,OAAO,WAAW;oBAClB,OAAO,IAAI,WAAW;gBAC1B,OAAO;oBACH,OAAO,IAAI,UAAU;gBACzB;YACJ;YACA,KAAK,GAAG,CAAC,SAAS,MAAI;YACtB,IAAI,IAAE;YACN;YACA,IAAI;QACR;QAEA,OAAO;IACX;IAEA,IAAI,IAAI,EAAE,MAAM,EAAE;QACd,IAAI,WAAW,WAAW,SAAS;QAEnC,MAAM,MAAM,KAAK,UAAU;QAE3B,IAAI,OAAK,GAAG;QAEZ,MAAM,YAAY,KAAK,KAAK,CAAC,SAAS;QACtC,MAAM,WAAW,KAAK,KAAK,CAAC,CAAC,SAAO,MAAI,CAAC,IAAI;QAE7C,IAAI,aAAa,UAAU;YACvB,IAAI,AAAC,gBAAgB,aAAa,KAAK,OAAO,CAAC,MAAM,IAAE,GAAI;gBACvD,OAAO,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,GAAG,CAAC,KAAK,OAAO,CAAC,EAAE,EAAE,SAAS;YACjE,OAAO;gBACH,OAAO,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,GAAG,CAAC,MAAM,SAAS;YACtD;QAEJ;QAGA,IAAI,IAAI;QACR,IAAI,IAAI,SAAS;QACjB,IAAI,IAAI;QACR,MAAO,IAAE,EAAG;YACR,MAAM,IAAI,AAAC,IAAE,IAAI,YAAc,YAAW,IAAK;YAC/C,MAAM,UAAU,KAAK,KAAK,CAAE,MAAK,GAAG,MAAK,IAAE;YAC3C,MAAM,UAAU,IAAI,WAAW,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,MAAM,EAAE,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,UAAU,GAAG,GAAG;YACvF,QAAQ,GAAG,CAAC;YACZ,IAAI,IAAE;YACN;YACA,IAAI;QACR;IAEJ;AACJ","ignoreList":[0]}},
    {"offset": {"line": 8908, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/nisch/Desktop/Velocity-1/node_modules/r1csfile/node_modules/ffjavascript/src/engine_batchconvert.js"],"sourcesContent":["import BigBuffer from \"./bigbuffer.js\";\n\nexport default function buildBatchConvert(tm, fnName, sIn, sOut) {\n    return async function batchConvert(buffIn) {\n        const nPoints = Math.floor(buffIn.byteLength / sIn);\n        if ( nPoints * sIn !== buffIn.byteLength) {\n            throw new Error(\"Invalid buffer size\");\n        }\n        const pointsPerChunk = Math.floor(nPoints/tm.concurrency);\n        const opPromises = [];\n        for (let i=0; i<tm.concurrency; i++) {\n            let n;\n            if (i< tm.concurrency-1) {\n                n = pointsPerChunk;\n            } else {\n                n = nPoints - i*pointsPerChunk;\n            }\n            if (n==0) continue;\n\n            const buffChunk = buffIn.slice(i*pointsPerChunk*sIn, i*pointsPerChunk*sIn + n*sIn);\n            const task = [\n                {cmd: \"ALLOCSET\", var: 0, buff:buffChunk},\n                {cmd: \"ALLOC\", var: 1, len:sOut * n},\n                {cmd: \"CALL\", fnName: fnName, params: [\n                    {var: 0},\n                    {val: n},\n                    {var: 1}\n                ]},\n                {cmd: \"GET\", out: 0, var: 1, len:sOut * n},\n            ];\n            opPromises.push(\n                tm.queueAction(task)\n            );\n        }\n\n        const result = await Promise.all(opPromises);\n\n        let fullBuffOut;\n        if (buffIn instanceof BigBuffer) {\n            fullBuffOut = new BigBuffer(nPoints*sOut);\n        } else {\n            fullBuffOut = new Uint8Array(nPoints*sOut);\n        }\n\n        let p =0;\n        for (let i=0; i<result.length; i++) {\n            fullBuffOut.set(result[i][0], p);\n            p+=result[i][0].byteLength;\n        }\n\n        return fullBuffOut;\n    };\n}\n"],"names":[],"mappings":";;;;AAAA;;AAEe,SAAS,kBAAkB,EAAE,EAAE,MAAM,EAAE,GAAG,EAAE,IAAI;IAC3D,OAAO,eAAe,aAAa,MAAM;QACrC,MAAM,UAAU,KAAK,KAAK,CAAC,OAAO,UAAU,GAAG;QAC/C,IAAK,UAAU,QAAQ,OAAO,UAAU,EAAE;YACtC,MAAM,IAAI,MAAM;QACpB;QACA,MAAM,iBAAiB,KAAK,KAAK,CAAC,UAAQ,GAAG,WAAW;QACxD,MAAM,aAAa,EAAE;QACrB,IAAK,IAAI,IAAE,GAAG,IAAE,GAAG,WAAW,EAAE,IAAK;YACjC,IAAI;YACJ,IAAI,IAAG,GAAG,WAAW,GAAC,GAAG;gBACrB,IAAI;YACR,OAAO;gBACH,IAAI,UAAU,IAAE;YACpB;YACA,IAAI,KAAG,GAAG;YAEV,MAAM,YAAY,OAAO,KAAK,CAAC,IAAE,iBAAe,KAAK,IAAE,iBAAe,MAAM,IAAE;YAC9E,MAAM,OAAO;gBACT;oBAAC,KAAK;oBAAY,KAAK;oBAAG,MAAK;gBAAS;gBACxC;oBAAC,KAAK;oBAAS,KAAK;oBAAG,KAAI,OAAO;gBAAC;gBACnC;oBAAC,KAAK;oBAAQ,QAAQ;oBAAQ,QAAQ;wBAClC;4BAAC,KAAK;wBAAC;wBACP;4BAAC,KAAK;wBAAC;wBACP;4BAAC,KAAK;wBAAC;qBACV;gBAAA;gBACD;oBAAC,KAAK;oBAAO,KAAK;oBAAG,KAAK;oBAAG,KAAI,OAAO;gBAAC;aAC5C;YACD,WAAW,IAAI,CACX,GAAG,WAAW,CAAC;QAEvB;QAEA,MAAM,SAAS,MAAM,QAAQ,GAAG,CAAC;QAEjC,IAAI;QACJ,IAAI,kBAAkB,yLAAS,EAAE;YAC7B,cAAc,IAAI,yLAAS,CAAC,UAAQ;QACxC,OAAO;YACH,cAAc,IAAI,WAAW,UAAQ;QACzC;QAEA,IAAI,IAAG;QACP,IAAK,IAAI,IAAE,GAAG,IAAE,OAAO,MAAM,EAAE,IAAK;YAChC,YAAY,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC,EAAE,EAAE;YAC9B,KAAG,MAAM,CAAC,EAAE,CAAC,EAAE,CAAC,UAAU;QAC9B;QAEA,OAAO;IACX;AACJ","ignoreList":[0]}},
    {"offset": {"line": 8985, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/nisch/Desktop/Velocity-1/node_modules/r1csfile/node_modules/ffjavascript/src/wasm_field1.js"],"sourcesContent":["import * as Scalar from \"./scalar.js\";\nimport * as utils from \"./utils.js\";\nimport { getThreadRng } from \"./random.js\";\nimport buildBatchConvert from \"./engine_batchconvert.js\";\nimport BigBuffer from \"./bigbuffer.js\";\n\n\nexport default class WasmField1 {\n\n    constructor(tm, prefix, n8, p) {\n        this.tm = tm;\n        this.prefix = prefix;\n\n        this.p = p;\n        this.n8 = n8;\n        this.type = \"F1\";\n        this.m = 1;\n\n        this.half = Scalar.shiftRight(p, Scalar.one);\n        this.bitLength = Scalar.bitLength(p);\n        this.mask = Scalar.sub(Scalar.shiftLeft(Scalar.one, this.bitLength), Scalar.one);\n\n        this.pOp1 = tm.alloc(n8);\n        this.pOp2 = tm.alloc(n8);\n        this.pOp3 = tm.alloc(n8);\n        this.tm.instance.exports[prefix + \"_zero\"](this.pOp1);\n        this.zero = this.tm.getBuff(this.pOp1, this.n8);\n        this.tm.instance.exports[prefix + \"_one\"](this.pOp1);\n        this.one = this.tm.getBuff(this.pOp1, this.n8);\n\n        this.negone = this.neg(this.one);\n        this.two = this.add(this.one, this.one);\n\n        this.n64 = Math.floor(n8/8);\n        this.n32 = Math.floor(n8/4);\n\n        if(this.n64*8 != this.n8) {\n            throw new Error(\"n8 must be a multiple of 8\");\n        }\n\n        this.half = Scalar.shiftRight(this.p, Scalar.one);\n        this.nqr = this.two;\n        let r = this.exp(this.nqr, this.half);\n        while (!this.eq(r, this.negone)) {\n            this.nqr = this.add(this.nqr, this.one);\n            r = this.exp(this.nqr, this.half);\n        }\n\n        this.shift = this.mul(this.nqr, this.nqr);\n        this.shiftInv = this.inv(this.shift);\n\n        this.s = 0;\n        let t = Scalar.sub(this.p, Scalar.one);\n\n        while ( !Scalar.isOdd(t) ) {\n            this.s = this.s + 1;\n            t = Scalar.shiftRight(t, Scalar.one);\n        }\n\n        this.w = [];\n        this.w[this.s] = this.exp(this.nqr, t);\n\n        for (let i= this.s-1; i>=0; i--) {\n            this.w[i] = this.square(this.w[i+1]);\n        }\n\n        if (!this.eq(this.w[0], this.one)) {\n            throw new Error(\"Error calculating roots of unity\");\n        }\n\n        this.batchToMontgomery = buildBatchConvert(tm, prefix + \"_batchToMontgomery\", this.n8, this.n8);\n        this.batchFromMontgomery = buildBatchConvert(tm, prefix + \"_batchFromMontgomery\", this.n8, this.n8);\n    }\n\n\n    op2(opName, a, b) {\n        this.tm.setBuff(this.pOp1, a);\n        this.tm.setBuff(this.pOp2, b);\n        this.tm.instance.exports[this.prefix + opName](this.pOp1, this.pOp2, this.pOp3);\n        return this.tm.getBuff(this.pOp3, this.n8);\n    }\n\n    op2Bool(opName, a, b) {\n        this.tm.setBuff(this.pOp1, a);\n        this.tm.setBuff(this.pOp2, b);\n        return !!this.tm.instance.exports[this.prefix + opName](this.pOp1, this.pOp2);\n    }\n\n    op1(opName, a) {\n        this.tm.setBuff(this.pOp1, a);\n        this.tm.instance.exports[this.prefix + opName](this.pOp1, this.pOp3);\n        return this.tm.getBuff(this.pOp3, this.n8);\n    }\n\n    op1Bool(opName, a) {\n        this.tm.setBuff(this.pOp1, a);\n        return !!this.tm.instance.exports[this.prefix + opName](this.pOp1, this.pOp3);\n    }\n\n    add(a,b) {\n        return this.op2(\"_add\", a, b);\n    }\n\n\n    eq(a,b) {\n        return this.op2Bool(\"_eq\", a, b);\n    }\n\n    isZero(a) {\n        return this.op1Bool(\"_isZero\", a);\n    }\n\n    sub(a,b) {\n        return this.op2(\"_sub\", a, b);\n    }\n\n    neg(a) {\n        return this.op1(\"_neg\", a);\n    }\n\n    inv(a) {\n        return this.op1(\"_inverse\", a);\n    }\n\n    toMontgomery(a) {\n        return this.op1(\"_toMontgomery\", a);\n    }\n\n    fromMontgomery(a) {\n        return this.op1(\"_fromMontgomery\", a);\n    }\n\n    mul(a,b) {\n        return this.op2(\"_mul\", a, b);\n    }\n\n    div(a, b) {\n        this.tm.setBuff(this.pOp1, a);\n        this.tm.setBuff(this.pOp2, b);\n        this.tm.instance.exports[this.prefix + \"_inverse\"](this.pOp2, this.pOp2);\n        this.tm.instance.exports[this.prefix + \"_mul\"](this.pOp1, this.pOp2, this.pOp3);\n        return this.tm.getBuff(this.pOp3, this.n8);\n    }\n\n    square(a) {\n        return this.op1(\"_square\", a);\n    }\n\n    isSquare(a) {\n        return this.op1Bool(\"_isSquare\", a);\n    }\n\n    sqrt(a) {\n        return this.op1(\"_sqrt\", a);\n    }\n\n    exp(a, b) {\n        if (!(b instanceof Uint8Array)) {\n            b = Scalar.toLEBuff(Scalar.e(b));\n        }\n        this.tm.setBuff(this.pOp1, a);\n        this.tm.setBuff(this.pOp2, b);\n        this.tm.instance.exports[this.prefix + \"_exp\"](this.pOp1, this.pOp2, b.byteLength, this.pOp3);\n        return this.tm.getBuff(this.pOp3, this.n8);\n    }\n\n    isNegative(a) {\n        return this.op1Bool(\"_isNegative\", a);\n    }\n\n    e(a, b) {\n        if (a instanceof Uint8Array) return a;\n        let ra = Scalar.e(a, b);\n        if (Scalar.isNegative(ra)) {\n            ra = Scalar.neg(ra);\n            if (Scalar.gt(ra, this.p)) {\n                ra = Scalar.mod(ra, this.p);\n            }\n            ra = Scalar.sub(this.p, ra);\n        } else {\n            if (Scalar.gt(ra, this.p)) {\n                ra = Scalar.mod(ra, this.p);\n            }\n        }\n        const buff = utils.leInt2Buff(ra, this.n8);\n        return this.toMontgomery(buff);\n    }\n\n    toString(a, radix) {\n        const an = this.fromMontgomery(a);\n        const s = Scalar.fromRprLE(an, 0);\n        return Scalar.toString(s, radix);\n    }\n\n    fromRng(rng) {\n        let v;\n        const buff = new Uint8Array(this.n8);\n        do {\n            v = Scalar.zero;\n            for (let i=0; i<this.n64; i++) {\n                v = Scalar.add(v,  Scalar.shiftLeft(rng.nextU64(), 64*i));\n            }\n            v = Scalar.band(v, this.mask);\n        } while (Scalar.geq(v, this.p));\n        Scalar.toRprLE(buff, 0, v, this.n8);\n        return buff;\n    }\n\n    random() {\n        return this.fromRng(getThreadRng());\n    }\n\n    toObject(a) {\n        const an = this.fromMontgomery(a);\n        return Scalar.fromRprLE(an, 0);\n    }\n\n    fromObject(a) {\n        const buff = new Uint8Array(this.n8);\n        Scalar.toRprLE(buff, 0, a, this.n8);\n        return this.toMontgomery(buff);\n    }\n\n    toRprLE(buff, offset, a) {\n        buff.set(this.fromMontgomery(a), offset);\n    }\n\n    toRprBE(buff, offset, a) {\n        const buff2 = this.fromMontgomery(a);\n        for (let i=0; i<this.n8/2; i++) {\n            const aux = buff2[i];\n            buff2[i] = buff2[this.n8-1-i];\n            buff2[this.n8-1-i] = aux;\n        }\n        buff.set(buff2, offset);\n    }\n\n    fromRprLE(buff, offset) {\n        offset = offset || 0;\n        const res = buff.slice(offset, offset + this.n8);\n        return this.toMontgomery(res);\n    }\n\n    async batchInverse(buffIn) {\n        let returnArray = false;\n        const sIn = this.n8;\n        const sOut = this.n8;\n\n        if (Array.isArray(buffIn)) {\n            buffIn = utils.array2buffer(buffIn, sIn );\n            returnArray = true;\n        } else {\n            buffIn = buffIn.slice(0, buffIn.byteLength);\n        }\n\n        const nPoints = Math.floor(buffIn.byteLength / sIn);\n        if ( nPoints * sIn !== buffIn.byteLength) {\n            throw new Error(\"Invalid buffer size\");\n        }\n        const pointsPerChunk = Math.floor(nPoints/this.tm.concurrency);\n        const opPromises = [];\n        for (let i=0; i<this.tm.concurrency; i++) {\n            let n;\n            if (i< this.tm.concurrency-1) {\n                n = pointsPerChunk;\n            } else {\n                n = nPoints - i*pointsPerChunk;\n            }\n            if (n==0) continue;\n\n            const buffChunk = buffIn.slice(i*pointsPerChunk*sIn, i*pointsPerChunk*sIn + n*sIn);\n            const task = [\n                {cmd: \"ALLOCSET\", var: 0, buff:buffChunk},\n                {cmd: \"ALLOC\", var: 1, len:sOut * n},\n                {cmd: \"CALL\", fnName: this.prefix + \"_batchInverse\", params: [\n                    {var: 0},\n                    {val: sIn},\n                    {val: n},\n                    {var: 1},\n                    {val: sOut},\n                ]},\n                {cmd: \"GET\", out: 0, var: 1, len:sOut * n},\n            ];\n            opPromises.push(\n                this.tm.queueAction(task)\n            );\n        }\n\n        const result = await Promise.all(opPromises);\n\n        let fullBuffOut;\n        if (buffIn instanceof BigBuffer) {\n            fullBuffOut = new BigBuffer(nPoints*sOut);\n        } else {\n            fullBuffOut = new Uint8Array(nPoints*sOut);\n        }\n\n        let p =0;\n        for (let i=0; i<result.length; i++) {\n            fullBuffOut.set(result[i][0], p);\n            p+=result[i][0].byteLength;\n        }\n\n        if (returnArray) {\n            return utils.buffer2array(fullBuffOut, sOut);\n        } else {\n            return fullBuffOut;\n        }\n\n    }\n\n}\n\n\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;AACA;;;;;;AAGe,MAAM;IAEjB,YAAY,EAAE,EAAE,MAAM,EAAE,EAAE,EAAE,CAAC,CAAE;QAC3B,IAAI,CAAC,EAAE,GAAG;QACV,IAAI,CAAC,MAAM,GAAG;QAEd,IAAI,CAAC,CAAC,GAAG;QACT,IAAI,CAAC,EAAE,GAAG;QACV,IAAI,CAAC,IAAI,GAAG;QACZ,IAAI,CAAC,CAAC,GAAG;QAET,IAAI,CAAC,IAAI,GAAG,yLAAiB,CAAC,GAAG,kLAAU;QAC3C,IAAI,CAAC,SAAS,GAAG,wLAAgB,CAAC;QAClC,IAAI,CAAC,IAAI,GAAG,kLAAU,CAAC,wLAAgB,CAAC,kLAAU,EAAE,IAAI,CAAC,SAAS,GAAG,kLAAU;QAE/E,IAAI,CAAC,IAAI,GAAG,GAAG,KAAK,CAAC;QACrB,IAAI,CAAC,IAAI,GAAG,GAAG,KAAK,CAAC;QACrB,IAAI,CAAC,IAAI,GAAG,GAAG,KAAK,CAAC;QACrB,IAAI,CAAC,EAAE,CAAC,QAAQ,CAAC,OAAO,CAAC,SAAS,QAAQ,CAAC,IAAI,CAAC,IAAI;QACpD,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,EAAE;QAC9C,IAAI,CAAC,EAAE,CAAC,QAAQ,CAAC,OAAO,CAAC,SAAS,OAAO,CAAC,IAAI,CAAC,IAAI;QACnD,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,EAAE;QAE7C,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG;QAC/B,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,GAAG;QAEtC,IAAI,CAAC,GAAG,GAAG,KAAK,KAAK,CAAC,KAAG;QACzB,IAAI,CAAC,GAAG,GAAG,KAAK,KAAK,CAAC,KAAG;QAEzB,IAAG,IAAI,CAAC,GAAG,GAAC,KAAK,IAAI,CAAC,EAAE,EAAE;YACtB,MAAM,IAAI,MAAM;QACpB;QAEA,IAAI,CAAC,IAAI,GAAG,yLAAiB,CAAC,IAAI,CAAC,CAAC,EAAE,kLAAU;QAChD,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG;QACnB,IAAI,IAAI,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,IAAI;QACpC,MAAO,CAAC,IAAI,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,EAAG;YAC7B,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,GAAG;YACtC,IAAI,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,IAAI;QACpC;QAEA,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,GAAG;QACxC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK;QAEnC,IAAI,CAAC,CAAC,GAAG;QACT,IAAI,IAAI,kLAAU,CAAC,IAAI,CAAC,CAAC,EAAE,kLAAU;QAErC,MAAQ,CAAC,oLAAY,CAAC,GAAK;YACvB,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,GAAG;YAClB,IAAI,yLAAiB,CAAC,GAAG,kLAAU;QACvC;QAEA,IAAI,CAAC,CAAC,GAAG,EAAE;QACX,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,EAAE;QAEpC,IAAK,IAAI,IAAG,IAAI,CAAC,CAAC,GAAC,GAAG,KAAG,GAAG,IAAK;YAC7B,IAAI,CAAC,CAAC,CAAC,EAAE,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,IAAE,EAAE;QACvC;QAEA,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,EAAE,IAAI,CAAC,GAAG,GAAG;YAC/B,MAAM,IAAI,MAAM;QACpB;QAEA,IAAI,CAAC,iBAAiB,GAAG,IAAA,mMAAiB,EAAC,IAAI,SAAS,sBAAsB,IAAI,CAAC,EAAE,EAAE,IAAI,CAAC,EAAE;QAC9F,IAAI,CAAC,mBAAmB,GAAG,IAAA,mMAAiB,EAAC,IAAI,SAAS,wBAAwB,IAAI,CAAC,EAAE,EAAE,IAAI,CAAC,EAAE;IACtG;IAGA,IAAI,MAAM,EAAE,CAAC,EAAE,CAAC,EAAE;QACd,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE;QAC3B,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE;QAC3B,IAAI,CAAC,EAAE,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,GAAG,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,IAAI;QAC9E,OAAO,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,EAAE;IAC7C;IAEA,QAAQ,MAAM,EAAE,CAAC,EAAE,CAAC,EAAE;QAClB,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE;QAC3B,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE;QAC3B,OAAO,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,GAAG,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,IAAI;IAChF;IAEA,IAAI,MAAM,EAAE,CAAC,EAAE;QACX,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE;QAC3B,IAAI,CAAC,EAAE,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,GAAG,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,IAAI;QACnE,OAAO,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,EAAE;IAC7C;IAEA,QAAQ,MAAM,EAAE,CAAC,EAAE;QACf,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE;QAC3B,OAAO,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,GAAG,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,IAAI;IAChF;IAEA,IAAI,CAAC,EAAC,CAAC,EAAE;QACL,OAAO,IAAI,CAAC,GAAG,CAAC,QAAQ,GAAG;IAC/B;IAGA,GAAG,CAAC,EAAC,CAAC,EAAE;QACJ,OAAO,IAAI,CAAC,OAAO,CAAC,OAAO,GAAG;IAClC;IAEA,OAAO,CAAC,EAAE;QACN,OAAO,IAAI,CAAC,OAAO,CAAC,WAAW;IACnC;IAEA,IAAI,CAAC,EAAC,CAAC,EAAE;QACL,OAAO,IAAI,CAAC,GAAG,CAAC,QAAQ,GAAG;IAC/B;IAEA,IAAI,CAAC,EAAE;QACH,OAAO,IAAI,CAAC,GAAG,CAAC,QAAQ;IAC5B;IAEA,IAAI,CAAC,EAAE;QACH,OAAO,IAAI,CAAC,GAAG,CAAC,YAAY;IAChC;IAEA,aAAa,CAAC,EAAE;QACZ,OAAO,IAAI,CAAC,GAAG,CAAC,iBAAiB;IACrC;IAEA,eAAe,CAAC,EAAE;QACd,OAAO,IAAI,CAAC,GAAG,CAAC,mBAAmB;IACvC;IAEA,IAAI,CAAC,EAAC,CAAC,EAAE;QACL,OAAO,IAAI,CAAC,GAAG,CAAC,QAAQ,GAAG;IAC/B;IAEA,IAAI,CAAC,EAAE,CAAC,EAAE;QACN,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE;QAC3B,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE;QAC3B,IAAI,CAAC,EAAE,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,GAAG,WAAW,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,IAAI;QACvE,IAAI,CAAC,EAAE,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,GAAG,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,IAAI;QAC9E,OAAO,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,EAAE;IAC7C;IAEA,OAAO,CAAC,EAAE;QACN,OAAO,IAAI,CAAC,GAAG,CAAC,WAAW;IAC/B;IAEA,SAAS,CAAC,EAAE;QACR,OAAO,IAAI,CAAC,OAAO,CAAC,aAAa;IACrC;IAEA,KAAK,CAAC,EAAE;QACJ,OAAO,IAAI,CAAC,GAAG,CAAC,SAAS;IAC7B;IAEA,IAAI,CAAC,EAAE,CAAC,EAAE;QACN,IAAI,CAAC,CAAC,aAAa,UAAU,GAAG;YAC5B,IAAI,uLAAe,CAAC,gLAAQ,CAAC;QACjC;QACA,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE;QAC3B,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE;QAC3B,IAAI,CAAC,EAAE,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,GAAG,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,IAAI,EAAE,EAAE,UAAU,EAAE,IAAI,CAAC,IAAI;QAC5F,OAAO,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,EAAE;IAC7C;IAEA,WAAW,CAAC,EAAE;QACV,OAAO,IAAI,CAAC,OAAO,CAAC,eAAe;IACvC;IAEA,EAAE,CAAC,EAAE,CAAC,EAAE;QACJ,IAAI,aAAa,YAAY,OAAO;QACpC,IAAI,KAAK,gLAAQ,CAAC,GAAG;QACrB,IAAI,yLAAiB,CAAC,KAAK;YACvB,KAAK,kLAAU,CAAC;YAChB,IAAI,iLAAS,CAAC,IAAI,IAAI,CAAC,CAAC,GAAG;gBACvB,KAAK,kLAAU,CAAC,IAAI,IAAI,CAAC,CAAC;YAC9B;YACA,KAAK,kLAAU,CAAC,IAAI,CAAC,CAAC,EAAE;QAC5B,OAAO;YACH,IAAI,iLAAS,CAAC,IAAI,IAAI,CAAC,CAAC,GAAG;gBACvB,KAAK,kLAAU,CAAC,IAAI,IAAI,CAAC,CAAC;YAC9B;QACJ;QACA,MAAM,OAAO,wLAAgB,CAAC,IAAI,IAAI,CAAC,EAAE;QACzC,OAAO,IAAI,CAAC,YAAY,CAAC;IAC7B;IAEA,SAAS,CAAC,EAAE,KAAK,EAAE;QACf,MAAM,KAAK,IAAI,CAAC,cAAc,CAAC;QAC/B,MAAM,IAAI,wLAAgB,CAAC,IAAI;QAC/B,OAAO,uLAAe,CAAC,GAAG;IAC9B;IAEA,QAAQ,GAAG,EAAE;QACT,IAAI;QACJ,MAAM,OAAO,IAAI,WAAW,IAAI,CAAC,EAAE;QACnC,GAAG;YACC,IAAI,mLAAW;YACf,IAAK,IAAI,IAAE,GAAG,IAAE,IAAI,CAAC,GAAG,EAAE,IAAK;gBAC3B,IAAI,kLAAU,CAAC,GAAI,wLAAgB,CAAC,IAAI,OAAO,IAAI,KAAG;YAC1D;YACA,IAAI,mLAAW,CAAC,GAAG,IAAI,CAAC,IAAI;QAChC,QAAS,kLAAU,CAAC,GAAG,IAAI,CAAC,CAAC,EAAG;QAChC,sLAAc,CAAC,MAAM,GAAG,GAAG,IAAI,CAAC,EAAE;QAClC,OAAO;IACX;IAEA,SAAS;QACL,OAAO,IAAI,CAAC,OAAO,CAAC,IAAA,2LAAY;IACpC;IAEA,SAAS,CAAC,EAAE;QACR,MAAM,KAAK,IAAI,CAAC,cAAc,CAAC;QAC/B,OAAO,wLAAgB,CAAC,IAAI;IAChC;IAEA,WAAW,CAAC,EAAE;QACV,MAAM,OAAO,IAAI,WAAW,IAAI,CAAC,EAAE;QACnC,sLAAc,CAAC,MAAM,GAAG,GAAG,IAAI,CAAC,EAAE;QAClC,OAAO,IAAI,CAAC,YAAY,CAAC;IAC7B;IAEA,QAAQ,IAAI,EAAE,MAAM,EAAE,CAAC,EAAE;QACrB,KAAK,GAAG,CAAC,IAAI,CAAC,cAAc,CAAC,IAAI;IACrC;IAEA,QAAQ,IAAI,EAAE,MAAM,EAAE,CAAC,EAAE;QACrB,MAAM,QAAQ,IAAI,CAAC,cAAc,CAAC;QAClC,IAAK,IAAI,IAAE,GAAG,IAAE,IAAI,CAAC,EAAE,GAAC,GAAG,IAAK;YAC5B,MAAM,MAAM,KAAK,CAAC,EAAE;YACpB,KAAK,CAAC,EAAE,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE,GAAC,IAAE,EAAE;YAC7B,KAAK,CAAC,IAAI,CAAC,EAAE,GAAC,IAAE,EAAE,GAAG;QACzB;QACA,KAAK,GAAG,CAAC,OAAO;IACpB;IAEA,UAAU,IAAI,EAAE,MAAM,EAAE;QACpB,SAAS,UAAU;QACnB,MAAM,MAAM,KAAK,KAAK,CAAC,QAAQ,SAAS,IAAI,CAAC,EAAE;QAC/C,OAAO,IAAI,CAAC,YAAY,CAAC;IAC7B;IAEA,MAAM,aAAa,MAAM,EAAE;QACvB,IAAI,cAAc;QAClB,MAAM,MAAM,IAAI,CAAC,EAAE;QACnB,MAAM,OAAO,IAAI,CAAC,EAAE;QAEpB,IAAI,MAAM,OAAO,CAAC,SAAS;YACvB,SAAS,0LAAkB,CAAC,QAAQ;YACpC,cAAc;QAClB,OAAO;YACH,SAAS,OAAO,KAAK,CAAC,GAAG,OAAO,UAAU;QAC9C;QAEA,MAAM,UAAU,KAAK,KAAK,CAAC,OAAO,UAAU,GAAG;QAC/C,IAAK,UAAU,QAAQ,OAAO,UAAU,EAAE;YACtC,MAAM,IAAI,MAAM;QACpB;QACA,MAAM,iBAAiB,KAAK,KAAK,CAAC,UAAQ,IAAI,CAAC,EAAE,CAAC,WAAW;QAC7D,MAAM,aAAa,EAAE;QACrB,IAAK,IAAI,IAAE,GAAG,IAAE,IAAI,CAAC,EAAE,CAAC,WAAW,EAAE,IAAK;YACtC,IAAI;YACJ,IAAI,IAAG,IAAI,CAAC,EAAE,CAAC,WAAW,GAAC,GAAG;gBAC1B,IAAI;YACR,OAAO;gBACH,IAAI,UAAU,IAAE;YACpB;YACA,IAAI,KAAG,GAAG;YAEV,MAAM,YAAY,OAAO,KAAK,CAAC,IAAE,iBAAe,KAAK,IAAE,iBAAe,MAAM,IAAE;YAC9E,MAAM,OAAO;gBACT;oBAAC,KAAK;oBAAY,KAAK;oBAAG,MAAK;gBAAS;gBACxC;oBAAC,KAAK;oBAAS,KAAK;oBAAG,KAAI,OAAO;gBAAC;gBACnC;oBAAC,KAAK;oBAAQ,QAAQ,IAAI,CAAC,MAAM,GAAG;oBAAiB,QAAQ;wBACzD;4BAAC,KAAK;wBAAC;wBACP;4BAAC,KAAK;wBAAG;wBACT;4BAAC,KAAK;wBAAC;wBACP;4BAAC,KAAK;wBAAC;wBACP;4BAAC,KAAK;wBAAI;qBACb;gBAAA;gBACD;oBAAC,KAAK;oBAAO,KAAK;oBAAG,KAAK;oBAAG,KAAI,OAAO;gBAAC;aAC5C;YACD,WAAW,IAAI,CACX,IAAI,CAAC,EAAE,CAAC,WAAW,CAAC;QAE5B;QAEA,MAAM,SAAS,MAAM,QAAQ,GAAG,CAAC;QAEjC,IAAI;QACJ,IAAI,kBAAkB,yLAAS,EAAE;YAC7B,cAAc,IAAI,yLAAS,CAAC,UAAQ;QACxC,OAAO;YACH,cAAc,IAAI,WAAW,UAAQ;QACzC;QAEA,IAAI,IAAG;QACP,IAAK,IAAI,IAAE,GAAG,IAAE,OAAO,MAAM,EAAE,IAAK;YAChC,YAAY,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC,EAAE,EAAE;YAC9B,KAAG,MAAM,CAAC,EAAE,CAAC,EAAE,CAAC,UAAU;QAC9B;QAEA,IAAI,aAAa;YACb,OAAO,0LAAkB,CAAC,aAAa;QAC3C,OAAO;YACH,OAAO;QACX;IAEJ;AAEJ","ignoreList":[0]}},
    {"offset": {"line": 9278, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/nisch/Desktop/Velocity-1/node_modules/r1csfile/node_modules/ffjavascript/src/wasm_field2.js"],"sourcesContent":["import { getThreadRng } from \"./random.js\";\nimport * as Scalar from \"./scalar.js\";\n\n\nexport default class WasmField2 {\n\n    constructor(tm, prefix, F) {\n        this.tm = tm;\n        this.prefix = prefix;\n\n        this.F = F;\n        this.type = \"F2\";\n        this.m = F.m * 2;\n        this.n8 = this.F.n8*2;\n        this.n32 = this.F.n32*2;\n        this.n64 = this.F.n64*2;\n\n        this.pOp1 = tm.alloc(F.n8*2);\n        this.pOp2 = tm.alloc(F.n8*2);\n        this.pOp3 = tm.alloc(F.n8*2);\n        this.tm.instance.exports[prefix + \"_zero\"](this.pOp1);\n        this.zero = tm.getBuff(this.pOp1, this.n8);\n        this.tm.instance.exports[prefix + \"_one\"](this.pOp1);\n        this.one = tm.getBuff(this.pOp1, this.n8);\n\n        this.negone = this.neg(this.one);\n        this.two = this.add(this.one, this.one);\n\n    }\n\n    op2(opName, a, b) {\n        this.tm.setBuff(this.pOp1, a);\n        this.tm.setBuff(this.pOp2, b);\n        this.tm.instance.exports[this.prefix + opName](this.pOp1, this.pOp2, this.pOp3);\n        return this.tm.getBuff(this.pOp3, this.n8);\n    }\n\n    op2Bool(opName, a, b) {\n        this.tm.setBuff(this.pOp1, a);\n        this.tm.setBuff(this.pOp2, b);\n        return !!this.tm.instance.exports[this.prefix + opName](this.pOp1, this.pOp2);\n    }\n\n    op1(opName, a) {\n        this.tm.setBuff(this.pOp1, a);\n        this.tm.instance.exports[this.prefix + opName](this.pOp1, this.pOp3);\n        return this.tm.getBuff(this.pOp3, this.n8);\n    }\n\n    op1Bool(opName, a) {\n        this.tm.setBuff(this.pOp1, a);\n        return !!this.tm.instance.exports[this.prefix + opName](this.pOp1, this.pOp3);\n    }\n\n    add(a,b) {\n        return this.op2(\"_add\", a, b);\n    }\n\n    eq(a,b) {\n        return this.op2Bool(\"_eq\", a, b);\n    }\n\n    isZero(a) {\n        return this.op1Bool(\"_isZero\", a);\n    }\n\n    sub(a,b) {\n        return this.op2(\"_sub\", a, b);\n    }\n\n    neg(a) {\n        return this.op1(\"_neg\", a);\n    }\n\n    inv(a) {\n        return this.op1(\"_inverse\", a);\n    }\n\n    isNegative(a) {\n        return this.op1Bool(\"_isNegative\", a);\n    }\n\n    toMontgomery(a) {\n        return this.op1(\"_toMontgomery\", a);\n    }\n\n    fromMontgomery(a) {\n        return this.op1(\"_fromMontgomery\", a);\n    }\n\n    mul(a,b) {\n        return this.op2(\"_mul\", a, b);\n    }\n\n    mul1(a,b) {\n        return this.op2(\"_mul1\", a, b);\n    }\n\n    div(a, b) {\n        this.tm.setBuff(this.pOp1, a);\n        this.tm.setBuff(this.pOp2, b);\n        this.tm.instance.exports[this.prefix + \"_inverse\"](this.pOp2, this.pOp2);\n        this.tm.instance.exports[this.prefix + \"_mul\"](this.pOp1, this.pOp2, this.pOp3);\n        return this.tm.getBuff(this.pOp3, this.n8);\n    }\n\n    square(a) {\n        return this.op1(\"_square\", a);\n    }\n\n    isSquare(a) {\n        return this.op1Bool(\"_isSquare\", a);\n    }\n\n    sqrt(a) {\n        return this.op1(\"_sqrt\", a);\n    }\n\n    exp(a, b) {\n        if (!(b instanceof Uint8Array)) {\n            b = Scalar.toLEBuff(Scalar.e(b));\n        }\n        this.tm.setBuff(this.pOp1, a);\n        this.tm.setBuff(this.pOp2, b);\n        this.tm.instance.exports[this.prefix + \"_exp\"](this.pOp1, this.pOp2, b.byteLength, this.pOp3);\n        return this.tm.getBuff(this.pOp3, this.n8);\n    }\n\n    e(a, b) {\n        if (a instanceof Uint8Array) return a;\n        if ((Array.isArray(a)) && (a.length == 2)) {\n            const c1 = this.F.e(a[0], b);\n            const c2 = this.F.e(a[1], b);\n            const res = new Uint8Array(this.F.n8*2);\n            res.set(c1);\n            res.set(c2, this.F.n8*2);\n            return res;\n        } else {\n            throw new Error(\"invalid F2\");\n        }\n    }\n\n    toString(a, radix) {\n        const s1 = this.F.toString(a.slice(0, this.F.n8), radix);\n        const s2 = this.F.toString(a.slice(this.F.n8), radix);\n        return `[${s1}, ${s2}]`;\n    }\n\n    fromRng(rng) {\n        const c1 = this.F.fromRng(rng);\n        const c2 = this.F.fromRng(rng);\n        const res = new Uint8Array(this.F.n8*2);\n        res.set(c1);\n        res.set(c2, this.F.n8);\n        return res;\n    }\n\n    random() {\n        return this.fromRng(getThreadRng());\n    }\n\n    toObject(a) {\n        const c1 = this.F.toObject(a.slice(0, this.F.n8));\n        const c2 = this.F.toObject(a.slice(this.F.n8, this.F.n8*2));\n        return [c1, c2];\n    }\n\n    fromObject(a) {\n        const buff = new Uint8Array(this.F.n8*2);\n        const b1 = this.F.fromObject(a[0]);\n        const b2 = this.F.fromObject(a[1]);\n        buff.set(b1);\n        buff.set(b2, this.F.n8);\n        return buff;\n    }\n\n    c1(a) {\n        return a.slice(0, this.F.n8);\n    }\n\n    c2(a) {\n        return a.slice(this.F.n8);\n    }\n\n}\n\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 9440, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/nisch/Desktop/Velocity-1/node_modules/r1csfile/node_modules/ffjavascript/src/wasm_field3.js"],"sourcesContent":["\n\nimport { getThreadRng } from \"./random.js\";\nimport * as Scalar from \"./scalar.js\";\n\n\nexport default class WasmField3 {\n\n    constructor(tm, prefix, F) {\n        this.tm = tm;\n        this.prefix = prefix;\n\n        this.F = F;\n        this.type = \"F3\";\n        this.m = F.m * 3;\n        this.n8 = this.F.n8*3;\n        this.n32 = this.F.n32*3;\n        this.n64 = this.F.n64*3;\n\n        this.pOp1 = tm.alloc(F.n8*3);\n        this.pOp2 = tm.alloc(F.n8*3);\n        this.pOp3 = tm.alloc(F.n8*3);\n        this.tm.instance.exports[prefix + \"_zero\"](this.pOp1);\n        this.zero = tm.getBuff(this.pOp1, this.n8);\n        this.tm.instance.exports[prefix + \"_one\"](this.pOp1);\n        this.one = tm.getBuff(this.pOp1, this.n8);\n\n        this.negone = this.neg(this.one);\n        this.two = this.add(this.one, this.one);\n\n    }\n\n    op2(opName, a, b) {\n        this.tm.setBuff(this.pOp1, a);\n        this.tm.setBuff(this.pOp2, b);\n        this.tm.instance.exports[this.prefix + opName](this.pOp1, this.pOp2, this.pOp3);\n        return this.tm.getBuff(this.pOp3, this.n8);\n    }\n\n    op2Bool(opName, a, b) {\n        this.tm.setBuff(this.pOp1, a);\n        this.tm.setBuff(this.pOp2, b);\n        return !!this.tm.instance.exports[this.prefix + opName](this.pOp1, this.pOp2);\n    }\n\n    op1(opName, a) {\n        this.tm.setBuff(this.pOp1, a);\n        this.tm.instance.exports[this.prefix + opName](this.pOp1, this.pOp3);\n        return this.tm.getBuff(this.pOp3, this.n8);\n    }\n\n    op1Bool(opName, a) {\n        this.tm.setBuff(this.pOp1, a);\n        return !!this.tm.instance.exports[this.prefix + opName](this.pOp1, this.pOp3);\n    }\n\n\n    eq(a,b) {\n        return this.op2Bool(\"_eq\", a, b);\n    }\n\n    isZero(a) {\n        return this.op1Bool(\"_isZero\", a);\n    }\n\n    add(a,b) {\n        return this.op2(\"_add\", a, b);\n    }\n\n    sub(a,b) {\n        return this.op2(\"_sub\", a, b);\n    }\n\n    neg(a) {\n        return this.op1(\"_neg\", a);\n    }\n\n    inv(a) {\n        return this.op1(\"_inverse\", a);\n    }\n\n    isNegative(a) {\n        return this.op1Bool(\"_isNegative\", a);\n    }\n\n    toMontgomery(a) {\n        return this.op1(\"_toMontgomery\", a);\n    }\n\n    fromMontgomery(a) {\n        return this.op1(\"_fromMontgomery\", a);\n    }\n\n    mul(a,b) {\n        return this.op2(\"_mul\", a, b);\n    }\n\n    div(a, b) {\n        this.tm.setBuff(this.pOp1, a);\n        this.tm.setBuff(this.pOp2, b);\n        this.tm.instance.exports[this.prefix + \"_inverse\"](this.pOp2, this.pOp2);\n        this.tm.instance.exports[this.prefix + \"_mul\"](this.pOp1, this.pOp2, this.pOp3);\n        return this.tm.getBuff(this.pOp3, this.n8);\n    }\n\n    square(a) {\n        return this.op1(\"_square\", a);\n    }\n\n    isSquare(a) {\n        return this.op1Bool(\"_isSquare\", a);\n    }\n\n    sqrt(a) {\n        return this.op1(\"_sqrt\", a);\n    }\n\n    exp(a, b) {\n        if (!(b instanceof Uint8Array)) {\n            b = Scalar.toLEBuff(Scalar.e(b));\n        }\n        this.tm.setBuff(this.pOp1, a);\n        this.tm.setBuff(this.pOp2, b);\n        this.tm.instance.exports[this.prefix + \"_exp\"](this.pOp1, this.pOp2, b.byteLength, this.pOp3);\n        return this.getBuff(this.pOp3, this.n8);\n    }\n\n    e(a, b) {\n        if (a instanceof Uint8Array) return a;\n        if ((Array.isArray(a)) && (a.length == 3)) {\n            const c1 = this.F.e(a[0], b);\n            const c2 = this.F.e(a[1], b);\n            const c3 = this.F.e(a[2], b);\n            const res = new Uint8Array(this.F.n8*3);\n            res.set(c1);\n            res.set(c2, this.F.n8);\n            res.set(c3, this.F.n8*2);\n            return res;\n        } else {\n            throw new Error(\"invalid F3\");\n        }\n    }\n\n    toString(a, radix) {\n        const s1 = this.F.toString(a.slice(0, this.F.n8), radix);\n        const s2 = this.F.toString(a.slice(this.F.n8, this.F.n8*2), radix);\n        const s3 = this.F.toString(a.slice(this.F.n8*2), radix);\n        return `[${s1}, ${s2}, ${s3}]`;\n    }\n\n    fromRng(rng) {\n        const c1 = this.F.fromRng(rng);\n        const c2 = this.F.fromRng(rng);\n        const c3 = this.F.fromRng(rng);\n        const res = new Uint8Array(this.F.n8*3);\n        res.set(c1);\n        res.set(c2, this.F.n8);\n        res.set(c3, this.F.n8*2);\n        return res;\n    }\n\n    random() {\n        return this.fromRng(getThreadRng());\n    }\n\n    toObject(a) {\n        const c1 = this.F.toObject(a.slice(0, this.F.n8));\n        const c2 = this.F.toObject(a.slice(this.F.n8, this.F.n8*2));\n        const c3 = this.F.toObject(a.slice(this.F.n8*2, this.F.n8*3));\n        return [c1, c2, c3];\n    }\n\n    fromObject(a) {\n        const buff = new Uint8Array(this.F.n8*3);\n        const b1 = this.F.fromObject(a[0]);\n        const b2 = this.F.fromObject(a[1]);\n        const b3 = this.F.fromObject(a[2]);\n        buff.set(b1);\n        buff.set(b2, this.F.n8);\n        buff.set(b3, this.F.n8*2);\n        return buff;\n    }\n\n    c1(a) {\n        return a.slice(0, this.F.n8);\n    }\n\n    c2(a) {\n        return a.slice(this.F.n8, this.F.n8*2);\n    }\n\n    c3(a) {\n        return a.slice(this.F.n8*2);\n    }\n\n}\n\n\n"],"names":[],"mappings":";;;;AAEA;AACA;;;AAGe,MAAM;IAEjB,YAAY,EAAE,EAAE,MAAM,EAAE,CAAC,CAAE;QACvB,IAAI,CAAC,EAAE,GAAG;QACV,IAAI,CAAC,MAAM,GAAG;QAEd,IAAI,CAAC,CAAC,GAAG;QACT,IAAI,CAAC,IAAI,GAAG;QACZ,IAAI,CAAC,CAAC,GAAG,EAAE,CAAC,GAAG;QACf,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,CAAC,CAAC,EAAE,GAAC;QACpB,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,CAAC,CAAC,GAAG,GAAC;QACtB,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,CAAC,CAAC,GAAG,GAAC;QAEtB,IAAI,CAAC,IAAI,GAAG,GAAG,KAAK,CAAC,EAAE,EAAE,GAAC;QAC1B,IAAI,CAAC,IAAI,GAAG,GAAG,KAAK,CAAC,EAAE,EAAE,GAAC;QAC1B,IAAI,CAAC,IAAI,GAAG,GAAG,KAAK,CAAC,EAAE,EAAE,GAAC;QAC1B,IAAI,CAAC,EAAE,CAAC,QAAQ,CAAC,OAAO,CAAC,SAAS,QAAQ,CAAC,IAAI,CAAC,IAAI;QACpD,IAAI,CAAC,IAAI,GAAG,GAAG,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,EAAE;QACzC,IAAI,CAAC,EAAE,CAAC,QAAQ,CAAC,OAAO,CAAC,SAAS,OAAO,CAAC,IAAI,CAAC,IAAI;QACnD,IAAI,CAAC,GAAG,GAAG,GAAG,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,EAAE;QAExC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG;QAC/B,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,GAAG;IAE1C;IAEA,IAAI,MAAM,EAAE,CAAC,EAAE,CAAC,EAAE;QACd,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE;QAC3B,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE;QAC3B,IAAI,CAAC,EAAE,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,GAAG,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,IAAI;QAC9E,OAAO,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,EAAE;IAC7C;IAEA,QAAQ,MAAM,EAAE,CAAC,EAAE,CAAC,EAAE;QAClB,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE;QAC3B,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE;QAC3B,OAAO,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,GAAG,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,IAAI;IAChF;IAEA,IAAI,MAAM,EAAE,CAAC,EAAE;QACX,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE;QAC3B,IAAI,CAAC,EAAE,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,GAAG,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,IAAI;QACnE,OAAO,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,EAAE;IAC7C;IAEA,QAAQ,MAAM,EAAE,CAAC,EAAE;QACf,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE;QAC3B,OAAO,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,GAAG,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,IAAI;IAChF;IAGA,GAAG,CAAC,EAAC,CAAC,EAAE;QACJ,OAAO,IAAI,CAAC,OAAO,CAAC,OAAO,GAAG;IAClC;IAEA,OAAO,CAAC,EAAE;QACN,OAAO,IAAI,CAAC,OAAO,CAAC,WAAW;IACnC;IAEA,IAAI,CAAC,EAAC,CAAC,EAAE;QACL,OAAO,IAAI,CAAC,GAAG,CAAC,QAAQ,GAAG;IAC/B;IAEA,IAAI,CAAC,EAAC,CAAC,EAAE;QACL,OAAO,IAAI,CAAC,GAAG,CAAC,QAAQ,GAAG;IAC/B;IAEA,IAAI,CAAC,EAAE;QACH,OAAO,IAAI,CAAC,GAAG,CAAC,QAAQ;IAC5B;IAEA,IAAI,CAAC,EAAE;QACH,OAAO,IAAI,CAAC,GAAG,CAAC,YAAY;IAChC;IAEA,WAAW,CAAC,EAAE;QACV,OAAO,IAAI,CAAC,OAAO,CAAC,eAAe;IACvC;IAEA,aAAa,CAAC,EAAE;QACZ,OAAO,IAAI,CAAC,GAAG,CAAC,iBAAiB;IACrC;IAEA,eAAe,CAAC,EAAE;QACd,OAAO,IAAI,CAAC,GAAG,CAAC,mBAAmB;IACvC;IAEA,IAAI,CAAC,EAAC,CAAC,EAAE;QACL,OAAO,IAAI,CAAC,GAAG,CAAC,QAAQ,GAAG;IAC/B;IAEA,IAAI,CAAC,EAAE,CAAC,EAAE;QACN,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE;QAC3B,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE;QAC3B,IAAI,CAAC,EAAE,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,GAAG,WAAW,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,IAAI;QACvE,IAAI,CAAC,EAAE,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,GAAG,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,IAAI;QAC9E,OAAO,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,EAAE;IAC7C;IAEA,OAAO,CAAC,EAAE;QACN,OAAO,IAAI,CAAC,GAAG,CAAC,WAAW;IAC/B;IAEA,SAAS,CAAC,EAAE;QACR,OAAO,IAAI,CAAC,OAAO,CAAC,aAAa;IACrC;IAEA,KAAK,CAAC,EAAE;QACJ,OAAO,IAAI,CAAC,GAAG,CAAC,SAAS;IAC7B;IAEA,IAAI,CAAC,EAAE,CAAC,EAAE;QACN,IAAI,CAAC,CAAC,aAAa,UAAU,GAAG;YAC5B,IAAI,uLAAe,CAAC,gLAAQ,CAAC;QACjC;QACA,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE;QAC3B,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE;QAC3B,IAAI,CAAC,EAAE,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,GAAG,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,IAAI,EAAE,EAAE,UAAU,EAAE,IAAI,CAAC,IAAI;QAC5F,OAAO,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,EAAE;IAC1C;IAEA,EAAE,CAAC,EAAE,CAAC,EAAE;QACJ,IAAI,aAAa,YAAY,OAAO;QACpC,IAAI,AAAC,MAAM,OAAO,CAAC,MAAQ,EAAE,MAAM,IAAI,GAAI;YACvC,MAAM,KAAK,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE;YAC1B,MAAM,KAAK,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE;YAC1B,MAAM,KAAK,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE;YAC1B,MAAM,MAAM,IAAI,WAAW,IAAI,CAAC,CAAC,CAAC,EAAE,GAAC;YACrC,IAAI,GAAG,CAAC;YACR,IAAI,GAAG,CAAC,IAAI,IAAI,CAAC,CAAC,CAAC,EAAE;YACrB,IAAI,GAAG,CAAC,IAAI,IAAI,CAAC,CAAC,CAAC,EAAE,GAAC;YACtB,OAAO;QACX,OAAO;YACH,MAAM,IAAI,MAAM;QACpB;IACJ;IAEA,SAAS,CAAC,EAAE,KAAK,EAAE;QACf,MAAM,KAAK,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,EAAE,KAAK,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,EAAE,GAAG;QAClD,MAAM,KAAK,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,EAAE,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,EAAE,IAAI,CAAC,CAAC,CAAC,EAAE,GAAC,IAAI;QAC5D,MAAM,KAAK,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,EAAE,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,GAAC,IAAI;QACjD,OAAO,CAAC,CAAC,EAAE,GAAG,EAAE,EAAE,GAAG,EAAE,EAAE,GAAG,CAAC,CAAC;IAClC;IAEA,QAAQ,GAAG,EAAE;QACT,MAAM,KAAK,IAAI,CAAC,CAAC,CAAC,OAAO,CAAC;QAC1B,MAAM,KAAK,IAAI,CAAC,CAAC,CAAC,OAAO,CAAC;QAC1B,MAAM,KAAK,IAAI,CAAC,CAAC,CAAC,OAAO,CAAC;QAC1B,MAAM,MAAM,IAAI,WAAW,IAAI,CAAC,CAAC,CAAC,EAAE,GAAC;QACrC,IAAI,GAAG,CAAC;QACR,IAAI,GAAG,CAAC,IAAI,IAAI,CAAC,CAAC,CAAC,EAAE;QACrB,IAAI,GAAG,CAAC,IAAI,IAAI,CAAC,CAAC,CAAC,EAAE,GAAC;QACtB,OAAO;IACX;IAEA,SAAS;QACL,OAAO,IAAI,CAAC,OAAO,CAAC,IAAA,2LAAY;IACpC;IAEA,SAAS,CAAC,EAAE;QACR,MAAM,KAAK,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,EAAE,KAAK,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,EAAE;QAC/C,MAAM,KAAK,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,EAAE,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,EAAE,IAAI,CAAC,CAAC,CAAC,EAAE,GAAC;QACxD,MAAM,KAAK,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,EAAE,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,GAAC,GAAG,IAAI,CAAC,CAAC,CAAC,EAAE,GAAC;QAC1D,OAAO;YAAC;YAAI;YAAI;SAAG;IACvB;IAEA,WAAW,CAAC,EAAE;QACV,MAAM,OAAO,IAAI,WAAW,IAAI,CAAC,CAAC,CAAC,EAAE,GAAC;QACtC,MAAM,KAAK,IAAI,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,EAAE;QACjC,MAAM,KAAK,IAAI,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,EAAE;QACjC,MAAM,KAAK,IAAI,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,EAAE;QACjC,KAAK,GAAG,CAAC;QACT,KAAK,GAAG,CAAC,IAAI,IAAI,CAAC,CAAC,CAAC,EAAE;QACtB,KAAK,GAAG,CAAC,IAAI,IAAI,CAAC,CAAC,CAAC,EAAE,GAAC;QACvB,OAAO;IACX;IAEA,GAAG,CAAC,EAAE;QACF,OAAO,EAAE,KAAK,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,EAAE;IAC/B;IAEA,GAAG,CAAC,EAAE;QACF,OAAO,EAAE,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,EAAE,IAAI,CAAC,CAAC,CAAC,EAAE,GAAC;IACxC;IAEA,GAAG,CAAC,EAAE;QACF,OAAO,EAAE,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,GAAC;IAC7B;AAEJ","ignoreList":[0]}},
    {"offset": {"line": 9611, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/nisch/Desktop/Velocity-1/node_modules/r1csfile/node_modules/ffjavascript/src/wasm_curve.js"],"sourcesContent":["\n\nimport * as Scalar from \"./scalar.js\";\nimport buildBatchConvert from \"./engine_batchconvert.js\";\n\nexport default class WasmCurve {\n\n    constructor(tm, prefix, F, pGen, pGb, cofactor) {\n        this.tm = tm;\n        this.prefix = prefix;\n        this.F = F;\n\n        this.pOp1 = tm.alloc(F.n8*3);\n        this.pOp2 = tm.alloc(F.n8*3);\n        this.pOp3 = tm.alloc(F.n8*3);\n        this.tm.instance.exports[prefix + \"_zero\"](this.pOp1);\n        this.zero = this.tm.getBuff(this.pOp1, F.n8*3);\n        this.tm.instance.exports[prefix + \"_zeroAffine\"](this.pOp1);\n        this.zeroAffine = this.tm.getBuff(this.pOp1, F.n8*2);\n        this.one = this.tm.getBuff(pGen, F.n8*3);\n        this.g = this.one;\n        this.oneAffine = this.tm.getBuff(pGen, F.n8*2);\n        this.gAffine = this.oneAffine;\n        this.b = this.tm.getBuff(pGb, F.n8);\n\n        if (cofactor) {\n            this.cofactor = Scalar.toLEBuff(cofactor);\n        }\n\n        this.negone = this.neg(this.one);\n        this.two = this.add(this.one, this.one);\n\n        this.batchLEMtoC = buildBatchConvert(tm, prefix + \"_batchLEMtoC\", F.n8*2, F.n8);\n        this.batchLEMtoU = buildBatchConvert(tm, prefix + \"_batchLEMtoU\", F.n8*2, F.n8*2);\n        this.batchCtoLEM = buildBatchConvert(tm, prefix + \"_batchCtoLEM\", F.n8, F.n8*2);\n        this.batchUtoLEM = buildBatchConvert(tm, prefix + \"_batchUtoLEM\", F.n8*2, F.n8*2);\n        this.batchToJacobian = buildBatchConvert(tm, prefix + \"_batchToJacobian\", F.n8*2, F.n8*3);\n        this.batchToAffine = buildBatchConvert(tm, prefix + \"_batchToAffine\", F.n8*3, F.n8*2);\n    }\n\n    op2(opName, a, b) {\n        this.tm.setBuff(this.pOp1, a);\n        this.tm.setBuff(this.pOp2, b);\n        this.tm.instance.exports[this.prefix + opName](this.pOp1, this.pOp2, this.pOp3);\n        return this.tm.getBuff(this.pOp3, this.F.n8*3);\n    }\n\n    op2bool(opName, a, b) {\n        this.tm.setBuff(this.pOp1, a);\n        this.tm.setBuff(this.pOp2, b);\n        return !!this.tm.instance.exports[this.prefix + opName](this.pOp1, this.pOp2, this.pOp3);\n    }\n\n    op1(opName, a) {\n        this.tm.setBuff(this.pOp1, a);\n        this.tm.instance.exports[this.prefix + opName](this.pOp1, this.pOp3);\n        return this.tm.getBuff(this.pOp3, this.F.n8*3);\n    }\n\n    op1Affine(opName, a) {\n        this.tm.setBuff(this.pOp1, a);\n        this.tm.instance.exports[this.prefix + opName](this.pOp1, this.pOp3);\n        return this.tm.getBuff(this.pOp3, this.F.n8*2);\n    }\n\n    op1Bool(opName, a) {\n        this.tm.setBuff(this.pOp1, a);\n        return !!this.tm.instance.exports[this.prefix + opName](this.pOp1, this.pOp3);\n    }\n\n    add(a,b) {\n        if (a.byteLength == this.F.n8*3) {\n            if (b.byteLength == this.F.n8*3) {\n                return this.op2(\"_add\", a, b);\n            } else if (b.byteLength == this.F.n8*2) {\n                return this.op2(\"_addMixed\", a, b);\n            } else {\n                throw new Error(\"invalid point size\");\n            }\n        } else if (a.byteLength == this.F.n8*2) {\n            if (b.byteLength == this.F.n8*3) {\n                return this.op2(\"_addMixed\", b, a);\n            } else if (b.byteLength == this.F.n8*2) {\n                return this.op2(\"_addAffine\", a, b);\n            } else {\n                throw new Error(\"invalid point size\");\n            }\n        } else {\n            throw new Error(\"invalid point size\");\n        }\n    }\n\n    sub(a,b) {\n        if (a.byteLength == this.F.n8*3) {\n            if (b.byteLength == this.F.n8*3) {\n                return this.op2(\"_sub\", a, b);\n            } else if (b.byteLength == this.F.n8*2) {\n                return this.op2(\"_subMixed\", a, b);\n            } else {\n                throw new Error(\"invalid point size\");\n            }\n        } else if (a.byteLength == this.F.n8*2) {\n            if (b.byteLength == this.F.n8*3) {\n                return this.op2(\"_subMixed\", b, a);\n            } else if (b.byteLength == this.F.n8*2) {\n                return this.op2(\"_subAffine\", a, b);\n            } else {\n                throw new Error(\"invalid point size\");\n            }\n        } else {\n            throw new Error(\"invalid point size\");\n        }\n    }\n\n    neg(a) {\n        if (a.byteLength == this.F.n8*3) {\n            return this.op1(\"_neg\", a);\n        } else if (a.byteLength == this.F.n8*2) {\n            return this.op1Affine(\"_negAffine\", a);\n        } else {\n            throw new Error(\"invalid point size\");\n        }\n    }\n\n    double(a) {\n        if (a.byteLength == this.F.n8*3) {\n            return this.op1(\"_double\", a);\n        } else if (a.byteLength == this.F.n8*2) {\n            return this.op1(\"_doubleAffine\", a);\n        } else {\n            throw new Error(\"invalid point size\");\n        }\n    }\n\n    isZero(a) {\n        if (a.byteLength == this.F.n8*3) {\n            return this.op1Bool(\"_isZero\", a);\n        } else if (a.byteLength == this.F.n8*2) {\n            return this.op1Bool(\"_isZeroAffine\", a);\n        } else {\n            throw new Error(\"invalid point size\");\n        }\n    }\n\n    timesScalar(a, s) {\n        if (!(s instanceof Uint8Array)) {\n            s = Scalar.toLEBuff(Scalar.e(s));\n        }\n        let fnName;\n        if (a.byteLength == this.F.n8*3) {\n            fnName = this.prefix + \"_timesScalar\";\n        } else if (a.byteLength == this.F.n8*2) {\n            fnName = this.prefix + \"_timesScalarAffine\";\n        } else {\n            throw new Error(\"invalid point size\");\n        }\n        this.tm.setBuff(this.pOp1, a);\n        this.tm.setBuff(this.pOp2, s);\n        this.tm.instance.exports[fnName](this.pOp1, this.pOp2, s.byteLength, this.pOp3);\n        return this.tm.getBuff(this.pOp3, this.F.n8*3);\n    }\n\n    timesFr(a, s) {\n        let fnName;\n        if (a.byteLength == this.F.n8*3) {\n            fnName = this.prefix + \"_timesFr\";\n        } else if (a.byteLength == this.F.n8*2) {\n            fnName = this.prefix + \"_timesFrAffine\";\n        } else {\n            throw new Error(\"invalid point size\");\n        }\n        this.tm.setBuff(this.pOp1, a);\n        this.tm.setBuff(this.pOp2, s);\n        this.tm.instance.exports[fnName](this.pOp1, this.pOp2, this.pOp3);\n        return this.tm.getBuff(this.pOp3, this.F.n8*3);\n    }\n\n    eq(a,b) {\n        if (a.byteLength == this.F.n8*3) {\n            if (b.byteLength == this.F.n8*3) {\n                return this.op2bool(\"_eq\", a, b);\n            } else if (b.byteLength == this.F.n8*2) {\n                return this.op2bool(\"_eqMixed\", a, b);\n            } else {\n                throw new Error(\"invalid point size\");\n            }\n        } else if (a.byteLength == this.F.n8*2) {\n            if (b.byteLength == this.F.n8*3) {\n                return this.op2bool(\"_eqMixed\", b, a);\n            } else if (b.byteLength == this.F.n8*2) {\n                return this.op2bool(\"_eqAffine\", a, b);\n            } else {\n                throw new Error(\"invalid point size\");\n            }\n        } else {\n            throw new Error(\"invalid point size\");\n        }\n    }\n\n    toAffine(a) {\n        if (a.byteLength == this.F.n8*3) {\n            return this.op1Affine(\"_toAffine\", a);\n        } else if (a.byteLength == this.F.n8*2) {\n            return a;\n        } else {\n            throw new Error(\"invalid point size\");\n        }\n    }\n\n    toJacobian(a) {\n        if (a.byteLength == this.F.n8*3) {\n            return a;\n        } else if (a.byteLength == this.F.n8*2) {\n            return this.op1(\"_toJacobian\", a);\n        } else {\n            throw new Error(\"invalid point size\");\n        }\n    }\n\n    toRprUncompressed(arr, offset, a) {\n        this.tm.setBuff(this.pOp1, a);\n        if (a.byteLength == this.F.n8*3) {\n            this.tm.instance.exports[this.prefix + \"_toAffine\"](this.pOp1, this.pOp1);\n        } else if (a.byteLength != this.F.n8*2) {\n            throw new Error(\"invalid point size\");\n        }\n        this.tm.instance.exports[this.prefix + \"_LEMtoU\"](this.pOp1, this.pOp1);\n        const res = this.tm.getBuff(this.pOp1, this.F.n8*2);\n        arr.set(res, offset);\n    }\n\n    fromRprUncompressed(arr, offset) {\n        const buff = arr.slice(offset, offset + this.F.n8*2);\n        this.tm.setBuff(this.pOp1, buff);\n        this.tm.instance.exports[this.prefix + \"_UtoLEM\"](this.pOp1, this.pOp1);\n        return this.tm.getBuff(this.pOp1, this.F.n8*2);\n    }\n\n    toRprCompressed(arr, offset, a) {\n        this.tm.setBuff(this.pOp1, a);\n        if (a.byteLength == this.F.n8*3) {\n            this.tm.instance.exports[this.prefix + \"_toAffine\"](this.pOp1, this.pOp1);\n        } else if (a.byteLength != this.F.n8*2) {\n            throw new Error(\"invalid point size\");\n        }\n        this.tm.instance.exports[this.prefix + \"_LEMtoC\"](this.pOp1, this.pOp1);\n        const res = this.tm.getBuff(this.pOp1, this.F.n8);\n        arr.set(res, offset);\n    }\n\n    fromRprCompressed(arr, offset) {\n        const buff = arr.slice(offset, offset + this.F.n8);\n        this.tm.setBuff(this.pOp1, buff);\n        this.tm.instance.exports[this.prefix + \"_CtoLEM\"](this.pOp1, this.pOp2);\n        return this.tm.getBuff(this.pOp2, this.F.n8*2);\n    }\n\n    toUncompressed(a) {\n        const buff = new Uint8Array(this.F.n8*2);\n        this.toRprUncompressed(buff, 0, a);\n        return buff;\n    }\n\n    toRprLEM(arr, offset, a) {\n        if (a.byteLength == this.F.n8*2) {\n            arr.set(a, offset);\n            return;\n        } else if (a.byteLength == this.F.n8*3) {\n            this.tm.setBuff(this.pOp1, a);\n            this.tm.instance.exports[this.prefix + \"_toAffine\"](this.pOp1, this.pOp1);\n            const res = this.tm.getBuff(this.pOp1, this.F.n8*2);\n            arr.set(res, offset);\n        } else {\n            throw new Error(\"invalid point size\");\n        }\n    }\n\n    fromRprLEM(arr, offset) {\n        offset = offset || 0;\n        return arr.slice(offset, offset+this.F.n8*2);\n    }\n\n    toString(a, radix) {\n        if (a.byteLength == this.F.n8*3) {\n            const x = this.F.toString(a.slice(0, this.F.n8), radix);\n            const y = this.F.toString(a.slice(this.F.n8, this.F.n8*2), radix);\n            const z = this.F.toString(a.slice(this.F.n8*2), radix);\n            return `[ ${x}, ${y}, ${z} ]`;\n        } else if (a.byteLength == this.F.n8*2) {\n            const x = this.F.toString(a.slice(0, this.F.n8), radix);\n            const y = this.F.toString(a.slice(this.F.n8), radix);\n            return `[ ${x}, ${y} ]`;\n        } else {\n            throw new Error(\"invalid point size\");\n        }\n    }\n\n    isValid(a) {\n        if (this.isZero(a)) return true;\n        const F = this.F;\n        const aa = this.toAffine(a);\n        const x = aa.slice(0, this.F.n8);\n        const y = aa.slice(this.F.n8, this.F.n8*2);\n        const x3b = F.add(F.mul(F.square(x),x), this.b);\n        const y2 = F.square(y);\n        return F.eq(x3b, y2);\n    }\n\n    fromRng(rng) {\n        const F = this.F;\n        let P = [];\n        let greatest;\n        let x3b;\n        do {\n            P[0] = F.fromRng(rng);\n            greatest = rng.nextBool();\n            x3b = F.add(F.mul(F.square(P[0]), P[0]), this.b);\n        } while (!F.isSquare(x3b));\n\n        P[1] = F.sqrt(x3b);\n\n        const s = F.isNegative(P[1]);\n        if (greatest ^ s) P[1] = F.neg(P[1]);\n\n        let Pbuff = new Uint8Array(this.F.n8*2);\n        Pbuff.set(P[0]);\n        Pbuff.set(P[1], this.F.n8);\n\n        if (this.cofactor) {\n            Pbuff = this.timesScalar(Pbuff, this.cofactor);\n        }\n\n        return Pbuff;\n    }\n\n\n\n    toObject(a) {\n        if (this.isZero(a)) {\n            return [\n                this.F.toObject(this.F.zero),\n                this.F.toObject(this.F.one),\n                this.F.toObject(this.F.zero),\n            ];\n        }\n        const x = this.F.toObject(a.slice(0, this.F.n8));\n        const y = this.F.toObject(a.slice(this.F.n8, this.F.n8*2));\n        let z;\n        if (a.byteLength == this.F.n8*3) {\n            z = this.F.toObject(a.slice(this.F.n8*2, this.F.n8*3));\n        } else {\n            z = this.F.toObject(this.F.one);\n        }\n        return [x, y, z];\n    }\n\n    fromObject(a) {\n        const x = this.F.fromObject(a[0]);\n        const y = this.F.fromObject(a[1]);\n        let z;\n        if (a.length==3) {\n            z = this.F.fromObject(a[2]);\n        } else {\n            z = this.F.one;\n        }\n        if (this.F.isZero(z, this.F.one)) {\n            return this.zeroAffine;\n        } else if (this.F.eq(z, this.F.one)) {\n            const buff = new Uint8Array(this.F.n8*2);\n            buff.set(x);\n            buff.set(y, this.F.n8);\n            return buff;\n        } else {\n            const buff = new Uint8Array(this.F.n8*3);\n            buff.set(x);\n            buff.set(y, this.F.n8);\n            buff.set(z, this.F.n8*2);\n            return buff;\n        }\n    }\n\n    e(a) {\n        if (a instanceof Uint8Array) return a;\n        return this.fromObject(a);\n    }\n\n    x(a) {\n        const tmp = this.toAffine(a);\n        return tmp.slice(0, this.F.n8);\n    }\n\n    y(a) {\n        const tmp = this.toAffine(a);\n        return tmp.slice(this.F.n8);\n    }\n\n}\n\n\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 9976, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/nisch/Desktop/Velocity-1/node_modules/r1csfile/node_modules/ffjavascript/src/threadman_thread.js"],"sourcesContent":["/* global WebAssembly */\n\nexport default function thread(self) {\n    const MAXMEM = 32767;\n    let instance;\n    let memory;\n\n    if (self) {\n        self.onmessage = function(e) {\n            let data;\n            if (e.data) {\n                data = e.data;\n            } else {\n                data = e;\n            }\n\n            if (data[0].cmd == \"INIT\") {\n                init(data[0]).then(function() {\n                    self.postMessage(data.result);\n                });\n            } else if (data[0].cmd == \"TERMINATE\") {\n                self.close();\n            } else {\n                const res = runTask(data);\n                self.postMessage(res);\n            }\n        };\n    }\n\n    async function init(data) {\n        const code = new Uint8Array(data.code);\n        const wasmModule = await WebAssembly.compile(code);\n        memory = new WebAssembly.Memory({initial:data.init, maximum: MAXMEM});\n\n        instance = await WebAssembly.instantiate(wasmModule, {\n            env: {\n                \"memory\": memory\n            }\n        });\n    }\n\n\n\n    function alloc(length) {\n        const u32 = new Uint32Array(memory.buffer, 0, 1);\n        while (u32[0] & 3) u32[0]++;  // Return always aligned pointers\n        const res = u32[0];\n        u32[0] += length;\n        if (u32[0] + length > memory.buffer.byteLength) {\n            const currentPages = memory.buffer.byteLength / 0x10000;\n            let requiredPages = Math.floor((u32[0] + length) / 0x10000)+1;\n            if (requiredPages>MAXMEM) requiredPages=MAXMEM;\n            memory.grow(requiredPages-currentPages);\n        }\n        return res;\n    }\n\n    function allocBuffer(buffer) {\n        const p = alloc(buffer.byteLength);\n        setBuffer(p, buffer);\n        return p;\n    }\n\n    function getBuffer(pointer, length) {\n        const u8 = new Uint8Array(memory.buffer);\n        return new Uint8Array(u8.buffer, u8.byteOffset + pointer, length);\n    }\n\n    function setBuffer(pointer, buffer) {\n        const u8 = new Uint8Array(memory.buffer);\n        u8.set(new Uint8Array(buffer), pointer);\n    }\n\n    function runTask(task) {\n        if (task[0].cmd == \"INIT\") {\n            return init(task[0]);\n        }\n        const ctx = {\n            vars: [],\n            out: []\n        };\n        const u32a = new Uint32Array(memory.buffer, 0, 1);\n        const oldAlloc = u32a[0];\n        for (let i=0; i<task.length; i++) {\n            switch (task[i].cmd) {\n            case \"ALLOCSET\":\n                ctx.vars[task[i].var] = allocBuffer(task[i].buff);\n                break;\n            case \"ALLOC\":\n                ctx.vars[task[i].var] = alloc(task[i].len);\n                break;\n            case \"SET\":\n                setBuffer(ctx.vars[task[i].var], task[i].buff);\n                break;\n            case \"CALL\": {\n                const params = [];\n                for (let j=0; j<task[i].params.length; j++) {\n                    const p = task[i].params[j];\n                    if (typeof p.var !== \"undefined\") {\n                        params.push(ctx.vars[p.var] + (p.offset || 0));\n                    } else if (typeof p.val != \"undefined\") {\n                        params.push(p.val);\n                    }\n                }\n                instance.exports[task[i].fnName](...params);\n                break;\n            }\n            case \"GET\":\n                ctx.out[task[i].out] = getBuffer(ctx.vars[task[i].var], task[i].len).slice();\n                break;\n            default:\n                throw new Error(\"Invalid cmd\");\n            }\n        }\n        const u32b = new Uint32Array(memory.buffer, 0, 1);\n        u32b[0] = oldAlloc;\n        return ctx.out;\n    }\n\n\n    return runTask;\n}\n"],"names":[],"mappings":"AAAA,sBAAsB;;;;AAEP,SAAS,OAAO,IAAI;IAC/B,MAAM,SAAS;IACf,IAAI;IACJ,IAAI;IAEJ,IAAI,MAAM;QACN,KAAK,SAAS,GAAG,SAAS,CAAC;YACvB,IAAI;YACJ,IAAI,EAAE,IAAI,EAAE;gBACR,OAAO,EAAE,IAAI;YACjB,OAAO;gBACH,OAAO;YACX;YAEA,IAAI,IAAI,CAAC,EAAE,CAAC,GAAG,IAAI,QAAQ;gBACvB,KAAK,IAAI,CAAC,EAAE,EAAE,IAAI,CAAC;oBACf,KAAK,WAAW,CAAC,KAAK,MAAM;gBAChC;YACJ,OAAO,IAAI,IAAI,CAAC,EAAE,CAAC,GAAG,IAAI,aAAa;gBACnC,KAAK,KAAK;YACd,OAAO;gBACH,MAAM,MAAM,QAAQ;gBACpB,KAAK,WAAW,CAAC;YACrB;QACJ;IACJ;IAEA,eAAe,KAAK,IAAI;QACpB,MAAM,OAAO,IAAI,WAAW,KAAK,IAAI;QACrC,MAAM,aAAa,MAAM,YAAY,OAAO,CAAC;QAC7C,SAAS,IAAI,YAAY,MAAM,CAAC;YAAC,SAAQ,KAAK,IAAI;YAAE,SAAS;QAAM;QAEnE,WAAW,MAAM,YAAY,WAAW,CAAC,YAAY;YACjD,KAAK;gBACD,UAAU;YACd;QACJ;IACJ;IAIA,SAAS,MAAM,MAAM;QACjB,MAAM,MAAM,IAAI,YAAY,OAAO,MAAM,EAAE,GAAG;QAC9C,MAAO,GAAG,CAAC,EAAE,GAAG,EAAG,GAAG,CAAC,EAAE,IAAK,iCAAiC;QAC/D,MAAM,MAAM,GAAG,CAAC,EAAE;QAClB,GAAG,CAAC,EAAE,IAAI;QACV,IAAI,GAAG,CAAC,EAAE,GAAG,SAAS,OAAO,MAAM,CAAC,UAAU,EAAE;YAC5C,MAAM,eAAe,OAAO,MAAM,CAAC,UAAU,GAAG;YAChD,IAAI,gBAAgB,KAAK,KAAK,CAAC,CAAC,GAAG,CAAC,EAAE,GAAG,MAAM,IAAI,WAAS;YAC5D,IAAI,gBAAc,QAAQ,gBAAc;YACxC,OAAO,IAAI,CAAC,gBAAc;QAC9B;QACA,OAAO;IACX;IAEA,SAAS,YAAY,MAAM;QACvB,MAAM,IAAI,MAAM,OAAO,UAAU;QACjC,UAAU,GAAG;QACb,OAAO;IACX;IAEA,SAAS,UAAU,OAAO,EAAE,MAAM;QAC9B,MAAM,KAAK,IAAI,WAAW,OAAO,MAAM;QACvC,OAAO,IAAI,WAAW,GAAG,MAAM,EAAE,GAAG,UAAU,GAAG,SAAS;IAC9D;IAEA,SAAS,UAAU,OAAO,EAAE,MAAM;QAC9B,MAAM,KAAK,IAAI,WAAW,OAAO,MAAM;QACvC,GAAG,GAAG,CAAC,IAAI,WAAW,SAAS;IACnC;IAEA,SAAS,QAAQ,IAAI;QACjB,IAAI,IAAI,CAAC,EAAE,CAAC,GAAG,IAAI,QAAQ;YACvB,OAAO,KAAK,IAAI,CAAC,EAAE;QACvB;QACA,MAAM,MAAM;YACR,MAAM,EAAE;YACR,KAAK,EAAE;QACX;QACA,MAAM,OAAO,IAAI,YAAY,OAAO,MAAM,EAAE,GAAG;QAC/C,MAAM,WAAW,IAAI,CAAC,EAAE;QACxB,IAAK,IAAI,IAAE,GAAG,IAAE,KAAK,MAAM,EAAE,IAAK;YAC9B,OAAQ,IAAI,CAAC,EAAE,CAAC,GAAG;gBACnB,KAAK;oBACD,IAAI,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,GAAG,CAAC,GAAG,YAAY,IAAI,CAAC,EAAE,CAAC,IAAI;oBAChD;gBACJ,KAAK;oBACD,IAAI,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,GAAG,CAAC,GAAG,MAAM,IAAI,CAAC,EAAE,CAAC,GAAG;oBACzC;gBACJ,KAAK;oBACD,UAAU,IAAI,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,IAAI,CAAC,EAAE,CAAC,IAAI;oBAC7C;gBACJ,KAAK;oBAAQ;wBACT,MAAM,SAAS,EAAE;wBACjB,IAAK,IAAI,IAAE,GAAG,IAAE,IAAI,CAAC,EAAE,CAAC,MAAM,CAAC,MAAM,EAAE,IAAK;4BACxC,MAAM,IAAI,IAAI,CAAC,EAAE,CAAC,MAAM,CAAC,EAAE;4BAC3B,IAAI,OAAO,EAAE,GAAG,KAAK,aAAa;gCAC9B,OAAO,IAAI,CAAC,IAAI,IAAI,CAAC,EAAE,GAAG,CAAC,GAAG,CAAC,EAAE,MAAM,IAAI,CAAC;4BAChD,OAAO,IAAI,OAAO,EAAE,GAAG,IAAI,aAAa;gCACpC,OAAO,IAAI,CAAC,EAAE,GAAG;4BACrB;wBACJ;wBACA,SAAS,OAAO,CAAC,IAAI,CAAC,EAAE,CAAC,MAAM,CAAC,IAAI;wBACpC;oBACJ;gBACA,KAAK;oBACD,IAAI,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,GAAG,CAAC,GAAG,UAAU,IAAI,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,IAAI,CAAC,EAAE,CAAC,GAAG,EAAE,KAAK;oBAC1E;gBACJ;oBACI,MAAM,IAAI,MAAM;YACpB;QACJ;QACA,MAAM,OAAO,IAAI,YAAY,OAAO,MAAM,EAAE,GAAG;QAC/C,IAAI,CAAC,EAAE,GAAG;QACV,OAAO,IAAI,GAAG;IAClB;IAGA,OAAO;AACX","ignoreList":[0]}},
    {"offset": {"line": 10095, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/nisch/Desktop/Velocity-1/node_modules/r1csfile/node_modules/ffjavascript/src/threadman.js"],"sourcesContent":["/*\n    Copyright 2019 0KIMS association.\n\n    This file is part of wasmsnark (Web Assembly zkSnark Prover).\n\n    wasmsnark is a free software: you can redistribute it and/or modify it\n    under the terms of the GNU General Public License as published by\n    the Free Software Foundation, either version 3 of the License, or\n    (at your option) any later version.\n\n    wasmsnark is distributed in the hope that it will be useful, but WITHOUT\n    ANY WARRANTY; without even the implied warranty of MERCHANTABILITY\n    or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public\n    License for more details.\n\n    You should have received a copy of the GNU General Public License\n    along with wasmsnark. If not, see <https://www.gnu.org/licenses/>.\n*/\n\n// const MEM_SIZE = 1000;  // Memory size in 64K Pakes (512Mb)\nconst MEM_SIZE = 25;  // Memory size in 64K Pakes (1600Kb)\n\n\nimport thread from \"./threadman_thread.js\";\nimport os from \"os\";\nimport Worker from \"web-worker\";\n\nclass Deferred {\n    constructor() {\n        this.promise = new Promise((resolve, reject)=> {\n            this.reject = reject;\n            this.resolve = resolve;\n        });\n    }\n}\n\nfunction sleep(ms) {\n    return new Promise(resolve => setTimeout(resolve, ms));\n}\n\nlet workerSource;\n\nconst threadStr = `(${thread.toString()})(self)`;\nif(process.browser) {\n    if(globalThis?.Blob) {\n        const threadBytes= new TextEncoder().encode(threadStr);\n        const workerBlob = new Blob([threadBytes], { type: \"application/javascript\" }) ;\n        workerSource = URL.createObjectURL(workerBlob);\n    } else {\n        workerSource = \"data:application/javascript;base64,\" + globalThis.btoa(threadStr);\n    }\n} else {  \n    workerSource = \"data:application/javascript;base64,\" + Buffer.from(threadStr).toString(\"base64\");\n}\n\n\n\nexport default async function buildThreadManager(wasm, singleThread) {\n    const tm = new ThreadManager();\n\n    tm.memory = new WebAssembly.Memory({initial:MEM_SIZE});\n    tm.u8 = new Uint8Array(tm.memory.buffer);\n    tm.u32 = new Uint32Array(tm.memory.buffer);\n\n    const wasmModule = await WebAssembly.compile(wasm.code);\n\n    tm.instance = await WebAssembly.instantiate(wasmModule, {\n        env: {\n            \"memory\": tm.memory\n        }\n    });\n    \n    if(process.browser && !globalThis?.Worker) {\n        singleThread = true;\n    }\n    \n    tm.singleThread = singleThread;\n    tm.initalPFree = tm.u32[0];   // Save the Pointer to free space.\n    tm.pq = wasm.pq;\n    tm.pr = wasm.pr;\n    tm.pG1gen = wasm.pG1gen;\n    tm.pG1zero = wasm.pG1zero;\n    tm.pG2gen = wasm.pG2gen;\n    tm.pG2zero = wasm.pG2zero;\n    tm.pOneT = wasm.pOneT;\n\n    //    tm.pTmp0 = tm.alloc(curve.G2.F.n8*3);\n    //    tm.pTmp1 = tm.alloc(curve.G2.F.n8*3);\n\n    if (singleThread) {\n        tm.code = wasm.code;\n        tm.taskManager = thread();\n        await tm.taskManager([{\n            cmd: \"INIT\",\n            init: MEM_SIZE,\n            code: tm.code.slice()\n        }]);\n        tm.concurrency  = 1;\n    } else {\n        tm.workers = [];\n        tm.pendingDeferreds = [];\n        tm.working = [];\n\n        let concurrency = 2;\n        if (process.browser) {\n            if (typeof navigator === \"object\" && navigator.hardwareConcurrency) {\n                concurrency = navigator.hardwareConcurrency;\n            }\n        } else {\n            concurrency = os.cpus().length;\n        }\n\n        if(concurrency == 0){\n            concurrency = 2;\n        }\n\n        // Limit to 64 threads for memory reasons.\n        if (concurrency>64) concurrency=64;\n        tm.concurrency = concurrency;\n\n        for (let i = 0; i<concurrency; i++) {\n\n            tm.workers[i] = new Worker(workerSource);\n\n            tm.workers[i].addEventListener(\"message\", getOnMsg(i));\n\n            tm.working[i]=false;\n        }\n\n        const initPromises = [];\n        for (let i=0; i<tm.workers.length;i++) {\n            const copyCode = wasm.code.slice();\n            initPromises.push(tm.postAction(i, [{\n                cmd: \"INIT\",\n                init: MEM_SIZE,\n                code: copyCode\n            }], [copyCode.buffer]));\n        }\n\n        await Promise.all(initPromises);\n\n    }\n    return tm;\n\n    function getOnMsg(i) {\n        return function(e) {\n            let data;\n            if ((e)&&(e.data)) {\n                data = e.data;\n            } else {\n                data = e;\n            }\n\n            tm.working[i]=false;\n            tm.pendingDeferreds[i].resolve(data);\n            tm.processWorks();\n        };\n    }\n\n}\n\nexport class ThreadManager {\n    constructor() {\n        this.actionQueue = [];\n        this.oldPFree = 0;\n    }\n\n    startSyncOp() {\n        if (this.oldPFree != 0) throw new Error(\"Sync operation in progress\");\n        this.oldPFree = this.u32[0];\n    }\n\n    endSyncOp() {\n        if (this.oldPFree == 0) throw new Error(\"No sync operation in progress\");\n        this.u32[0] = this.oldPFree;\n        this.oldPFree = 0;\n    }\n\n    postAction(workerId, e, transfers, _deferred) {\n        if (this.working[workerId]) {\n            throw new Error(\"Posting a job t a working worker\");\n        }\n        this.working[workerId] = true;\n\n        this.pendingDeferreds[workerId] = _deferred ? _deferred : new Deferred();\n        this.workers[workerId].postMessage(e, transfers);\n\n        return this.pendingDeferreds[workerId].promise;\n    }\n\n    processWorks() {\n        for (let i=0; (i<this.workers.length)&&(this.actionQueue.length > 0); i++) {\n            if (this.working[i] == false) {\n                const work = this.actionQueue.shift();\n                this.postAction(i, work.data, work.transfers, work.deferred);\n            }\n        }\n    }\n\n    queueAction(actionData, transfers) {\n        const d = new Deferred();\n\n        if (this.singleThread) {\n            const res = this.taskManager(actionData);\n            d.resolve(res);\n        } else {\n            this.actionQueue.push({\n                data: actionData,\n                transfers: transfers,\n                deferred: d\n            });\n            this.processWorks();\n        }\n        return d.promise;\n    }\n\n    resetMemory() {\n        this.u32[0] = this.initalPFree;\n    }\n\n    allocBuff(buff) {\n        const pointer = this.alloc(buff.byteLength);\n        this.setBuff(pointer, buff);\n        return pointer;\n    }\n\n    getBuff(pointer, length) {\n        return this.u8.slice(pointer, pointer+ length);\n    }\n\n    setBuff(pointer, buffer) {\n        this.u8.set(new Uint8Array(buffer), pointer);\n    }\n\n    alloc(length) {\n        while (this.u32[0] & 3) this.u32[0]++;  // Return always aligned pointers\n        const res = this.u32[0];\n        this.u32[0] += length;\n        return res;\n    }\n\n    async terminate() {\n        for (let i=0; i<this.workers.length; i++) {\n            this.workers[i].postMessage([{cmd: \"TERMINATE\"}]);\n        }\n        await sleep(200);\n    }\n\n}\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 10316, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/nisch/Desktop/Velocity-1/node_modules/r1csfile/node_modules/ffjavascript/src/engine_applykey.js"],"sourcesContent":["import BigBuffer from \"./bigbuffer.js\";\n\nexport default function buildBatchApplyKey(curve, groupName) {\n    const G = curve[groupName];\n    const Fr = curve.Fr;\n    const tm = curve.tm;\n\n    curve[groupName].batchApplyKey = async function(buff, first, inc, inType, outType) {\n        inType = inType || \"affine\";\n        outType = outType || \"affine\";\n        let fnName, fnAffine;\n        let sGin, sGmid, sGout;\n        if (groupName == \"G1\") {\n            if (inType == \"jacobian\") {\n                sGin = G.F.n8*3;\n                fnName = \"g1m_batchApplyKey\";\n            } else {\n                sGin = G.F.n8*2;\n                fnName = \"g1m_batchApplyKeyMixed\";\n            }\n            sGmid = G.F.n8*3;\n            if (outType == \"jacobian\") {\n                sGout = G.F.n8*3;\n            } else {\n                fnAffine = \"g1m_batchToAffine\";\n                sGout = G.F.n8*2;\n            }\n        } else if (groupName == \"G2\") {\n            if (inType == \"jacobian\") {\n                sGin = G.F.n8*3;\n                fnName = \"g2m_batchApplyKey\";\n            } else {\n                sGin = G.F.n8*2;\n                fnName = \"g2m_batchApplyKeyMixed\";\n            }\n            sGmid = G.F.n8*3;\n            if (outType == \"jacobian\") {\n                sGout = G.F.n8*3;\n            } else {\n                fnAffine = \"g2m_batchToAffine\";\n                sGout = G.F.n8*2;\n            }\n        } else if (groupName == \"Fr\") {\n            fnName = \"frm_batchApplyKey\";\n            sGin = G.n8;\n            sGmid = G.n8;\n            sGout = G.n8;\n        } else {\n            throw new Error(\"Invalid group: \" + groupName);\n        }\n        const nPoints = Math.floor(buff.byteLength / sGin);\n        const pointsPerChunk = Math.floor(nPoints/tm.concurrency);\n        const opPromises = [];\n        inc = Fr.e(inc);\n        let t = Fr.e(first);\n        for (let i=0; i<tm.concurrency; i++) {\n            let n;\n            if (i< tm.concurrency-1) {\n                n = pointsPerChunk;\n            } else {\n                n = nPoints - i*pointsPerChunk;\n            }\n            if (n==0) continue;\n\n            const task = [];\n\n            task.push({\n                cmd: \"ALLOCSET\",\n                var: 0,\n                buff: buff.slice(i*pointsPerChunk*sGin, i*pointsPerChunk*sGin + n*sGin)\n            });\n            task.push({cmd: \"ALLOCSET\", var: 1, buff: t});\n            task.push({cmd: \"ALLOCSET\", var: 2, buff: inc});\n            task.push({cmd: \"ALLOC\", var: 3, len: n*Math.max(sGmid, sGout)});\n            task.push({\n                cmd: \"CALL\",\n                fnName: fnName,\n                params: [\n                    {var: 0},\n                    {val: n},\n                    {var: 1},\n                    {var: 2},\n                    {var:3}\n                ]\n            });\n            if (fnAffine) {\n                task.push({\n                    cmd: \"CALL\",\n                    fnName: fnAffine,\n                    params: [\n                        {var: 3},\n                        {val: n},\n                        {var: 3},\n                    ]\n                });\n            }\n            task.push({cmd: \"GET\", out: 0, var: 3, len: n*sGout});\n\n            opPromises.push(tm.queueAction(task));\n            t = Fr.mul(t, Fr.exp(inc, n));\n        }\n\n        const result = await Promise.all(opPromises);\n\n        let outBuff;\n        if (buff instanceof BigBuffer) {\n            outBuff = new BigBuffer(nPoints*sGout);\n        } else {\n            outBuff = new Uint8Array(nPoints*sGout);\n        }\n\n        let p=0;\n        for (let i=0; i<result.length; i++) {\n            outBuff.set(result[i][0], p);\n            p += result[i][0].byteLength;\n        }\n\n        return outBuff;\n    };\n}\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 10469, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/nisch/Desktop/Velocity-1/node_modules/r1csfile/node_modules/ffjavascript/src/engine_pairing.js"],"sourcesContent":["\nexport default function buildPairing(curve) {\n    const tm = curve.tm;\n    curve.pairing = function pairing(a, b) {\n\n        tm.startSyncOp();\n        const pA = tm.allocBuff(curve.G1.toJacobian(a));\n        const pB = tm.allocBuff(curve.G2.toJacobian(b));\n        const pRes = tm.alloc(curve.Gt.n8);\n        tm.instance.exports[curve.name + \"_pairing\"](pA, pB, pRes);\n\n        const res = tm.getBuff(pRes, curve.Gt.n8);\n\n        tm.endSyncOp();\n        return res;\n    };\n\n    curve.pairingEq = async function pairingEq() {\n        let  buffCt;\n        let nEqs;\n        if ((arguments.length % 2) == 1) {\n            buffCt = arguments[arguments.length-1];\n            nEqs = (arguments.length -1) /2;\n        } else {\n            buffCt = curve.Gt.one;\n            nEqs = arguments.length /2;\n        }\n\n        const opPromises = [];\n        for (let i=0; i<nEqs; i++) {\n\n            const task = [];\n\n            const g1Buff = curve.G1.toJacobian(arguments[i*2]);\n            task.push({cmd: \"ALLOCSET\", var: 0, buff: g1Buff});\n            task.push({cmd: \"ALLOC\", var: 1, len: curve.prePSize});\n\n            const g2Buff = curve.G2.toJacobian(arguments[i*2 +1]);\n            task.push({cmd: \"ALLOCSET\", var: 2, buff: g2Buff});\n            task.push({cmd: \"ALLOC\", var: 3, len: curve.preQSize});\n\n            task.push({cmd: \"ALLOC\", var: 4, len: curve.Gt.n8});\n\n            task.push({cmd: \"CALL\", fnName: curve.name + \"_prepareG1\", params: [\n                {var: 0},\n                {var: 1}\n            ]});\n\n            task.push({cmd: \"CALL\", fnName: curve.name + \"_prepareG2\", params: [\n                {var: 2},\n                {var: 3}\n            ]});\n\n            task.push({cmd: \"CALL\", fnName: curve.name + \"_millerLoop\", params: [\n                {var: 1},\n                {var: 3},\n                {var: 4}\n            ]});\n\n            task.push({cmd: \"GET\", out: 0, var: 4, len: curve.Gt.n8});\n\n            opPromises.push(\n                tm.queueAction(task)\n            );\n        }\n\n\n        const result = await Promise.all(opPromises);\n\n        tm.startSyncOp();\n        const pRes = tm.alloc(curve.Gt.n8);\n        tm.instance.exports.ftm_one(pRes);\n\n        for (let i=0; i<result.length; i++) {\n            const pMR = tm.allocBuff(result[i][0]);\n            tm.instance.exports.ftm_mul(pRes, pMR, pRes);\n        }\n        tm.instance.exports[curve.name + \"_finalExponentiation\"](pRes, pRes);\n\n        const pCt = tm.allocBuff(buffCt);\n\n        const r = !!tm.instance.exports.ftm_eq(pRes, pCt);\n\n        tm.endSyncOp();\n\n        return r;\n    };\n\n    curve.prepareG1 = function(p) {\n        this.tm.startSyncOp();\n        const pP = this.tm.allocBuff(p);\n        const pPrepP = this.tm.alloc(this.prePSize);\n        this.tm.instance.exports[this.name + \"_prepareG1\"](pP, pPrepP);\n        const res = this.tm.getBuff(pPrepP, this.prePSize);\n        this.tm.endSyncOp();\n        return res;\n    };\n\n    curve.prepareG2 = function(q) {\n        this.tm.startSyncOp();\n        const pQ = this.tm.allocBuff(q);\n        const pPrepQ = this.tm.alloc(this.preQSize);\n        this.tm.instance.exports[this.name + \"_prepareG2\"](pQ, pPrepQ);\n        const res = this.tm.getBuff(pPrepQ, this.preQSize);\n        this.tm.endSyncOp();\n        return res;\n    };\n\n    curve.millerLoop = function(preP, preQ) {\n        this.tm.startSyncOp();\n        const pPreP = this.tm.allocBuff(preP);\n        const pPreQ = this.tm.allocBuff(preQ);\n        const pRes = this.tm.alloc(this.Gt.n8);\n        this.tm.instance.exports[this.name + \"_millerLoop\"](pPreP, pPreQ, pRes);\n        const res = this.tm.getBuff(pRes, this.Gt.n8);\n        this.tm.endSyncOp();\n        return res;\n    };\n\n    curve.finalExponentiation = function(a) {\n        this.tm.startSyncOp();\n        const pA = this.tm.allocBuff(a);\n        const pRes = this.tm.alloc(this.Gt.n8);\n        this.tm.instance.exports[this.name + \"_finalExponentiation\"](pA, pRes);\n        const res = this.tm.getBuff(pRes, this.Gt.n8);\n        this.tm.endSyncOp();\n        return res;\n    };\n\n}\n"],"names":[],"mappings":";;;;AACe,SAAS,aAAa,KAAK;IACtC,MAAM,KAAK,MAAM,EAAE;IACnB,MAAM,OAAO,GAAG,SAAS,QAAQ,CAAC,EAAE,CAAC;QAEjC,GAAG,WAAW;QACd,MAAM,KAAK,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,UAAU,CAAC;QAC5C,MAAM,KAAK,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,UAAU,CAAC;QAC5C,MAAM,OAAO,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE;QACjC,GAAG,QAAQ,CAAC,OAAO,CAAC,MAAM,IAAI,GAAG,WAAW,CAAC,IAAI,IAAI;QAErD,MAAM,MAAM,GAAG,OAAO,CAAC,MAAM,MAAM,EAAE,CAAC,EAAE;QAExC,GAAG,SAAS;QACZ,OAAO;IACX;IAEA,MAAM,SAAS,GAAG,eAAe;QAC7B,IAAK;QACL,IAAI;QACJ,IAAI,AAAC,UAAU,MAAM,GAAG,KAAM,GAAG;YAC7B,SAAS,SAAS,CAAC,UAAU,MAAM,GAAC,EAAE;YACtC,OAAO,CAAC,UAAU,MAAM,GAAE,CAAC,IAAG;QAClC,OAAO;YACH,SAAS,MAAM,EAAE,CAAC,GAAG;YACrB,OAAO,UAAU,MAAM,GAAE;QAC7B;QAEA,MAAM,aAAa,EAAE;QACrB,IAAK,IAAI,IAAE,GAAG,IAAE,MAAM,IAAK;YAEvB,MAAM,OAAO,EAAE;YAEf,MAAM,SAAS,MAAM,EAAE,CAAC,UAAU,CAAC,SAAS,CAAC,IAAE,EAAE;YACjD,KAAK,IAAI,CAAC;gBAAC,KAAK;gBAAY,KAAK;gBAAG,MAAM;YAAM;YAChD,KAAK,IAAI,CAAC;gBAAC,KAAK;gBAAS,KAAK;gBAAG,KAAK,MAAM,QAAQ;YAAA;YAEpD,MAAM,SAAS,MAAM,EAAE,CAAC,UAAU,CAAC,SAAS,CAAC,IAAE,IAAG,EAAE;YACpD,KAAK,IAAI,CAAC;gBAAC,KAAK;gBAAY,KAAK;gBAAG,MAAM;YAAM;YAChD,KAAK,IAAI,CAAC;gBAAC,KAAK;gBAAS,KAAK;gBAAG,KAAK,MAAM,QAAQ;YAAA;YAEpD,KAAK,IAAI,CAAC;gBAAC,KAAK;gBAAS,KAAK;gBAAG,KAAK,MAAM,EAAE,CAAC,EAAE;YAAA;YAEjD,KAAK,IAAI,CAAC;gBAAC,KAAK;gBAAQ,QAAQ,MAAM,IAAI,GAAG;gBAAc,QAAQ;oBAC/D;wBAAC,KAAK;oBAAC;oBACP;wBAAC,KAAK;oBAAC;iBACV;YAAA;YAED,KAAK,IAAI,CAAC;gBAAC,KAAK;gBAAQ,QAAQ,MAAM,IAAI,GAAG;gBAAc,QAAQ;oBAC/D;wBAAC,KAAK;oBAAC;oBACP;wBAAC,KAAK;oBAAC;iBACV;YAAA;YAED,KAAK,IAAI,CAAC;gBAAC,KAAK;gBAAQ,QAAQ,MAAM,IAAI,GAAG;gBAAe,QAAQ;oBAChE;wBAAC,KAAK;oBAAC;oBACP;wBAAC,KAAK;oBAAC;oBACP;wBAAC,KAAK;oBAAC;iBACV;YAAA;YAED,KAAK,IAAI,CAAC;gBAAC,KAAK;gBAAO,KAAK;gBAAG,KAAK;gBAAG,KAAK,MAAM,EAAE,CAAC,EAAE;YAAA;YAEvD,WAAW,IAAI,CACX,GAAG,WAAW,CAAC;QAEvB;QAGA,MAAM,SAAS,MAAM,QAAQ,GAAG,CAAC;QAEjC,GAAG,WAAW;QACd,MAAM,OAAO,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE;QACjC,GAAG,QAAQ,CAAC,OAAO,CAAC,OAAO,CAAC;QAE5B,IAAK,IAAI,IAAE,GAAG,IAAE,OAAO,MAAM,EAAE,IAAK;YAChC,MAAM,MAAM,GAAG,SAAS,CAAC,MAAM,CAAC,EAAE,CAAC,EAAE;YACrC,GAAG,QAAQ,CAAC,OAAO,CAAC,OAAO,CAAC,MAAM,KAAK;QAC3C;QACA,GAAG,QAAQ,CAAC,OAAO,CAAC,MAAM,IAAI,GAAG,uBAAuB,CAAC,MAAM;QAE/D,MAAM,MAAM,GAAG,SAAS,CAAC;QAEzB,MAAM,IAAI,CAAC,CAAC,GAAG,QAAQ,CAAC,OAAO,CAAC,MAAM,CAAC,MAAM;QAE7C,GAAG,SAAS;QAEZ,OAAO;IACX;IAEA,MAAM,SAAS,GAAG,SAAS,CAAC;QACxB,IAAI,CAAC,EAAE,CAAC,WAAW;QACnB,MAAM,KAAK,IAAI,CAAC,EAAE,CAAC,SAAS,CAAC;QAC7B,MAAM,SAAS,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,QAAQ;QAC1C,IAAI,CAAC,EAAE,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,GAAG,aAAa,CAAC,IAAI;QACvD,MAAM,MAAM,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,QAAQ,IAAI,CAAC,QAAQ;QACjD,IAAI,CAAC,EAAE,CAAC,SAAS;QACjB,OAAO;IACX;IAEA,MAAM,SAAS,GAAG,SAAS,CAAC;QACxB,IAAI,CAAC,EAAE,CAAC,WAAW;QACnB,MAAM,KAAK,IAAI,CAAC,EAAE,CAAC,SAAS,CAAC;QAC7B,MAAM,SAAS,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,QAAQ;QAC1C,IAAI,CAAC,EAAE,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,GAAG,aAAa,CAAC,IAAI;QACvD,MAAM,MAAM,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,QAAQ,IAAI,CAAC,QAAQ;QACjD,IAAI,CAAC,EAAE,CAAC,SAAS;QACjB,OAAO;IACX;IAEA,MAAM,UAAU,GAAG,SAAS,IAAI,EAAE,IAAI;QAClC,IAAI,CAAC,EAAE,CAAC,WAAW;QACnB,MAAM,QAAQ,IAAI,CAAC,EAAE,CAAC,SAAS,CAAC;QAChC,MAAM,QAAQ,IAAI,CAAC,EAAE,CAAC,SAAS,CAAC;QAChC,MAAM,OAAO,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE;QACrC,IAAI,CAAC,EAAE,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,GAAG,cAAc,CAAC,OAAO,OAAO;QAClE,MAAM,MAAM,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,MAAM,IAAI,CAAC,EAAE,CAAC,EAAE;QAC5C,IAAI,CAAC,EAAE,CAAC,SAAS;QACjB,OAAO;IACX;IAEA,MAAM,mBAAmB,GAAG,SAAS,CAAC;QAClC,IAAI,CAAC,EAAE,CAAC,WAAW;QACnB,MAAM,KAAK,IAAI,CAAC,EAAE,CAAC,SAAS,CAAC;QAC7B,MAAM,OAAO,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE;QACrC,IAAI,CAAC,EAAE,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,GAAG,uBAAuB,CAAC,IAAI;QACjE,MAAM,MAAM,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,MAAM,IAAI,CAAC,EAAE,CAAC,EAAE;QAC5C,IAAI,CAAC,EAAE,CAAC,SAAS;QACjB,OAAO;IACX;AAEJ","ignoreList":[0]}},
    {"offset": {"line": 10628, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/nisch/Desktop/Velocity-1/node_modules/r1csfile/node_modules/ffjavascript/src/engine_multiexp.js"],"sourcesContent":["import { log2 } from \"./utils.js\";\n\nconst pTSizes = [\n    1 ,  1,  1,  1,    2,  3,  4,  5,\n    6 ,  7,  7,  8,    9, 10, 11, 12,\n    13, 13, 14, 15,   16, 16, 17, 17,\n    17, 17, 17, 17,   17, 17, 17, 17\n];\n\nexport default function buildMultiexp(curve, groupName) {\n    const G = curve[groupName];\n    const tm = G.tm;\n    async function _multiExpChunk(buffBases, buffScalars, inType, logger, logText) {\n        if ( ! (buffBases instanceof Uint8Array) ) {\n            if (logger) logger.error(`${logText} _multiExpChunk buffBases is not Uint8Array`);\n            throw new Error(`${logText} _multiExpChunk buffBases is not Uint8Array`);\n        }\n        if ( ! (buffScalars instanceof Uint8Array) ) {\n            if (logger) logger.error(`${logText} _multiExpChunk buffScalars is not Uint8Array`);\n            throw new Error(`${logText} _multiExpChunk buffScalars is not Uint8Array`);\n        }\n        inType = inType || \"affine\";\n\n        let sGIn;\n        let fnName;\n        if (groupName == \"G1\") {\n            if (inType == \"affine\") {\n                fnName = \"g1m_multiexpAffine_chunk\";\n                sGIn = G.F.n8*2;\n            } else {\n                fnName = \"g1m_multiexp_chunk\";\n                sGIn = G.F.n8*3;\n            }\n        } else if (groupName == \"G2\") {\n            if (inType == \"affine\") {\n                fnName = \"g2m_multiexpAffine_chunk\";\n                sGIn = G.F.n8*2;\n            } else {\n                fnName = \"g2m_multiexp_chunk\";\n                sGIn = G.F.n8*3;\n            }\n        } else {\n            throw new Error(\"Invalid group\");\n        }\n        const nPoints = Math.floor(buffBases.byteLength / sGIn);\n\n        if (nPoints == 0) return G.zero;\n        const sScalar = Math.floor(buffScalars.byteLength / nPoints);\n        if( sScalar * nPoints != buffScalars.byteLength) {\n            throw new Error(\"Scalar size does not match\");\n        }\n\n        const bitChunkSize = pTSizes[log2(nPoints)];\n        const nChunks = Math.floor((sScalar*8 - 1) / bitChunkSize) +1;\n\n        const opPromises = [];\n        for (let i=0; i<nChunks; i++) {\n            const task = [\n                {cmd: \"ALLOCSET\", var: 0, buff: buffBases},\n                {cmd: \"ALLOCSET\", var: 1, buff: buffScalars},\n                {cmd: \"ALLOC\", var: 2, len: G.F.n8*3},\n                {cmd: \"CALL\", fnName: fnName, params: [\n                    {var: 0},\n                    {var: 1},\n                    {val: sScalar},\n                    {val: nPoints},\n                    {val: i*bitChunkSize},\n                    {val: Math.min(sScalar*8 - i*bitChunkSize, bitChunkSize)},\n                    {var: 2}\n                ]},\n                {cmd: \"GET\", out: 0, var: 2, len: G.F.n8*3}\n            ];\n            opPromises.push(\n                G.tm.queueAction(task)\n            );\n        }\n\n        const result = await Promise.all(opPromises);\n\n        let res = G.zero;\n        for (let i=result.length-1; i>=0; i--) {\n            if (!G.isZero(res)) {\n                for (let j=0; j<bitChunkSize; j++) res = G.double(res);\n            }\n            res = G.add(res, result[i][0]);\n        }\n\n        return res;\n    }\n\n    async function _multiExp(buffBases, buffScalars, inType, logger, logText) {\n        const MAX_CHUNK_SIZE = 1 << 22;\n        const MIN_CHUNK_SIZE = 1 << 10;\n        let sGIn;\n\n        if (groupName == \"G1\") {\n            if (inType == \"affine\") {\n                sGIn = G.F.n8*2;\n            } else {\n                sGIn = G.F.n8*3;\n            }\n        } else if (groupName == \"G2\") {\n            if (inType == \"affine\") {\n                sGIn = G.F.n8*2;\n            } else {\n                sGIn = G.F.n8*3;\n            }\n        } else {\n            throw new Error(\"Invalid group\");\n        }\n\n        const nPoints = Math.floor(buffBases.byteLength / sGIn);\n        const sScalar = Math.floor(buffScalars.byteLength / nPoints);\n        if( sScalar * nPoints != buffScalars.byteLength) {\n            throw new Error(\"Scalar size does not match\");\n        }\n\n        const bitChunkSize = pTSizes[log2(nPoints)];\n        const nChunks = Math.floor((sScalar*8 - 1) / bitChunkSize) +1;\n\n        let chunkSize;\n        chunkSize = Math.floor(nPoints / (tm.concurrency /nChunks));\n        if (chunkSize>MAX_CHUNK_SIZE) chunkSize = MAX_CHUNK_SIZE;\n        if (chunkSize<MIN_CHUNK_SIZE) chunkSize = MIN_CHUNK_SIZE;\n\n        const opPromises = [];\n        for (let i=0; i<nPoints; i += chunkSize) {\n            if (logger) logger.debug(`Multiexp start: ${logText}: ${i}/${nPoints}`);\n            const n= Math.min(nPoints - i, chunkSize);\n            const buffBasesChunk = buffBases.slice(i*sGIn, (i+n)*sGIn);\n            const buffScalarsChunk = buffScalars.slice(i*sScalar, (i+n)*sScalar);\n            opPromises.push(_multiExpChunk(buffBasesChunk, buffScalarsChunk, inType, logger, logText).then( (r) => {\n                if (logger) logger.debug(`Multiexp end: ${logText}: ${i}/${nPoints}`);\n                return r;\n            }));\n        }\n\n        const result = await Promise.all(opPromises);\n\n        let res = G.zero;\n        for (let i=result.length-1; i>=0; i--) {\n            res = G.add(res, result[i]);\n        }\n\n        return res;\n    }\n\n    G.multiExp = async function multiExpAffine(buffBases, buffScalars, logger, logText) {\n        return await _multiExp(buffBases, buffScalars, \"jacobian\", logger, logText);\n    };\n    G.multiExpAffine = async function multiExpAffine(buffBases, buffScalars, logger, logText) {\n        return await _multiExp(buffBases, buffScalars, \"affine\", logger, logText);\n    };\n}\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 10833, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/nisch/Desktop/Velocity-1/node_modules/r1csfile/node_modules/ffjavascript/src/engine_fft.js"],"sourcesContent":["import {log2, buffReverseBits, array2buffer, buffer2array} from \"./utils.js\";\nimport BigBuffer from \"./bigbuffer.js\";\n\n\nexport default function buildFFT(curve, groupName) {\n    const G = curve[groupName];\n    const Fr = curve.Fr;\n    const tm = G.tm;\n    async function _fft(buff, inverse, inType, outType, logger, loggerTxt) {\n\n        inType = inType || \"affine\";\n        outType = outType || \"affine\";\n        const MAX_BITS_THREAD = 14;\n\n        let sIn, sMid, sOut, fnIn2Mid, fnMid2Out, fnFFTMix, fnFFTJoin, fnFFTFinal;\n        if (groupName == \"G1\") {\n            if (inType == \"affine\") {\n                sIn = G.F.n8*2;\n                fnIn2Mid = \"g1m_batchToJacobian\";\n            } else {\n                sIn = G.F.n8*3;\n            }\n            sMid = G.F.n8*3;\n            if (inverse) {\n                fnFFTFinal = \"g1m_fftFinal\";\n            }\n            fnFFTJoin = \"g1m_fftJoin\";\n            fnFFTMix = \"g1m_fftMix\";\n\n            if (outType == \"affine\") {\n                sOut = G.F.n8*2;\n                fnMid2Out = \"g1m_batchToAffine\";\n            } else {\n                sOut = G.F.n8*3;\n            }\n\n        } else if (groupName == \"G2\") {\n            if (inType == \"affine\") {\n                sIn = G.F.n8*2;\n                fnIn2Mid = \"g2m_batchToJacobian\";\n            } else {\n                sIn = G.F.n8*3;\n            }\n            sMid = G.F.n8*3;\n            if (inverse) {\n                fnFFTFinal = \"g2m_fftFinal\";\n            }\n            fnFFTJoin = \"g2m_fftJoin\";\n            fnFFTMix = \"g2m_fftMix\";\n            if (outType == \"affine\") {\n                sOut = G.F.n8*2;\n                fnMid2Out = \"g2m_batchToAffine\";\n            } else {\n                sOut = G.F.n8*3;\n            }\n        } else if (groupName == \"Fr\") {\n            sIn = G.n8;\n            sMid = G.n8;\n            sOut = G.n8;\n            if (inverse) {\n                fnFFTFinal = \"frm_fftFinal\";\n            }\n            fnFFTMix = \"frm_fftMix\";\n            fnFFTJoin = \"frm_fftJoin\";\n        }\n\n\n        let returnArray = false;\n        if (Array.isArray(buff)) {\n            buff = array2buffer(buff, sIn);\n            returnArray = true;\n        } else {\n            buff = buff.slice(0, buff.byteLength);\n        }\n\n        const nPoints = buff.byteLength / sIn;\n        const bits = log2(nPoints);\n\n        if  ((1 << bits) != nPoints) {\n            throw new Error(\"fft must be multiple of 2\" );\n        }\n\n        if (bits == Fr.s +1) {\n            let buffOut;\n\n            if (inverse) {\n                buffOut =  await _fftExtInv(buff, inType, outType, logger, loggerTxt);\n            } else {\n                buffOut =  await _fftExt(buff, inType, outType, logger, loggerTxt);\n            }\n\n            if (returnArray) {\n                return buffer2array(buffOut, sOut);\n            } else {\n                return buffOut;\n            }\n        }\n\n        let inv;\n        if (inverse) {\n            inv = Fr.inv(Fr.e(nPoints));\n        }\n\n        let buffOut;\n\n        buffReverseBits(buff, sIn);\n\n        let chunks;\n        let pointsInChunk = Math.min(1 << MAX_BITS_THREAD, nPoints);\n        let nChunks = nPoints / pointsInChunk;\n\n        while ((nChunks < tm.concurrency)&&(pointsInChunk>=16)) {\n            nChunks *= 2;\n            pointsInChunk /= 2;\n        }\n\n        const l2Chunk = log2(pointsInChunk);\n\n        const promises = [];\n        for (let i = 0; i< nChunks; i++) {\n            if (logger) logger.debug(`${loggerTxt}: fft ${bits} mix start: ${i}/${nChunks}`);\n            const task = [];\n            task.push({cmd: \"ALLOC\", var: 0, len: sMid*pointsInChunk});\n            const buffChunk = buff.slice( (pointsInChunk * i)*sIn, (pointsInChunk * (i+1))*sIn);\n            task.push({cmd: \"SET\", var: 0, buff: buffChunk});\n            if (fnIn2Mid) {\n                task.push({cmd: \"CALL\", fnName:fnIn2Mid, params: [{var:0}, {val: pointsInChunk}, {var: 0}]});\n            }\n            for (let j=1; j<=l2Chunk;j++) {\n                task.push({cmd: \"CALL\", fnName:fnFFTMix, params: [{var:0}, {val: pointsInChunk}, {val: j}]});\n            }\n\n            if (l2Chunk==bits) {\n                if (fnFFTFinal) {\n                    task.push({cmd: \"ALLOCSET\", var: 1, buff: inv});\n                    task.push({cmd: \"CALL\", fnName: fnFFTFinal,  params:[\n                        {var: 0},\n                        {val: pointsInChunk},\n                        {var: 1},\n                    ]});\n                }\n                if (fnMid2Out) {\n                    task.push({cmd: \"CALL\", fnName:fnMid2Out, params: [{var:0}, {val: pointsInChunk}, {var: 0}]});\n                }\n                task.push({cmd: \"GET\", out: 0, var: 0, len: pointsInChunk*sOut});\n            } else {\n                task.push({cmd: \"GET\", out:0, var: 0, len: sMid*pointsInChunk});\n            }\n            promises.push(tm.queueAction(task).then( (r) => {\n                if (logger) logger.debug(`${loggerTxt}: fft ${bits} mix end: ${i}/${nChunks}`);\n                return r;\n            }));\n        }\n\n        chunks = await Promise.all(promises);\n        for (let i = 0; i< nChunks; i++) chunks[i] = chunks[i][0];\n\n        for (let i = l2Chunk+1;   i<=bits; i++) {\n            if (logger) logger.debug(`${loggerTxt}: fft  ${bits}  join: ${i}/${bits}`);\n            const nGroups = 1 << (bits - i);\n            const nChunksPerGroup = nChunks / nGroups;\n            const opPromises = [];\n            for (let j=0; j<nGroups; j++) {\n                for (let k=0; k <nChunksPerGroup/2; k++) {\n                    const first = Fr.exp( Fr.w[i], k*pointsInChunk);\n                    const inc = Fr.w[i];\n                    const o1 = j*nChunksPerGroup + k;\n                    const o2 = j*nChunksPerGroup + k + nChunksPerGroup/2;\n\n                    const task = [];\n                    task.push({cmd: \"ALLOCSET\", var: 0, buff: chunks[o1]});\n                    task.push({cmd: \"ALLOCSET\", var: 1, buff: chunks[o2]});\n                    task.push({cmd: \"ALLOCSET\", var: 2, buff: first});\n                    task.push({cmd: \"ALLOCSET\", var: 3, buff: inc});\n                    task.push({cmd: \"CALL\", fnName: fnFFTJoin,  params:[\n                        {var: 0},\n                        {var: 1},\n                        {val: pointsInChunk},\n                        {var: 2},\n                        {var: 3}\n                    ]});\n                    if (i==bits) {\n                        if (fnFFTFinal) {\n                            task.push({cmd: \"ALLOCSET\", var: 4, buff: inv});\n                            task.push({cmd: \"CALL\", fnName: fnFFTFinal,  params:[\n                                {var: 0},\n                                {val: pointsInChunk},\n                                {var: 4},\n                            ]});\n                            task.push({cmd: \"CALL\", fnName: fnFFTFinal,  params:[\n                                {var: 1},\n                                {val: pointsInChunk},\n                                {var: 4},\n                            ]});\n                        }\n                        if (fnMid2Out) {\n                            task.push({cmd: \"CALL\", fnName:fnMid2Out, params: [{var:0}, {val: pointsInChunk}, {var: 0}]});\n                            task.push({cmd: \"CALL\", fnName:fnMid2Out, params: [{var:1}, {val: pointsInChunk}, {var: 1}]});\n                        }\n                        task.push({cmd: \"GET\", out: 0, var: 0, len: pointsInChunk*sOut});\n                        task.push({cmd: \"GET\", out: 1, var: 1, len: pointsInChunk*sOut});\n                    } else {\n                        task.push({cmd: \"GET\", out: 0, var: 0, len: pointsInChunk*sMid});\n                        task.push({cmd: \"GET\", out: 1, var: 1, len: pointsInChunk*sMid});\n                    }\n                    opPromises.push(tm.queueAction(task).then( (r) => {\n                        if (logger) logger.debug(`${loggerTxt}: fft ${bits} join  ${i}/${bits}  ${j+1}/${nGroups} ${k}/${nChunksPerGroup/2}`);\n                        return r;\n                    }));\n                }\n            }\n\n            const res = await Promise.all(opPromises);\n            for (let j=0; j<nGroups; j++) {\n                for (let k=0; k <nChunksPerGroup/2; k++) {\n                    const o1 = j*nChunksPerGroup + k;\n                    const o2 = j*nChunksPerGroup + k + nChunksPerGroup/2;\n                    const resChunk = res.shift();\n                    chunks[o1] = resChunk[0];\n                    chunks[o2] = resChunk[1];\n                }\n            }\n        }\n\n        if (buff instanceof BigBuffer) {\n            buffOut = new BigBuffer(nPoints*sOut);\n        } else {\n            buffOut = new Uint8Array(nPoints*sOut);\n        }\n        if (inverse) {\n            buffOut.set(chunks[0].slice((pointsInChunk-1)*sOut));\n            let p= sOut;\n            for (let i=nChunks-1; i>0; i--) {\n                buffOut.set(chunks[i], p);\n                p += pointsInChunk*sOut;\n                delete chunks[i];  // Liberate mem\n            }\n            buffOut.set(chunks[0].slice(0, (pointsInChunk-1)*sOut), p);\n            delete chunks[0];\n        } else {\n            for (let i=0; i<nChunks; i++) {\n                buffOut.set(chunks[i], pointsInChunk*sOut*i);\n                delete chunks[i];\n            }\n        }\n\n        if (returnArray) {\n            return buffer2array(buffOut, sOut);\n        } else {\n            return buffOut;\n        }\n    }\n\n    async function _fftExt(buff, inType, outType, logger, loggerTxt) {\n        let b1, b2;\n        b1 = buff.slice( 0 , buff.byteLength/2);\n        b2 = buff.slice( buff.byteLength/2, buff.byteLength);\n\n        const promises = [];\n\n        [b1, b2] = await _fftJoinExt(b1, b2, \"fftJoinExt\", Fr.one, Fr.shift, inType, \"jacobian\", logger, loggerTxt);\n\n        promises.push( _fft(b1, false, \"jacobian\", outType, logger, loggerTxt));\n        promises.push( _fft(b2, false, \"jacobian\", outType, logger, loggerTxt));\n\n        const res1 = await Promise.all(promises);\n\n        let buffOut;\n        if (res1[0].byteLength > (1<<28)) {\n            buffOut = new BigBuffer(res1[0].byteLength*2);\n        } else {\n            buffOut = new Uint8Array(res1[0].byteLength*2);\n        }\n\n        buffOut.set(res1[0]);\n        buffOut.set(res1[1], res1[0].byteLength);\n\n        return buffOut;\n    }\n\n    async function _fftExtInv(buff, inType, outType, logger, loggerTxt) {\n        let b1, b2;\n        b1 = buff.slice( 0 , buff.byteLength/2);\n        b2 = buff.slice( buff.byteLength/2, buff.byteLength);\n\n        const promises = [];\n\n        promises.push( _fft(b1, true, inType, \"jacobian\", logger, loggerTxt));\n        promises.push( _fft(b2, true, inType, \"jacobian\", logger, loggerTxt));\n\n        [b1, b2] = await Promise.all(promises);\n\n        const res1 = await _fftJoinExt(b1, b2, \"fftJoinExtInv\", Fr.one, Fr.shiftInv, \"jacobian\", outType, logger, loggerTxt);\n\n        let buffOut;\n        if (res1[0].byteLength > (1<<28)) {\n            buffOut = new BigBuffer(res1[0].byteLength*2);\n        } else {\n            buffOut = new Uint8Array(res1[0].byteLength*2);\n        }\n\n        buffOut.set(res1[0]);\n        buffOut.set(res1[1], res1[0].byteLength);\n\n        return buffOut;\n    }\n\n\n    async function _fftJoinExt(buff1, buff2, fn, first, inc, inType, outType, logger, loggerTxt) {\n        const MAX_CHUNK_SIZE = 1<<16;\n        const MIN_CHUNK_SIZE = 1<<4;\n\n        let fnName;\n        let fnIn2Mid, fnMid2Out;\n        let sOut, sIn, sMid;\n\n        if (groupName == \"G1\") {\n            if (inType == \"affine\") {\n                sIn = G.F.n8*2;\n                fnIn2Mid = \"g1m_batchToJacobian\";\n            } else {\n                sIn = G.F.n8*3;\n            }\n            sMid = G.F.n8*3;\n            fnName = \"g1m_\"+fn;\n            if (outType == \"affine\") {\n                fnMid2Out = \"g1m_batchToAffine\";\n                sOut = G.F.n8*2;\n            } else {\n                sOut = G.F.n8*3;\n            }\n        } else if (groupName == \"G2\") {\n            if (inType == \"affine\") {\n                sIn = G.F.n8*2;\n                fnIn2Mid = \"g2m_batchToJacobian\";\n            } else {\n                sIn = G.F.n8*3;\n            }\n            fnName = \"g2m_\"+fn;\n            sMid = G.F.n8*3;\n            if (outType == \"affine\") {\n                fnMid2Out = \"g2m_batchToAffine\";\n                sOut = G.F.n8*2;\n            } else {\n                sOut = G.F.n8*3;\n            }\n        } else if (groupName == \"Fr\") {\n            sIn = Fr.n8;\n            sOut = Fr.n8;\n            sMid = Fr.n8;\n            fnName = \"frm_\" + fn;\n        } else {\n            throw new Error(\"Invalid group\");\n        }\n\n        if (buff1.byteLength != buff2.byteLength) {\n            throw new Error(\"Invalid buffer size\");\n        }\n        const nPoints = Math.floor(buff1.byteLength / sIn);\n        if (nPoints != 1 << log2(nPoints)) {\n            throw new Error(\"Invalid number of points\");\n        }\n\n        let chunkSize = Math.floor(nPoints /tm.concurrency);\n        if (chunkSize < MIN_CHUNK_SIZE) chunkSize = MIN_CHUNK_SIZE;\n        if (chunkSize > MAX_CHUNK_SIZE) chunkSize = MAX_CHUNK_SIZE;\n\n        const opPromises = [];\n\n        for (let i=0; i<nPoints; i += chunkSize) {\n            if (logger) logger.debug(`${loggerTxt}: fftJoinExt Start: ${i}/${nPoints}`);\n            const n= Math.min(nPoints - i, chunkSize);\n\n            const firstChunk = Fr.mul(first, Fr.exp( inc, i));\n            const task = [];\n\n            const b1 = buff1.slice(i*sIn, (i+n)*sIn);\n            const b2 = buff2.slice(i*sIn, (i+n)*sIn);\n\n            task.push({cmd: \"ALLOC\", var: 0, len: sMid*n});\n            task.push({cmd: \"SET\", var: 0, buff: b1});\n            task.push({cmd: \"ALLOC\", var: 1, len: sMid*n});\n            task.push({cmd: \"SET\", var: 1, buff: b2});\n            task.push({cmd: \"ALLOCSET\", var: 2, buff: firstChunk});\n            task.push({cmd: \"ALLOCSET\", var: 3, buff: inc});\n            if (fnIn2Mid) {\n                task.push({cmd: \"CALL\", fnName:fnIn2Mid, params: [{var:0}, {val: n}, {var: 0}]});\n                task.push({cmd: \"CALL\", fnName:fnIn2Mid, params: [{var:1}, {val: n}, {var: 1}]});\n            }\n            task.push({cmd: \"CALL\", fnName: fnName, params: [\n                {var: 0},\n                {var: 1},\n                {val: n},\n                {var: 2},\n                {var: 3},\n                {val: Fr.s},\n            ]});\n            if (fnMid2Out) {\n                task.push({cmd: \"CALL\", fnName:fnMid2Out, params: [{var:0}, {val: n}, {var: 0}]});\n                task.push({cmd: \"CALL\", fnName:fnMid2Out, params: [{var:1}, {val: n}, {var: 1}]});\n            }\n            task.push({cmd: \"GET\", out: 0, var: 0, len: n*sOut});\n            task.push({cmd: \"GET\", out: 1, var: 1, len: n*sOut});\n            opPromises.push(\n                tm.queueAction(task).then( (r) => {\n                    if (logger) logger.debug(`${loggerTxt}: fftJoinExt End: ${i}/${nPoints}`);\n                    return r;\n                })\n            );\n        }\n\n        const result = await Promise.all(opPromises);\n\n        let fullBuffOut1;\n        let fullBuffOut2;\n        if (nPoints * sOut > 1<<28) {\n            fullBuffOut1 = new BigBuffer(nPoints*sOut);\n            fullBuffOut2 = new BigBuffer(nPoints*sOut);\n        } else {\n            fullBuffOut1 = new Uint8Array(nPoints*sOut);\n            fullBuffOut2 = new Uint8Array(nPoints*sOut);\n        }\n\n        let p =0;\n        for (let i=0; i<result.length; i++) {\n            fullBuffOut1.set(result[i][0], p);\n            fullBuffOut2.set(result[i][1], p);\n            p+=result[i][0].byteLength;\n        }\n\n        return [fullBuffOut1, fullBuffOut2];\n    }\n\n\n    G.fft = async function(buff, inType, outType, logger, loggerTxt) {\n        return await _fft(buff, false, inType, outType, logger, loggerTxt);\n    };\n\n    G.ifft = async function(buff, inType, outType, logger, loggerTxt) {\n        return await _fft(buff, true, inType, outType, logger, loggerTxt);\n    };\n\n    G.lagrangeEvaluations = async function (buff, inType, outType, logger, loggerTxt) {\n        inType = inType || \"affine\";\n        outType = outType || \"affine\";\n\n        let sIn;\n        if (groupName == \"G1\") {\n            if (inType == \"affine\") {\n                sIn = G.F.n8*2;\n            } else {\n                sIn = G.F.n8*3;\n            }\n        } else if (groupName == \"G2\") {\n            if (inType == \"affine\") {\n                sIn = G.F.n8*2;\n            } else {\n                sIn = G.F.n8*3;\n            }\n        } else if (groupName == \"Fr\") {\n            sIn = Fr.n8;\n        } else {\n            throw new Error(\"Invalid group\");\n        }\n\n        const nPoints = buff.byteLength /sIn;\n        const bits = log2(nPoints);\n\n        if ((2 ** bits)*sIn != buff.byteLength) {\n            if (logger) logger.error(\"lagrangeEvaluations iinvalid input size\");\n            throw new Error(\"lagrangeEvaluations invalid Input size\");\n        }\n\n        if (bits <= Fr.s) {\n            return await G.ifft(buff, inType, outType, logger, loggerTxt);\n        }\n\n        if (bits > Fr.s+1) {\n            if (logger) logger.error(\"lagrangeEvaluations input too big\");\n            throw new Error(\"lagrangeEvaluations input too big\");\n        }\n\n        let t0 = buff.slice(0, buff.byteLength/2);\n        let t1 = buff.slice(buff.byteLength/2, buff.byteLength);\n\n\n        const shiftToSmallM = Fr.exp(Fr.shift, nPoints/2);\n        const sConst = Fr.inv( Fr.sub(Fr.one, shiftToSmallM));\n\n        [t0, t1] = await _fftJoinExt(t0, t1, \"prepareLagrangeEvaluation\", sConst, Fr.shiftInv, inType, \"jacobian\", logger, loggerTxt + \" prep\");\n\n        const promises = [];\n\n        promises.push( _fft(t0, true, \"jacobian\", outType, logger, loggerTxt + \" t0\"));\n        promises.push( _fft(t1, true, \"jacobian\", outType, logger, loggerTxt + \" t1\"));\n\n        [t0, t1] = await Promise.all(promises);\n\n        let buffOut;\n        if (t0.byteLength > (1<<28)) {\n            buffOut = new BigBuffer(t0.byteLength*2);\n        } else {\n            buffOut = new Uint8Array(t0.byteLength*2);\n        }\n\n        buffOut.set(t0);\n        buffOut.set(t1, t0.byteLength);\n\n        return buffOut;\n    };\n\n    G.fftMix = async function fftMix(buff) {\n        const sG = G.F.n8*3;\n        let fnName, fnFFTJoin;\n        if (groupName == \"G1\") {\n            fnName = \"g1m_fftMix\";\n            fnFFTJoin = \"g1m_fftJoin\";\n        } else if (groupName == \"G2\") {\n            fnName = \"g2m_fftMix\";\n            fnFFTJoin = \"g2m_fftJoin\";\n        } else if (groupName == \"Fr\") {\n            fnName = \"frm_fftMix\";\n            fnFFTJoin = \"frm_fftJoin\";\n        } else {\n            throw new Error(\"Invalid group\");\n        }\n\n        const nPoints = Math.floor(buff.byteLength / sG);\n        const power = log2(nPoints);\n\n        let nChunks = 1 << log2(tm.concurrency);\n\n        if (nPoints <= nChunks*2) nChunks = 1;\n\n        const pointsPerChunk = nPoints / nChunks;\n\n        const powerChunk = log2(pointsPerChunk);\n\n        const opPromises = [];\n        for (let i=0; i<nChunks; i++) {\n            const task = [];\n            const b = buff.slice((i* pointsPerChunk)*sG, ((i+1)* pointsPerChunk)*sG);\n            task.push({cmd: \"ALLOCSET\", var: 0, buff: b});\n            for (let j=1; j<=powerChunk; j++) {\n                task.push({cmd: \"CALL\", fnName: fnName, params: [\n                    {var: 0},\n                    {val: pointsPerChunk},\n                    {val: j}\n                ]});\n            }\n            task.push({cmd: \"GET\", out: 0, var: 0, len: pointsPerChunk*sG});\n            opPromises.push(\n                tm.queueAction(task)\n            );\n        }\n\n        const result = await Promise.all(opPromises);\n\n        const chunks = [];\n        for (let i=0; i<result.length; i++) chunks[i] = result[i][0];\n\n\n        for (let i = powerChunk+1; i<=power; i++) {\n            const nGroups = 1 << (power - i);\n            const nChunksPerGroup = nChunks / nGroups;\n            const opPromises = [];\n            for (let j=0; j<nGroups; j++) {\n                for (let k=0; k <nChunksPerGroup/2; k++) {\n                    const first = Fr.exp( Fr.w[i], k*pointsPerChunk);\n                    const inc = Fr.w[i];\n                    const o1 = j*nChunksPerGroup + k;\n                    const o2 = j*nChunksPerGroup + k + nChunksPerGroup/2;\n\n                    const task = [];\n                    task.push({cmd: \"ALLOCSET\", var: 0, buff: chunks[o1]});\n                    task.push({cmd: \"ALLOCSET\", var: 1, buff: chunks[o2]});\n                    task.push({cmd: \"ALLOCSET\", var: 2, buff: first});\n                    task.push({cmd: \"ALLOCSET\", var: 3, buff: inc});\n                    task.push({cmd: \"CALL\", fnName: fnFFTJoin,  params:[\n                        {var: 0},\n                        {var: 1},\n                        {val: pointsPerChunk},\n                        {var: 2},\n                        {var: 3}\n                    ]});\n                    task.push({cmd: \"GET\", out: 0, var: 0, len: pointsPerChunk*sG});\n                    task.push({cmd: \"GET\", out: 1, var: 1, len: pointsPerChunk*sG});\n                    opPromises.push(tm.queueAction(task));\n                }\n            }\n\n            const res = await Promise.all(opPromises);\n            for (let j=0; j<nGroups; j++) {\n                for (let k=0; k <nChunksPerGroup/2; k++) {\n                    const o1 = j*nChunksPerGroup + k;\n                    const o2 = j*nChunksPerGroup + k + nChunksPerGroup/2;\n                    const resChunk = res.shift();\n                    chunks[o1] = resChunk[0];\n                    chunks[o2] = resChunk[1];\n                }\n            }\n        }\n\n        let fullBuffOut;\n        if (buff instanceof BigBuffer) {\n            fullBuffOut = new BigBuffer(nPoints*sG);\n        } else {\n            fullBuffOut = new Uint8Array(nPoints*sG);\n        }\n        let p =0;\n        for (let i=0; i<nChunks; i++) {\n            fullBuffOut.set(chunks[i], p);\n            p+=chunks[i].byteLength;\n        }\n\n        return fullBuffOut;\n    };\n\n    G.fftJoin = async function fftJoin(buff1, buff2, first, inc) {\n        const sG = G.F.n8*3;\n        let fnName;\n        if (groupName == \"G1\") {\n            fnName = \"g1m_fftJoin\";\n        } else if (groupName == \"G2\") {\n            fnName = \"g2m_fftJoin\";\n        } else if (groupName == \"Fr\") {\n            fnName = \"frm_fftJoin\";\n        } else {\n            throw new Error(\"Invalid group\");\n        }\n\n        if (buff1.byteLength != buff2.byteLength) {\n            throw new Error(\"Invalid buffer size\");\n        }\n        const nPoints = Math.floor(buff1.byteLength / sG);\n        if (nPoints != 1 << log2(nPoints)) {\n            throw new Error(\"Invalid number of points\");\n        }\n\n        let nChunks = 1 << log2(tm.concurrency);\n        if (nPoints <= nChunks*2) nChunks = 1;\n\n        const pointsPerChunk = nPoints / nChunks;\n\n\n        const opPromises = [];\n        for (let i=0; i<nChunks; i++) {\n            const task = [];\n\n            const firstChunk = Fr.mul(first, Fr.exp(inc, i*pointsPerChunk));\n            const b1 = buff1.slice((i* pointsPerChunk)*sG, ((i+1)* pointsPerChunk)*sG);\n            const b2 = buff2.slice((i* pointsPerChunk)*sG, ((i+1)* pointsPerChunk)*sG);\n            task.push({cmd: \"ALLOCSET\", var: 0, buff: b1});\n            task.push({cmd: \"ALLOCSET\", var: 1, buff: b2});\n            task.push({cmd: \"ALLOCSET\", var: 2, buff: firstChunk});\n            task.push({cmd: \"ALLOCSET\", var: 3, buff: inc});\n            task.push({cmd: \"CALL\", fnName: fnName, params: [\n                {var: 0},\n                {var: 1},\n                {val: pointsPerChunk},\n                {var: 2},\n                {var: 3}\n            ]});\n            task.push({cmd: \"GET\", out: 0, var: 0, len: pointsPerChunk*sG});\n            task.push({cmd: \"GET\", out: 1, var: 1, len: pointsPerChunk*sG});\n            opPromises.push(\n                tm.queueAction(task)\n            );\n\n        }\n\n\n        const result = await Promise.all(opPromises);\n\n        let fullBuffOut1;\n        let fullBuffOut2;\n        if (buff1 instanceof BigBuffer) {\n            fullBuffOut1 = new BigBuffer(nPoints*sG);\n            fullBuffOut2 = new BigBuffer(nPoints*sG);\n        } else {\n            fullBuffOut1 = new Uint8Array(nPoints*sG);\n            fullBuffOut2 = new Uint8Array(nPoints*sG);\n        }\n\n        let p =0;\n        for (let i=0; i<result.length; i++) {\n            fullBuffOut1.set(result[i][0], p);\n            fullBuffOut2.set(result[i][1], p);\n            p+=result[i][0].byteLength;\n        }\n\n        return [fullBuffOut1, fullBuffOut2];\n    };\n\n\n\n    G.fftFinal =  async function fftFinal(buff, factor) {\n        const sG = G.F.n8*3;\n        const sGout = G.F.n8*2;\n        let fnName, fnToAffine;\n        if (groupName == \"G1\") {\n            fnName = \"g1m_fftFinal\";\n            fnToAffine = \"g1m_batchToAffine\";\n        } else if (groupName == \"G2\") {\n            fnName = \"g2m_fftFinal\";\n            fnToAffine = \"g2m_batchToAffine\";\n        } else {\n            throw new Error(\"Invalid group\");\n        }\n\n        const nPoints = Math.floor(buff.byteLength / sG);\n        if (nPoints != 1 << log2(nPoints)) {\n            throw new Error(\"Invalid number of points\");\n        }\n\n        const pointsPerChunk = Math.floor(nPoints / tm.concurrency);\n\n        const opPromises = [];\n        for (let i=0; i<tm.concurrency; i++) {\n            let n;\n            if (i< tm.concurrency-1) {\n                n = pointsPerChunk;\n            } else {\n                n = nPoints - i*pointsPerChunk;\n            }\n            if (n==0) continue;\n            const task = [];\n            const b = buff.slice((i* pointsPerChunk)*sG, (i*pointsPerChunk+n)*sG);\n            task.push({cmd: \"ALLOCSET\", var: 0, buff: b});\n            task.push({cmd: \"ALLOCSET\", var: 1, buff: factor});\n            task.push({cmd: \"CALL\", fnName: fnName, params: [\n                {var: 0},\n                {val: n},\n                {var: 1},\n            ]});\n            task.push({cmd: \"CALL\", fnName: fnToAffine, params: [\n                {var: 0},\n                {val: n},\n                {var: 0},\n            ]});\n            task.push({cmd: \"GET\", out: 0, var: 0, len: n*sGout});\n            opPromises.push(\n                tm.queueAction(task)\n            );\n\n        }\n\n        const result = await Promise.all(opPromises);\n\n        let fullBuffOut;\n        if (buff instanceof BigBuffer) {\n            fullBuffOut = new BigBuffer(nPoints*sGout);\n        } else {\n            fullBuffOut = new Uint8Array(nPoints*sGout);\n        }\n\n        let p =0;\n        for (let i=result.length-1; i>=0; i--) {\n            fullBuffOut.set(result[i][0], p);\n            p+=result[i][0].byteLength;\n        }\n\n        return fullBuffOut;\n    };\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAGe,SAAS,SAAS,KAAK,EAAE,SAAS;IAC7C,MAAM,IAAI,KAAK,CAAC,UAAU;IAC1B,MAAM,KAAK,MAAM,EAAE;IACnB,MAAM,KAAK,EAAE,EAAE;IACf,eAAe,KAAK,IAAI,EAAE,OAAO,EAAE,MAAM,EAAE,OAAO,EAAE,MAAM,EAAE,SAAS;QAEjE,SAAS,UAAU;QACnB,UAAU,WAAW;QACrB,MAAM,kBAAkB;QAExB,IAAI,KAAK,MAAM,MAAM,UAAU,WAAW,UAAU,WAAW;QAC/D,IAAI,aAAa,MAAM;YACnB,IAAI,UAAU,UAAU;gBACpB,MAAM,EAAE,CAAC,CAAC,EAAE,GAAC;gBACb,WAAW;YACf,OAAO;gBACH,MAAM,EAAE,CAAC,CAAC,EAAE,GAAC;YACjB;YACA,OAAO,EAAE,CAAC,CAAC,EAAE,GAAC;YACd,IAAI,SAAS;gBACT,aAAa;YACjB;YACA,YAAY;YACZ,WAAW;YAEX,IAAI,WAAW,UAAU;gBACrB,OAAO,EAAE,CAAC,CAAC,EAAE,GAAC;gBACd,YAAY;YAChB,OAAO;gBACH,OAAO,EAAE,CAAC,CAAC,EAAE,GAAC;YAClB;QAEJ,OAAO,IAAI,aAAa,MAAM;YAC1B,IAAI,UAAU,UAAU;gBACpB,MAAM,EAAE,CAAC,CAAC,EAAE,GAAC;gBACb,WAAW;YACf,OAAO;gBACH,MAAM,EAAE,CAAC,CAAC,EAAE,GAAC;YACjB;YACA,OAAO,EAAE,CAAC,CAAC,EAAE,GAAC;YACd,IAAI,SAAS;gBACT,aAAa;YACjB;YACA,YAAY;YACZ,WAAW;YACX,IAAI,WAAW,UAAU;gBACrB,OAAO,EAAE,CAAC,CAAC,EAAE,GAAC;gBACd,YAAY;YAChB,OAAO;gBACH,OAAO,EAAE,CAAC,CAAC,EAAE,GAAC;YAClB;QACJ,OAAO,IAAI,aAAa,MAAM;YAC1B,MAAM,EAAE,EAAE;YACV,OAAO,EAAE,EAAE;YACX,OAAO,EAAE,EAAE;YACX,IAAI,SAAS;gBACT,aAAa;YACjB;YACA,WAAW;YACX,YAAY;QAChB;QAGA,IAAI,cAAc;QAClB,IAAI,MAAM,OAAO,CAAC,OAAO;YACrB,OAAO,IAAA,0LAAY,EAAC,MAAM;YAC1B,cAAc;QAClB,OAAO;YACH,OAAO,KAAK,KAAK,CAAC,GAAG,KAAK,UAAU;QACxC;QAEA,MAAM,UAAU,KAAK,UAAU,GAAG;QAClC,MAAM,OAAO,IAAA,kLAAI,EAAC;QAElB,IAAK,AAAC,KAAK,QAAS,SAAS;YACzB,MAAM,IAAI,MAAM;QACpB;QAEA,IAAI,QAAQ,GAAG,CAAC,GAAE,GAAG;YACjB,IAAI;YAEJ,IAAI,SAAS;gBACT,UAAW,MAAM,WAAW,MAAM,QAAQ,SAAS,QAAQ;YAC/D,OAAO;gBACH,UAAW,MAAM,QAAQ,MAAM,QAAQ,SAAS,QAAQ;YAC5D;YAEA,IAAI,aAAa;gBACb,OAAO,IAAA,0LAAY,EAAC,SAAS;YACjC,OAAO;gBACH,OAAO;YACX;QACJ;QAEA,IAAI;QACJ,IAAI,SAAS;YACT,MAAM,GAAG,GAAG,CAAC,GAAG,CAAC,CAAC;QACtB;QAEA,IAAI;QAEJ,IAAA,6LAAe,EAAC,MAAM;QAEtB,IAAI;QACJ,IAAI,gBAAgB,KAAK,GAAG,CAAC,KAAK,iBAAiB;QACnD,IAAI,UAAU,UAAU;QAExB,MAAO,AAAC,UAAU,GAAG,WAAW,IAAI,iBAAe,GAAK;YACpD,WAAW;YACX,iBAAiB;QACrB;QAEA,MAAM,UAAU,IAAA,kLAAI,EAAC;QAErB,MAAM,WAAW,EAAE;QACnB,IAAK,IAAI,IAAI,GAAG,IAAG,SAAS,IAAK;YAC7B,IAAI,QAAQ,OAAO,KAAK,CAAC,GAAG,UAAU,MAAM,EAAE,KAAK,YAAY,EAAE,EAAE,CAAC,EAAE,SAAS;YAC/E,MAAM,OAAO,EAAE;YACf,KAAK,IAAI,CAAC;gBAAC,KAAK;gBAAS,KAAK;gBAAG,KAAK,OAAK;YAAa;YACxD,MAAM,YAAY,KAAK,KAAK,CAAE,AAAC,gBAAgB,IAAG,KAAK,AAAC,gBAAgB,CAAC,IAAE,CAAC,IAAG;YAC/E,KAAK,IAAI,CAAC;gBAAC,KAAK;gBAAO,KAAK;gBAAG,MAAM;YAAS;YAC9C,IAAI,UAAU;gBACV,KAAK,IAAI,CAAC;oBAAC,KAAK;oBAAQ,QAAO;oBAAU,QAAQ;wBAAC;4BAAC,KAAI;wBAAC;wBAAG;4BAAC,KAAK;wBAAa;wBAAG;4BAAC,KAAK;wBAAC;qBAAE;gBAAA;YAC9F;YACA,IAAK,IAAI,IAAE,GAAG,KAAG,SAAQ,IAAK;gBAC1B,KAAK,IAAI,CAAC;oBAAC,KAAK;oBAAQ,QAAO;oBAAU,QAAQ;wBAAC;4BAAC,KAAI;wBAAC;wBAAG;4BAAC,KAAK;wBAAa;wBAAG;4BAAC,KAAK;wBAAC;qBAAE;gBAAA;YAC9F;YAEA,IAAI,WAAS,MAAM;gBACf,IAAI,YAAY;oBACZ,KAAK,IAAI,CAAC;wBAAC,KAAK;wBAAY,KAAK;wBAAG,MAAM;oBAAG;oBAC7C,KAAK,IAAI,CAAC;wBAAC,KAAK;wBAAQ,QAAQ;wBAAa,QAAO;4BAChD;gCAAC,KAAK;4BAAC;4BACP;gCAAC,KAAK;4BAAa;4BACnB;gCAAC,KAAK;4BAAC;yBACV;oBAAA;gBACL;gBACA,IAAI,WAAW;oBACX,KAAK,IAAI,CAAC;wBAAC,KAAK;wBAAQ,QAAO;wBAAW,QAAQ;4BAAC;gCAAC,KAAI;4BAAC;4BAAG;gCAAC,KAAK;4BAAa;4BAAG;gCAAC,KAAK;4BAAC;yBAAE;oBAAA;gBAC/F;gBACA,KAAK,IAAI,CAAC;oBAAC,KAAK;oBAAO,KAAK;oBAAG,KAAK;oBAAG,KAAK,gBAAc;gBAAI;YAClE,OAAO;gBACH,KAAK,IAAI,CAAC;oBAAC,KAAK;oBAAO,KAAI;oBAAG,KAAK;oBAAG,KAAK,OAAK;gBAAa;YACjE;YACA,SAAS,IAAI,CAAC,GAAG,WAAW,CAAC,MAAM,IAAI,CAAE,CAAC;gBACtC,IAAI,QAAQ,OAAO,KAAK,CAAC,GAAG,UAAU,MAAM,EAAE,KAAK,UAAU,EAAE,EAAE,CAAC,EAAE,SAAS;gBAC7E,OAAO;YACX;QACJ;QAEA,SAAS,MAAM,QAAQ,GAAG,CAAC;QAC3B,IAAK,IAAI,IAAI,GAAG,IAAG,SAAS,IAAK,MAAM,CAAC,EAAE,GAAG,MAAM,CAAC,EAAE,CAAC,EAAE;QAEzD,IAAK,IAAI,IAAI,UAAQ,GAAK,KAAG,MAAM,IAAK;YACpC,IAAI,QAAQ,OAAO,KAAK,CAAC,GAAG,UAAU,OAAO,EAAE,KAAK,QAAQ,EAAE,EAAE,CAAC,EAAE,MAAM;YACzE,MAAM,UAAU,KAAM,OAAO;YAC7B,MAAM,kBAAkB,UAAU;YAClC,MAAM,aAAa,EAAE;YACrB,IAAK,IAAI,IAAE,GAAG,IAAE,SAAS,IAAK;gBAC1B,IAAK,IAAI,IAAE,GAAG,IAAG,kBAAgB,GAAG,IAAK;oBACrC,MAAM,QAAQ,GAAG,GAAG,CAAE,GAAG,CAAC,CAAC,EAAE,EAAE,IAAE;oBACjC,MAAM,MAAM,GAAG,CAAC,CAAC,EAAE;oBACnB,MAAM,KAAK,IAAE,kBAAkB;oBAC/B,MAAM,KAAK,IAAE,kBAAkB,IAAI,kBAAgB;oBAEnD,MAAM,OAAO,EAAE;oBACf,KAAK,IAAI,CAAC;wBAAC,KAAK;wBAAY,KAAK;wBAAG,MAAM,MAAM,CAAC,GAAG;oBAAA;oBACpD,KAAK,IAAI,CAAC;wBAAC,KAAK;wBAAY,KAAK;wBAAG,MAAM,MAAM,CAAC,GAAG;oBAAA;oBACpD,KAAK,IAAI,CAAC;wBAAC,KAAK;wBAAY,KAAK;wBAAG,MAAM;oBAAK;oBAC/C,KAAK,IAAI,CAAC;wBAAC,KAAK;wBAAY,KAAK;wBAAG,MAAM;oBAAG;oBAC7C,KAAK,IAAI,CAAC;wBAAC,KAAK;wBAAQ,QAAQ;wBAAY,QAAO;4BAC/C;gCAAC,KAAK;4BAAC;4BACP;gCAAC,KAAK;4BAAC;4BACP;gCAAC,KAAK;4BAAa;4BACnB;gCAAC,KAAK;4BAAC;4BACP;gCAAC,KAAK;4BAAC;yBACV;oBAAA;oBACD,IAAI,KAAG,MAAM;wBACT,IAAI,YAAY;4BACZ,KAAK,IAAI,CAAC;gCAAC,KAAK;gCAAY,KAAK;gCAAG,MAAM;4BAAG;4BAC7C,KAAK,IAAI,CAAC;gCAAC,KAAK;gCAAQ,QAAQ;gCAAa,QAAO;oCAChD;wCAAC,KAAK;oCAAC;oCACP;wCAAC,KAAK;oCAAa;oCACnB;wCAAC,KAAK;oCAAC;iCACV;4BAAA;4BACD,KAAK,IAAI,CAAC;gCAAC,KAAK;gCAAQ,QAAQ;gCAAa,QAAO;oCAChD;wCAAC,KAAK;oCAAC;oCACP;wCAAC,KAAK;oCAAa;oCACnB;wCAAC,KAAK;oCAAC;iCACV;4BAAA;wBACL;wBACA,IAAI,WAAW;4BACX,KAAK,IAAI,CAAC;gCAAC,KAAK;gCAAQ,QAAO;gCAAW,QAAQ;oCAAC;wCAAC,KAAI;oCAAC;oCAAG;wCAAC,KAAK;oCAAa;oCAAG;wCAAC,KAAK;oCAAC;iCAAE;4BAAA;4BAC3F,KAAK,IAAI,CAAC;gCAAC,KAAK;gCAAQ,QAAO;gCAAW,QAAQ;oCAAC;wCAAC,KAAI;oCAAC;oCAAG;wCAAC,KAAK;oCAAa;oCAAG;wCAAC,KAAK;oCAAC;iCAAE;4BAAA;wBAC/F;wBACA,KAAK,IAAI,CAAC;4BAAC,KAAK;4BAAO,KAAK;4BAAG,KAAK;4BAAG,KAAK,gBAAc;wBAAI;wBAC9D,KAAK,IAAI,CAAC;4BAAC,KAAK;4BAAO,KAAK;4BAAG,KAAK;4BAAG,KAAK,gBAAc;wBAAI;oBAClE,OAAO;wBACH,KAAK,IAAI,CAAC;4BAAC,KAAK;4BAAO,KAAK;4BAAG,KAAK;4BAAG,KAAK,gBAAc;wBAAI;wBAC9D,KAAK,IAAI,CAAC;4BAAC,KAAK;4BAAO,KAAK;4BAAG,KAAK;4BAAG,KAAK,gBAAc;wBAAI;oBAClE;oBACA,WAAW,IAAI,CAAC,GAAG,WAAW,CAAC,MAAM,IAAI,CAAE,CAAC;wBACxC,IAAI,QAAQ,OAAO,KAAK,CAAC,GAAG,UAAU,MAAM,EAAE,KAAK,OAAO,EAAE,EAAE,CAAC,EAAE,KAAK,EAAE,EAAE,IAAE,EAAE,CAAC,EAAE,QAAQ,CAAC,EAAE,EAAE,CAAC,EAAE,kBAAgB,GAAG;wBACpH,OAAO;oBACX;gBACJ;YACJ;YAEA,MAAM,MAAM,MAAM,QAAQ,GAAG,CAAC;YAC9B,IAAK,IAAI,IAAE,GAAG,IAAE,SAAS,IAAK;gBAC1B,IAAK,IAAI,IAAE,GAAG,IAAG,kBAAgB,GAAG,IAAK;oBACrC,MAAM,KAAK,IAAE,kBAAkB;oBAC/B,MAAM,KAAK,IAAE,kBAAkB,IAAI,kBAAgB;oBACnD,MAAM,WAAW,IAAI,KAAK;oBAC1B,MAAM,CAAC,GAAG,GAAG,QAAQ,CAAC,EAAE;oBACxB,MAAM,CAAC,GAAG,GAAG,QAAQ,CAAC,EAAE;gBAC5B;YACJ;QACJ;QAEA,IAAI,gBAAgB,yLAAS,EAAE;YAC3B,UAAU,IAAI,yLAAS,CAAC,UAAQ;QACpC,OAAO;YACH,UAAU,IAAI,WAAW,UAAQ;QACrC;QACA,IAAI,SAAS;YACT,QAAQ,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,gBAAc,CAAC,IAAE;YAC9C,IAAI,IAAG;YACP,IAAK,IAAI,IAAE,UAAQ,GAAG,IAAE,GAAG,IAAK;gBAC5B,QAAQ,GAAG,CAAC,MAAM,CAAC,EAAE,EAAE;gBACvB,KAAK,gBAAc;gBACnB,OAAO,MAAM,CAAC,EAAE,EAAG,eAAe;YACtC;YACA,QAAQ,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,gBAAc,CAAC,IAAE,OAAO;YACxD,OAAO,MAAM,CAAC,EAAE;QACpB,OAAO;YACH,IAAK,IAAI,IAAE,GAAG,IAAE,SAAS,IAAK;gBAC1B,QAAQ,GAAG,CAAC,MAAM,CAAC,EAAE,EAAE,gBAAc,OAAK;gBAC1C,OAAO,MAAM,CAAC,EAAE;YACpB;QACJ;QAEA,IAAI,aAAa;YACb,OAAO,IAAA,0LAAY,EAAC,SAAS;QACjC,OAAO;YACH,OAAO;QACX;IACJ;IAEA,eAAe,QAAQ,IAAI,EAAE,MAAM,EAAE,OAAO,EAAE,MAAM,EAAE,SAAS;QAC3D,IAAI,IAAI;QACR,KAAK,KAAK,KAAK,CAAE,GAAI,KAAK,UAAU,GAAC;QACrC,KAAK,KAAK,KAAK,CAAE,KAAK,UAAU,GAAC,GAAG,KAAK,UAAU;QAEnD,MAAM,WAAW,EAAE;QAEnB,CAAC,IAAI,GAAG,GAAG,MAAM,YAAY,IAAI,IAAI,cAAc,GAAG,GAAG,EAAE,GAAG,KAAK,EAAE,QAAQ,YAAY,QAAQ;QAEjG,SAAS,IAAI,CAAE,KAAK,IAAI,OAAO,YAAY,SAAS,QAAQ;QAC5D,SAAS,IAAI,CAAE,KAAK,IAAI,OAAO,YAAY,SAAS,QAAQ;QAE5D,MAAM,OAAO,MAAM,QAAQ,GAAG,CAAC;QAE/B,IAAI;QACJ,IAAI,IAAI,CAAC,EAAE,CAAC,UAAU,GAAI,KAAG,IAAK;YAC9B,UAAU,IAAI,yLAAS,CAAC,IAAI,CAAC,EAAE,CAAC,UAAU,GAAC;QAC/C,OAAO;YACH,UAAU,IAAI,WAAW,IAAI,CAAC,EAAE,CAAC,UAAU,GAAC;QAChD;QAEA,QAAQ,GAAG,CAAC,IAAI,CAAC,EAAE;QACnB,QAAQ,GAAG,CAAC,IAAI,CAAC,EAAE,EAAE,IAAI,CAAC,EAAE,CAAC,UAAU;QAEvC,OAAO;IACX;IAEA,eAAe,WAAW,IAAI,EAAE,MAAM,EAAE,OAAO,EAAE,MAAM,EAAE,SAAS;QAC9D,IAAI,IAAI;QACR,KAAK,KAAK,KAAK,CAAE,GAAI,KAAK,UAAU,GAAC;QACrC,KAAK,KAAK,KAAK,CAAE,KAAK,UAAU,GAAC,GAAG,KAAK,UAAU;QAEnD,MAAM,WAAW,EAAE;QAEnB,SAAS,IAAI,CAAE,KAAK,IAAI,MAAM,QAAQ,YAAY,QAAQ;QAC1D,SAAS,IAAI,CAAE,KAAK,IAAI,MAAM,QAAQ,YAAY,QAAQ;QAE1D,CAAC,IAAI,GAAG,GAAG,MAAM,QAAQ,GAAG,CAAC;QAE7B,MAAM,OAAO,MAAM,YAAY,IAAI,IAAI,iBAAiB,GAAG,GAAG,EAAE,GAAG,QAAQ,EAAE,YAAY,SAAS,QAAQ;QAE1G,IAAI;QACJ,IAAI,IAAI,CAAC,EAAE,CAAC,UAAU,GAAI,KAAG,IAAK;YAC9B,UAAU,IAAI,yLAAS,CAAC,IAAI,CAAC,EAAE,CAAC,UAAU,GAAC;QAC/C,OAAO;YACH,UAAU,IAAI,WAAW,IAAI,CAAC,EAAE,CAAC,UAAU,GAAC;QAChD;QAEA,QAAQ,GAAG,CAAC,IAAI,CAAC,EAAE;QACnB,QAAQ,GAAG,CAAC,IAAI,CAAC,EAAE,EAAE,IAAI,CAAC,EAAE,CAAC,UAAU;QAEvC,OAAO;IACX;IAGA,eAAe,YAAY,KAAK,EAAE,KAAK,EAAE,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,MAAM,EAAE,OAAO,EAAE,MAAM,EAAE,SAAS;QACvF,MAAM,iBAAiB,KAAG;QAC1B,MAAM,iBAAiB,KAAG;QAE1B,IAAI;QACJ,IAAI,UAAU;QACd,IAAI,MAAM,KAAK;QAEf,IAAI,aAAa,MAAM;YACnB,IAAI,UAAU,UAAU;gBACpB,MAAM,EAAE,CAAC,CAAC,EAAE,GAAC;gBACb,WAAW;YACf,OAAO;gBACH,MAAM,EAAE,CAAC,CAAC,EAAE,GAAC;YACjB;YACA,OAAO,EAAE,CAAC,CAAC,EAAE,GAAC;YACd,SAAS,SAAO;YAChB,IAAI,WAAW,UAAU;gBACrB,YAAY;gBACZ,OAAO,EAAE,CAAC,CAAC,EAAE,GAAC;YAClB,OAAO;gBACH,OAAO,EAAE,CAAC,CAAC,EAAE,GAAC;YAClB;QACJ,OAAO,IAAI,aAAa,MAAM;YAC1B,IAAI,UAAU,UAAU;gBACpB,MAAM,EAAE,CAAC,CAAC,EAAE,GAAC;gBACb,WAAW;YACf,OAAO;gBACH,MAAM,EAAE,CAAC,CAAC,EAAE,GAAC;YACjB;YACA,SAAS,SAAO;YAChB,OAAO,EAAE,CAAC,CAAC,EAAE,GAAC;YACd,IAAI,WAAW,UAAU;gBACrB,YAAY;gBACZ,OAAO,EAAE,CAAC,CAAC,EAAE,GAAC;YAClB,OAAO;gBACH,OAAO,EAAE,CAAC,CAAC,EAAE,GAAC;YAClB;QACJ,OAAO,IAAI,aAAa,MAAM;YAC1B,MAAM,GAAG,EAAE;YACX,OAAO,GAAG,EAAE;YACZ,OAAO,GAAG,EAAE;YACZ,SAAS,SAAS;QACtB,OAAO;YACH,MAAM,IAAI,MAAM;QACpB;QAEA,IAAI,MAAM,UAAU,IAAI,MAAM,UAAU,EAAE;YACtC,MAAM,IAAI,MAAM;QACpB;QACA,MAAM,UAAU,KAAK,KAAK,CAAC,MAAM,UAAU,GAAG;QAC9C,IAAI,WAAW,KAAK,IAAA,kLAAI,EAAC,UAAU;YAC/B,MAAM,IAAI,MAAM;QACpB;QAEA,IAAI,YAAY,KAAK,KAAK,CAAC,UAAS,GAAG,WAAW;QAClD,IAAI,YAAY,gBAAgB,YAAY;QAC5C,IAAI,YAAY,gBAAgB,YAAY;QAE5C,MAAM,aAAa,EAAE;QAErB,IAAK,IAAI,IAAE,GAAG,IAAE,SAAS,KAAK,UAAW;YACrC,IAAI,QAAQ,OAAO,KAAK,CAAC,GAAG,UAAU,oBAAoB,EAAE,EAAE,CAAC,EAAE,SAAS;YAC1E,MAAM,IAAG,KAAK,GAAG,CAAC,UAAU,GAAG;YAE/B,MAAM,aAAa,GAAG,GAAG,CAAC,OAAO,GAAG,GAAG,CAAE,KAAK;YAC9C,MAAM,OAAO,EAAE;YAEf,MAAM,KAAK,MAAM,KAAK,CAAC,IAAE,KAAK,CAAC,IAAE,CAAC,IAAE;YACpC,MAAM,KAAK,MAAM,KAAK,CAAC,IAAE,KAAK,CAAC,IAAE,CAAC,IAAE;YAEpC,KAAK,IAAI,CAAC;gBAAC,KAAK;gBAAS,KAAK;gBAAG,KAAK,OAAK;YAAC;YAC5C,KAAK,IAAI,CAAC;gBAAC,KAAK;gBAAO,KAAK;gBAAG,MAAM;YAAE;YACvC,KAAK,IAAI,CAAC;gBAAC,KAAK;gBAAS,KAAK;gBAAG,KAAK,OAAK;YAAC;YAC5C,KAAK,IAAI,CAAC;gBAAC,KAAK;gBAAO,KAAK;gBAAG,MAAM;YAAE;YACvC,KAAK,IAAI,CAAC;gBAAC,KAAK;gBAAY,KAAK;gBAAG,MAAM;YAAU;YACpD,KAAK,IAAI,CAAC;gBAAC,KAAK;gBAAY,KAAK;gBAAG,MAAM;YAAG;YAC7C,IAAI,UAAU;gBACV,KAAK,IAAI,CAAC;oBAAC,KAAK;oBAAQ,QAAO;oBAAU,QAAQ;wBAAC;4BAAC,KAAI;wBAAC;wBAAG;4BAAC,KAAK;wBAAC;wBAAG;4BAAC,KAAK;wBAAC;qBAAE;gBAAA;gBAC9E,KAAK,IAAI,CAAC;oBAAC,KAAK;oBAAQ,QAAO;oBAAU,QAAQ;wBAAC;4BAAC,KAAI;wBAAC;wBAAG;4BAAC,KAAK;wBAAC;wBAAG;4BAAC,KAAK;wBAAC;qBAAE;gBAAA;YAClF;YACA,KAAK,IAAI,CAAC;gBAAC,KAAK;gBAAQ,QAAQ;gBAAQ,QAAQ;oBAC5C;wBAAC,KAAK;oBAAC;oBACP;wBAAC,KAAK;oBAAC;oBACP;wBAAC,KAAK;oBAAC;oBACP;wBAAC,KAAK;oBAAC;oBACP;wBAAC,KAAK;oBAAC;oBACP;wBAAC,KAAK,GAAG,CAAC;oBAAA;iBACb;YAAA;YACD,IAAI,WAAW;gBACX,KAAK,IAAI,CAAC;oBAAC,KAAK;oBAAQ,QAAO;oBAAW,QAAQ;wBAAC;4BAAC,KAAI;wBAAC;wBAAG;4BAAC,KAAK;wBAAC;wBAAG;4BAAC,KAAK;wBAAC;qBAAE;gBAAA;gBAC/E,KAAK,IAAI,CAAC;oBAAC,KAAK;oBAAQ,QAAO;oBAAW,QAAQ;wBAAC;4BAAC,KAAI;wBAAC;wBAAG;4BAAC,KAAK;wBAAC;wBAAG;4BAAC,KAAK;wBAAC;qBAAE;gBAAA;YACnF;YACA,KAAK,IAAI,CAAC;gBAAC,KAAK;gBAAO,KAAK;gBAAG,KAAK;gBAAG,KAAK,IAAE;YAAI;YAClD,KAAK,IAAI,CAAC;gBAAC,KAAK;gBAAO,KAAK;gBAAG,KAAK;gBAAG,KAAK,IAAE;YAAI;YAClD,WAAW,IAAI,CACX,GAAG,WAAW,CAAC,MAAM,IAAI,CAAE,CAAC;gBACxB,IAAI,QAAQ,OAAO,KAAK,CAAC,GAAG,UAAU,kBAAkB,EAAE,EAAE,CAAC,EAAE,SAAS;gBACxE,OAAO;YACX;QAER;QAEA,MAAM,SAAS,MAAM,QAAQ,GAAG,CAAC;QAEjC,IAAI;QACJ,IAAI;QACJ,IAAI,UAAU,OAAO,KAAG,IAAI;YACxB,eAAe,IAAI,yLAAS,CAAC,UAAQ;YACrC,eAAe,IAAI,yLAAS,CAAC,UAAQ;QACzC,OAAO;YACH,eAAe,IAAI,WAAW,UAAQ;YACtC,eAAe,IAAI,WAAW,UAAQ;QAC1C;QAEA,IAAI,IAAG;QACP,IAAK,IAAI,IAAE,GAAG,IAAE,OAAO,MAAM,EAAE,IAAK;YAChC,aAAa,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC,EAAE,EAAE;YAC/B,aAAa,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC,EAAE,EAAE;YAC/B,KAAG,MAAM,CAAC,EAAE,CAAC,EAAE,CAAC,UAAU;QAC9B;QAEA,OAAO;YAAC;YAAc;SAAa;IACvC;IAGA,EAAE,GAAG,GAAG,eAAe,IAAI,EAAE,MAAM,EAAE,OAAO,EAAE,MAAM,EAAE,SAAS;QAC3D,OAAO,MAAM,KAAK,MAAM,OAAO,QAAQ,SAAS,QAAQ;IAC5D;IAEA,EAAE,IAAI,GAAG,eAAe,IAAI,EAAE,MAAM,EAAE,OAAO,EAAE,MAAM,EAAE,SAAS;QAC5D,OAAO,MAAM,KAAK,MAAM,MAAM,QAAQ,SAAS,QAAQ;IAC3D;IAEA,EAAE,mBAAmB,GAAG,eAAgB,IAAI,EAAE,MAAM,EAAE,OAAO,EAAE,MAAM,EAAE,SAAS;QAC5E,SAAS,UAAU;QACnB,UAAU,WAAW;QAErB,IAAI;QACJ,IAAI,aAAa,MAAM;YACnB,IAAI,UAAU,UAAU;gBACpB,MAAM,EAAE,CAAC,CAAC,EAAE,GAAC;YACjB,OAAO;gBACH,MAAM,EAAE,CAAC,CAAC,EAAE,GAAC;YACjB;QACJ,OAAO,IAAI,aAAa,MAAM;YAC1B,IAAI,UAAU,UAAU;gBACpB,MAAM,EAAE,CAAC,CAAC,EAAE,GAAC;YACjB,OAAO;gBACH,MAAM,EAAE,CAAC,CAAC,EAAE,GAAC;YACjB;QACJ,OAAO,IAAI,aAAa,MAAM;YAC1B,MAAM,GAAG,EAAE;QACf,OAAO;YACH,MAAM,IAAI,MAAM;QACpB;QAEA,MAAM,UAAU,KAAK,UAAU,GAAE;QACjC,MAAM,OAAO,IAAA,kLAAI,EAAC;QAElB,IAAI,AAAC,KAAK,OAAM,OAAO,KAAK,UAAU,EAAE;YACpC,IAAI,QAAQ,OAAO,KAAK,CAAC;YACzB,MAAM,IAAI,MAAM;QACpB;QAEA,IAAI,QAAQ,GAAG,CAAC,EAAE;YACd,OAAO,MAAM,EAAE,IAAI,CAAC,MAAM,QAAQ,SAAS,QAAQ;QACvD;QAEA,IAAI,OAAO,GAAG,CAAC,GAAC,GAAG;YACf,IAAI,QAAQ,OAAO,KAAK,CAAC;YACzB,MAAM,IAAI,MAAM;QACpB;QAEA,IAAI,KAAK,KAAK,KAAK,CAAC,GAAG,KAAK,UAAU,GAAC;QACvC,IAAI,KAAK,KAAK,KAAK,CAAC,KAAK,UAAU,GAAC,GAAG,KAAK,UAAU;QAGtD,MAAM,gBAAgB,GAAG,GAAG,CAAC,GAAG,KAAK,EAAE,UAAQ;QAC/C,MAAM,SAAS,GAAG,GAAG,CAAE,GAAG,GAAG,CAAC,GAAG,GAAG,EAAE;QAEtC,CAAC,IAAI,GAAG,GAAG,MAAM,YAAY,IAAI,IAAI,6BAA6B,QAAQ,GAAG,QAAQ,EAAE,QAAQ,YAAY,QAAQ,YAAY;QAE/H,MAAM,WAAW,EAAE;QAEnB,SAAS,IAAI,CAAE,KAAK,IAAI,MAAM,YAAY,SAAS,QAAQ,YAAY;QACvE,SAAS,IAAI,CAAE,KAAK,IAAI,MAAM,YAAY,SAAS,QAAQ,YAAY;QAEvE,CAAC,IAAI,GAAG,GAAG,MAAM,QAAQ,GAAG,CAAC;QAE7B,IAAI;QACJ,IAAI,GAAG,UAAU,GAAI,KAAG,IAAK;YACzB,UAAU,IAAI,yLAAS,CAAC,GAAG,UAAU,GAAC;QAC1C,OAAO;YACH,UAAU,IAAI,WAAW,GAAG,UAAU,GAAC;QAC3C;QAEA,QAAQ,GAAG,CAAC;QACZ,QAAQ,GAAG,CAAC,IAAI,GAAG,UAAU;QAE7B,OAAO;IACX;IAEA,EAAE,MAAM,GAAG,eAAe,OAAO,IAAI;QACjC,MAAM,KAAK,EAAE,CAAC,CAAC,EAAE,GAAC;QAClB,IAAI,QAAQ;QACZ,IAAI,aAAa,MAAM;YACnB,SAAS;YACT,YAAY;QAChB,OAAO,IAAI,aAAa,MAAM;YAC1B,SAAS;YACT,YAAY;QAChB,OAAO,IAAI,aAAa,MAAM;YAC1B,SAAS;YACT,YAAY;QAChB,OAAO;YACH,MAAM,IAAI,MAAM;QACpB;QAEA,MAAM,UAAU,KAAK,KAAK,CAAC,KAAK,UAAU,GAAG;QAC7C,MAAM,QAAQ,IAAA,kLAAI,EAAC;QAEnB,IAAI,UAAU,KAAK,IAAA,kLAAI,EAAC,GAAG,WAAW;QAEtC,IAAI,WAAW,UAAQ,GAAG,UAAU;QAEpC,MAAM,iBAAiB,UAAU;QAEjC,MAAM,aAAa,IAAA,kLAAI,EAAC;QAExB,MAAM,aAAa,EAAE;QACrB,IAAK,IAAI,IAAE,GAAG,IAAE,SAAS,IAAK;YAC1B,MAAM,OAAO,EAAE;YACf,MAAM,IAAI,KAAK,KAAK,CAAC,AAAC,IAAG,iBAAgB,IAAI,AAAC,CAAC,IAAE,CAAC,IAAG,iBAAgB;YACrE,KAAK,IAAI,CAAC;gBAAC,KAAK;gBAAY,KAAK;gBAAG,MAAM;YAAC;YAC3C,IAAK,IAAI,IAAE,GAAG,KAAG,YAAY,IAAK;gBAC9B,KAAK,IAAI,CAAC;oBAAC,KAAK;oBAAQ,QAAQ;oBAAQ,QAAQ;wBAC5C;4BAAC,KAAK;wBAAC;wBACP;4BAAC,KAAK;wBAAc;wBACpB;4BAAC,KAAK;wBAAC;qBACV;gBAAA;YACL;YACA,KAAK,IAAI,CAAC;gBAAC,KAAK;gBAAO,KAAK;gBAAG,KAAK;gBAAG,KAAK,iBAAe;YAAE;YAC7D,WAAW,IAAI,CACX,GAAG,WAAW,CAAC;QAEvB;QAEA,MAAM,SAAS,MAAM,QAAQ,GAAG,CAAC;QAEjC,MAAM,SAAS,EAAE;QACjB,IAAK,IAAI,IAAE,GAAG,IAAE,OAAO,MAAM,EAAE,IAAK,MAAM,CAAC,EAAE,GAAG,MAAM,CAAC,EAAE,CAAC,EAAE;QAG5D,IAAK,IAAI,IAAI,aAAW,GAAG,KAAG,OAAO,IAAK;YACtC,MAAM,UAAU,KAAM,QAAQ;YAC9B,MAAM,kBAAkB,UAAU;YAClC,MAAM,aAAa,EAAE;YACrB,IAAK,IAAI,IAAE,GAAG,IAAE,SAAS,IAAK;gBAC1B,IAAK,IAAI,IAAE,GAAG,IAAG,kBAAgB,GAAG,IAAK;oBACrC,MAAM,QAAQ,GAAG,GAAG,CAAE,GAAG,CAAC,CAAC,EAAE,EAAE,IAAE;oBACjC,MAAM,MAAM,GAAG,CAAC,CAAC,EAAE;oBACnB,MAAM,KAAK,IAAE,kBAAkB;oBAC/B,MAAM,KAAK,IAAE,kBAAkB,IAAI,kBAAgB;oBAEnD,MAAM,OAAO,EAAE;oBACf,KAAK,IAAI,CAAC;wBAAC,KAAK;wBAAY,KAAK;wBAAG,MAAM,MAAM,CAAC,GAAG;oBAAA;oBACpD,KAAK,IAAI,CAAC;wBAAC,KAAK;wBAAY,KAAK;wBAAG,MAAM,MAAM,CAAC,GAAG;oBAAA;oBACpD,KAAK,IAAI,CAAC;wBAAC,KAAK;wBAAY,KAAK;wBAAG,MAAM;oBAAK;oBAC/C,KAAK,IAAI,CAAC;wBAAC,KAAK;wBAAY,KAAK;wBAAG,MAAM;oBAAG;oBAC7C,KAAK,IAAI,CAAC;wBAAC,KAAK;wBAAQ,QAAQ;wBAAY,QAAO;4BAC/C;gCAAC,KAAK;4BAAC;4BACP;gCAAC,KAAK;4BAAC;4BACP;gCAAC,KAAK;4BAAc;4BACpB;gCAAC,KAAK;4BAAC;4BACP;gCAAC,KAAK;4BAAC;yBACV;oBAAA;oBACD,KAAK,IAAI,CAAC;wBAAC,KAAK;wBAAO,KAAK;wBAAG,KAAK;wBAAG,KAAK,iBAAe;oBAAE;oBAC7D,KAAK,IAAI,CAAC;wBAAC,KAAK;wBAAO,KAAK;wBAAG,KAAK;wBAAG,KAAK,iBAAe;oBAAE;oBAC7D,WAAW,IAAI,CAAC,GAAG,WAAW,CAAC;gBACnC;YACJ;YAEA,MAAM,MAAM,MAAM,QAAQ,GAAG,CAAC;YAC9B,IAAK,IAAI,IAAE,GAAG,IAAE,SAAS,IAAK;gBAC1B,IAAK,IAAI,IAAE,GAAG,IAAG,kBAAgB,GAAG,IAAK;oBACrC,MAAM,KAAK,IAAE,kBAAkB;oBAC/B,MAAM,KAAK,IAAE,kBAAkB,IAAI,kBAAgB;oBACnD,MAAM,WAAW,IAAI,KAAK;oBAC1B,MAAM,CAAC,GAAG,GAAG,QAAQ,CAAC,EAAE;oBACxB,MAAM,CAAC,GAAG,GAAG,QAAQ,CAAC,EAAE;gBAC5B;YACJ;QACJ;QAEA,IAAI;QACJ,IAAI,gBAAgB,yLAAS,EAAE;YAC3B,cAAc,IAAI,yLAAS,CAAC,UAAQ;QACxC,OAAO;YACH,cAAc,IAAI,WAAW,UAAQ;QACzC;QACA,IAAI,IAAG;QACP,IAAK,IAAI,IAAE,GAAG,IAAE,SAAS,IAAK;YAC1B,YAAY,GAAG,CAAC,MAAM,CAAC,EAAE,EAAE;YAC3B,KAAG,MAAM,CAAC,EAAE,CAAC,UAAU;QAC3B;QAEA,OAAO;IACX;IAEA,EAAE,OAAO,GAAG,eAAe,QAAQ,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,GAAG;QACvD,MAAM,KAAK,EAAE,CAAC,CAAC,EAAE,GAAC;QAClB,IAAI;QACJ,IAAI,aAAa,MAAM;YACnB,SAAS;QACb,OAAO,IAAI,aAAa,MAAM;YAC1B,SAAS;QACb,OAAO,IAAI,aAAa,MAAM;YAC1B,SAAS;QACb,OAAO;YACH,MAAM,IAAI,MAAM;QACpB;QAEA,IAAI,MAAM,UAAU,IAAI,MAAM,UAAU,EAAE;YACtC,MAAM,IAAI,MAAM;QACpB;QACA,MAAM,UAAU,KAAK,KAAK,CAAC,MAAM,UAAU,GAAG;QAC9C,IAAI,WAAW,KAAK,IAAA,kLAAI,EAAC,UAAU;YAC/B,MAAM,IAAI,MAAM;QACpB;QAEA,IAAI,UAAU,KAAK,IAAA,kLAAI,EAAC,GAAG,WAAW;QACtC,IAAI,WAAW,UAAQ,GAAG,UAAU;QAEpC,MAAM,iBAAiB,UAAU;QAGjC,MAAM,aAAa,EAAE;QACrB,IAAK,IAAI,IAAE,GAAG,IAAE,SAAS,IAAK;YAC1B,MAAM,OAAO,EAAE;YAEf,MAAM,aAAa,GAAG,GAAG,CAAC,OAAO,GAAG,GAAG,CAAC,KAAK,IAAE;YAC/C,MAAM,KAAK,MAAM,KAAK,CAAC,AAAC,IAAG,iBAAgB,IAAI,AAAC,CAAC,IAAE,CAAC,IAAG,iBAAgB;YACvE,MAAM,KAAK,MAAM,KAAK,CAAC,AAAC,IAAG,iBAAgB,IAAI,AAAC,CAAC,IAAE,CAAC,IAAG,iBAAgB;YACvE,KAAK,IAAI,CAAC;gBAAC,KAAK;gBAAY,KAAK;gBAAG,MAAM;YAAE;YAC5C,KAAK,IAAI,CAAC;gBAAC,KAAK;gBAAY,KAAK;gBAAG,MAAM;YAAE;YAC5C,KAAK,IAAI,CAAC;gBAAC,KAAK;gBAAY,KAAK;gBAAG,MAAM;YAAU;YACpD,KAAK,IAAI,CAAC;gBAAC,KAAK;gBAAY,KAAK;gBAAG,MAAM;YAAG;YAC7C,KAAK,IAAI,CAAC;gBAAC,KAAK;gBAAQ,QAAQ;gBAAQ,QAAQ;oBAC5C;wBAAC,KAAK;oBAAC;oBACP;wBAAC,KAAK;oBAAC;oBACP;wBAAC,KAAK;oBAAc;oBACpB;wBAAC,KAAK;oBAAC;oBACP;wBAAC,KAAK;oBAAC;iBACV;YAAA;YACD,KAAK,IAAI,CAAC;gBAAC,KAAK;gBAAO,KAAK;gBAAG,KAAK;gBAAG,KAAK,iBAAe;YAAE;YAC7D,KAAK,IAAI,CAAC;gBAAC,KAAK;gBAAO,KAAK;gBAAG,KAAK;gBAAG,KAAK,iBAAe;YAAE;YAC7D,WAAW,IAAI,CACX,GAAG,WAAW,CAAC;QAGvB;QAGA,MAAM,SAAS,MAAM,QAAQ,GAAG,CAAC;QAEjC,IAAI;QACJ,IAAI;QACJ,IAAI,iBAAiB,yLAAS,EAAE;YAC5B,eAAe,IAAI,yLAAS,CAAC,UAAQ;YACrC,eAAe,IAAI,yLAAS,CAAC,UAAQ;QACzC,OAAO;YACH,eAAe,IAAI,WAAW,UAAQ;YACtC,eAAe,IAAI,WAAW,UAAQ;QAC1C;QAEA,IAAI,IAAG;QACP,IAAK,IAAI,IAAE,GAAG,IAAE,OAAO,MAAM,EAAE,IAAK;YAChC,aAAa,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC,EAAE,EAAE;YAC/B,aAAa,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC,EAAE,EAAE;YAC/B,KAAG,MAAM,CAAC,EAAE,CAAC,EAAE,CAAC,UAAU;QAC9B;QAEA,OAAO;YAAC;YAAc;SAAa;IACvC;IAIA,EAAE,QAAQ,GAAI,eAAe,SAAS,IAAI,EAAE,MAAM;QAC9C,MAAM,KAAK,EAAE,CAAC,CAAC,EAAE,GAAC;QAClB,MAAM,QAAQ,EAAE,CAAC,CAAC,EAAE,GAAC;QACrB,IAAI,QAAQ;QACZ,IAAI,aAAa,MAAM;YACnB,SAAS;YACT,aAAa;QACjB,OAAO,IAAI,aAAa,MAAM;YAC1B,SAAS;YACT,aAAa;QACjB,OAAO;YACH,MAAM,IAAI,MAAM;QACpB;QAEA,MAAM,UAAU,KAAK,KAAK,CAAC,KAAK,UAAU,GAAG;QAC7C,IAAI,WAAW,KAAK,IAAA,kLAAI,EAAC,UAAU;YAC/B,MAAM,IAAI,MAAM;QACpB;QAEA,MAAM,iBAAiB,KAAK,KAAK,CAAC,UAAU,GAAG,WAAW;QAE1D,MAAM,aAAa,EAAE;QACrB,IAAK,IAAI,IAAE,GAAG,IAAE,GAAG,WAAW,EAAE,IAAK;YACjC,IAAI;YACJ,IAAI,IAAG,GAAG,WAAW,GAAC,GAAG;gBACrB,IAAI;YACR,OAAO;gBACH,IAAI,UAAU,IAAE;YACpB;YACA,IAAI,KAAG,GAAG;YACV,MAAM,OAAO,EAAE;YACf,MAAM,IAAI,KAAK,KAAK,CAAC,AAAC,IAAG,iBAAgB,IAAI,CAAC,IAAE,iBAAe,CAAC,IAAE;YAClE,KAAK,IAAI,CAAC;gBAAC,KAAK;gBAAY,KAAK;gBAAG,MAAM;YAAC;YAC3C,KAAK,IAAI,CAAC;gBAAC,KAAK;gBAAY,KAAK;gBAAG,MAAM;YAAM;YAChD,KAAK,IAAI,CAAC;gBAAC,KAAK;gBAAQ,QAAQ;gBAAQ,QAAQ;oBAC5C;wBAAC,KAAK;oBAAC;oBACP;wBAAC,KAAK;oBAAC;oBACP;wBAAC,KAAK;oBAAC;iBACV;YAAA;YACD,KAAK,IAAI,CAAC;gBAAC,KAAK;gBAAQ,QAAQ;gBAAY,QAAQ;oBAChD;wBAAC,KAAK;oBAAC;oBACP;wBAAC,KAAK;oBAAC;oBACP;wBAAC,KAAK;oBAAC;iBACV;YAAA;YACD,KAAK,IAAI,CAAC;gBAAC,KAAK;gBAAO,KAAK;gBAAG,KAAK;gBAAG,KAAK,IAAE;YAAK;YACnD,WAAW,IAAI,CACX,GAAG,WAAW,CAAC;QAGvB;QAEA,MAAM,SAAS,MAAM,QAAQ,GAAG,CAAC;QAEjC,IAAI;QACJ,IAAI,gBAAgB,yLAAS,EAAE;YAC3B,cAAc,IAAI,yLAAS,CAAC,UAAQ;QACxC,OAAO;YACH,cAAc,IAAI,WAAW,UAAQ;QACzC;QAEA,IAAI,IAAG;QACP,IAAK,IAAI,IAAE,OAAO,MAAM,GAAC,GAAG,KAAG,GAAG,IAAK;YACnC,YAAY,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC,EAAE,EAAE;YAC9B,KAAG,MAAM,CAAC,EAAE,CAAC,EAAE,CAAC,UAAU;QAC9B;QAEA,OAAO;IACX;AACJ","ignoreList":[0]}},
    {"offset": {"line": 11904, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/nisch/Desktop/Velocity-1/node_modules/r1csfile/node_modules/ffjavascript/src/engine.js"],"sourcesContent":["import WasmField1 from \"./wasm_field1.js\";\nimport WasmField2 from \"./wasm_field2.js\";\nimport WasmField3 from \"./wasm_field3.js\";\nimport WasmCurve from \"./wasm_curve.js\";\nimport buildThreadManager from \"./threadman.js\";\nimport * as Scalar from \"./scalar.js\";\nimport buildBatchApplyKey from \"./engine_applykey.js\";\nimport buildPairing from \"./engine_pairing.js\";\nimport buildMultiExp from \"./engine_multiexp.js\";\nimport buildFFT from \"./engine_fft.js\";\n\nexport default async function buildEngine(params) {\n\n    const tm = await buildThreadManager(params.wasm, params.singleThread);\n\n\n    const curve = {};\n\n    curve.q = Scalar.e(params.wasm.q.toString());\n    curve.r = Scalar.e(params.wasm.r.toString());\n    curve.name = params.name;\n    curve.tm = tm;\n    curve.prePSize = params.wasm.prePSize;\n    curve.preQSize = params.wasm.preQSize;\n    curve.Fr = new WasmField1(tm, \"frm\", params.n8r, params.r);\n    curve.F1 = new WasmField1(tm, \"f1m\", params.n8q, params.q);\n    curve.F2 = new WasmField2(tm, \"f2m\", curve.F1);\n    curve.G1 = new WasmCurve(tm, \"g1m\", curve.F1, params.wasm.pG1gen, params.wasm.pG1b, params.cofactorG1);\n    curve.G2 = new WasmCurve(tm, \"g2m\", curve.F2, params.wasm.pG2gen, params.wasm.pG2b, params.cofactorG2);\n    curve.F6 = new WasmField3(tm, \"f6m\", curve.F2);\n    curve.F12 = new WasmField2(tm, \"ftm\", curve.F6);\n\n    curve.Gt = curve.F12;\n\n    buildBatchApplyKey(curve, \"G1\");\n    buildBatchApplyKey(curve, \"G2\");\n    buildBatchApplyKey(curve, \"Fr\");\n\n    buildMultiExp(curve, \"G1\");\n    buildMultiExp(curve, \"G2\");\n\n    buildFFT(curve, \"G1\");\n    buildFFT(curve, \"G2\");\n    buildFFT(curve, \"Fr\");\n\n    buildPairing(curve);\n\n    curve.array2buffer = function(arr, sG) {\n        const buff = new Uint8Array(sG*arr.length);\n\n        for (let i=0; i<arr.length; i++) {\n            buff.set(arr[i], i*sG);\n        }\n\n        return buff;\n    };\n\n    curve.buffer2array = function(buff , sG) {\n        const n= buff.byteLength / sG;\n        const arr = new Array(n);\n        for (let i=0; i<n; i++) {\n            arr[i] = buff.slice(i*sG, i*sG+sG);\n        }\n        return arr;\n    };\n\n    return curve;\n}\n\n\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;AAEe,eAAe,YAAY,MAAM;IAE5C,MAAM,KAAK,MAAM,IAAA,yLAAkB,EAAC,OAAO,IAAI,EAAE,OAAO,YAAY;IAGpE,MAAM,QAAQ,CAAC;IAEf,MAAM,CAAC,GAAG,gLAAQ,CAAC,OAAO,IAAI,CAAC,CAAC,CAAC,QAAQ;IACzC,MAAM,CAAC,GAAG,gLAAQ,CAAC,OAAO,IAAI,CAAC,CAAC,CAAC,QAAQ;IACzC,MAAM,IAAI,GAAG,OAAO,IAAI;IACxB,MAAM,EAAE,GAAG;IACX,MAAM,QAAQ,GAAG,OAAO,IAAI,CAAC,QAAQ;IACrC,MAAM,QAAQ,GAAG,OAAO,IAAI,CAAC,QAAQ;IACrC,MAAM,EAAE,GAAG,IAAI,2LAAU,CAAC,IAAI,OAAO,OAAO,GAAG,EAAE,OAAO,CAAC;IACzD,MAAM,EAAE,GAAG,IAAI,2LAAU,CAAC,IAAI,OAAO,OAAO,GAAG,EAAE,OAAO,CAAC;IACzD,MAAM,EAAE,GAAG,IAAI,2LAAU,CAAC,IAAI,OAAO,MAAM,EAAE;IAC7C,MAAM,EAAE,GAAG,IAAI,0LAAS,CAAC,IAAI,OAAO,MAAM,EAAE,EAAE,OAAO,IAAI,CAAC,MAAM,EAAE,OAAO,IAAI,CAAC,IAAI,EAAE,OAAO,UAAU;IACrG,MAAM,EAAE,GAAG,IAAI,0LAAS,CAAC,IAAI,OAAO,MAAM,EAAE,EAAE,OAAO,IAAI,CAAC,MAAM,EAAE,OAAO,IAAI,CAAC,IAAI,EAAE,OAAO,UAAU;IACrG,MAAM,EAAE,GAAG,IAAI,2LAAU,CAAC,IAAI,OAAO,MAAM,EAAE;IAC7C,MAAM,GAAG,GAAG,IAAI,2LAAU,CAAC,IAAI,OAAO,MAAM,EAAE;IAE9C,MAAM,EAAE,GAAG,MAAM,GAAG;IAEpB,IAAA,+LAAkB,EAAC,OAAO;IAC1B,IAAA,+LAAkB,EAAC,OAAO;IAC1B,IAAA,+LAAkB,EAAC,OAAO;IAE1B,IAAA,+LAAa,EAAC,OAAO;IACrB,IAAA,+LAAa,EAAC,OAAO;IAErB,IAAA,0LAAQ,EAAC,OAAO;IAChB,IAAA,0LAAQ,EAAC,OAAO;IAChB,IAAA,0LAAQ,EAAC,OAAO;IAEhB,IAAA,8LAAY,EAAC;IAEb,MAAM,YAAY,GAAG,SAAS,GAAG,EAAE,EAAE;QACjC,MAAM,OAAO,IAAI,WAAW,KAAG,IAAI,MAAM;QAEzC,IAAK,IAAI,IAAE,GAAG,IAAE,IAAI,MAAM,EAAE,IAAK;YAC7B,KAAK,GAAG,CAAC,GAAG,CAAC,EAAE,EAAE,IAAE;QACvB;QAEA,OAAO;IACX;IAEA,MAAM,YAAY,GAAG,SAAS,IAAI,EAAG,EAAE;QACnC,MAAM,IAAG,KAAK,UAAU,GAAG;QAC3B,MAAM,MAAM,IAAI,MAAM;QACtB,IAAK,IAAI,IAAE,GAAG,IAAE,GAAG,IAAK;YACpB,GAAG,CAAC,EAAE,GAAG,KAAK,KAAK,CAAC,IAAE,IAAI,IAAE,KAAG;QACnC;QACA,OAAO;IACX;IAEA,OAAO;AACX","ignoreList":[0]}},
    {"offset": {"line": 11975, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/nisch/Desktop/Velocity-1/node_modules/r1csfile/node_modules/ffjavascript/src/bn128.js"],"sourcesContent":["import { buildBn128 as buildBn128wasm } from \"wasmcurves\";\nimport buildEngine from \"./engine.js\";\nimport * as Scalar from \"./scalar.js\";\nimport { ModuleBuilder } from \"wasmbuilder\";\n\nglobalThis.curve_bn128 = null;\n\nexport default async function buildBn128(singleThread, plugins) {\n    if ((!singleThread) && (globalThis.curve_bn128)) return globalThis.curve_bn128;\n\n    const moduleBuilder = new ModuleBuilder();\n    moduleBuilder.setMemory(25);\n    buildBn128wasm(moduleBuilder);\n\n    if (plugins) plugins(moduleBuilder);\n\n    const bn128wasm = {};\n\n    bn128wasm.code = moduleBuilder.build();\n    bn128wasm.pq = moduleBuilder.modules.f1m.pq;\n    bn128wasm.pr = moduleBuilder.modules.frm.pq;\n    bn128wasm.pG1gen = moduleBuilder.modules.bn128.pG1gen;\n    bn128wasm.pG1zero = moduleBuilder.modules.bn128.pG1zero;\n    bn128wasm.pG1b = moduleBuilder.modules.bn128.pG1b;\n    bn128wasm.pG2gen = moduleBuilder.modules.bn128.pG2gen;\n    bn128wasm.pG2zero = moduleBuilder.modules.bn128.pG2zero;\n    bn128wasm.pG2b = moduleBuilder.modules.bn128.pG2b;\n    bn128wasm.pOneT = moduleBuilder.modules.bn128.pOneT;\n    bn128wasm.prePSize = moduleBuilder.modules.bn128.prePSize;\n    bn128wasm.preQSize = moduleBuilder.modules.bn128.preQSize;\n    bn128wasm.n8q = 32;\n    bn128wasm.n8r = 32;\n    bn128wasm.q = moduleBuilder.modules.bn128.q;\n    bn128wasm.r = moduleBuilder.modules.bn128.r;\n\n    const params = {\n        name: \"bn128\",\n        wasm: bn128wasm,\n        q: Scalar.e(\"21888242871839275222246405745257275088696311157297823662689037894645226208583\"),\n        r: Scalar.e(\"21888242871839275222246405745257275088548364400416034343698204186575808495617\"),\n        n8q: 32,\n        n8r: 32,\n        cofactorG2: Scalar.e(\"30644e72e131a029b85045b68181585e06ceecda572a2489345f2299c0f9fa8d\", 16),\n        singleThread: singleThread ? true : false\n    };\n\n    const curve = await buildEngine(params);\n    curve.terminate = async function () {\n        if (!params.singleThread) {\n            globalThis.curve_bn128 = null;\n            await this.tm.terminate();\n        }\n    };\n\n    if (!singleThread) {\n        globalThis.curve_bn128 = curve;\n    }\n\n    return curve;\n}\n\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;AAAA;;;;;AAEA,WAAW,WAAW,GAAG;AAEV,eAAe,WAAW,YAAY,EAAE,OAAO;IAC1D,IAAI,AAAC,CAAC,gBAAkB,WAAW,WAAW,EAAG,OAAO,WAAW,WAAW;IAE9E,MAAM,gBAAgB,IAAI,sKAAa;IACvC,cAAc,SAAS,CAAC;IACxB,IAAA,mJAAc,EAAC;IAEf,IAAI,SAAS,QAAQ;IAErB,MAAM,YAAY,CAAC;IAEnB,UAAU,IAAI,GAAG,cAAc,KAAK;IACpC,UAAU,EAAE,GAAG,cAAc,OAAO,CAAC,GAAG,CAAC,EAAE;IAC3C,UAAU,EAAE,GAAG,cAAc,OAAO,CAAC,GAAG,CAAC,EAAE;IAC3C,UAAU,MAAM,GAAG,cAAc,OAAO,CAAC,KAAK,CAAC,MAAM;IACrD,UAAU,OAAO,GAAG,cAAc,OAAO,CAAC,KAAK,CAAC,OAAO;IACvD,UAAU,IAAI,GAAG,cAAc,OAAO,CAAC,KAAK,CAAC,IAAI;IACjD,UAAU,MAAM,GAAG,cAAc,OAAO,CAAC,KAAK,CAAC,MAAM;IACrD,UAAU,OAAO,GAAG,cAAc,OAAO,CAAC,KAAK,CAAC,OAAO;IACvD,UAAU,IAAI,GAAG,cAAc,OAAO,CAAC,KAAK,CAAC,IAAI;IACjD,UAAU,KAAK,GAAG,cAAc,OAAO,CAAC,KAAK,CAAC,KAAK;IACnD,UAAU,QAAQ,GAAG,cAAc,OAAO,CAAC,KAAK,CAAC,QAAQ;IACzD,UAAU,QAAQ,GAAG,cAAc,OAAO,CAAC,KAAK,CAAC,QAAQ;IACzD,UAAU,GAAG,GAAG;IAChB,UAAU,GAAG,GAAG;IAChB,UAAU,CAAC,GAAG,cAAc,OAAO,CAAC,KAAK,CAAC,CAAC;IAC3C,UAAU,CAAC,GAAG,cAAc,OAAO,CAAC,KAAK,CAAC,CAAC;IAE3C,MAAM,SAAS;QACX,MAAM;QACN,MAAM;QACN,GAAG,gLAAQ,CAAC;QACZ,GAAG,gLAAQ,CAAC;QACZ,KAAK;QACL,KAAK;QACL,YAAY,gLAAQ,CAAC,oEAAoE;QACzF,cAAc,eAAe,OAAO;IACxC;IAEA,MAAM,QAAQ,MAAM,IAAA,sLAAW,EAAC;IAChC,MAAM,SAAS,GAAG;QACd,IAAI,CAAC,OAAO,YAAY,EAAE;YACtB,WAAW,WAAW,GAAG;YACzB,MAAM,IAAI,CAAC,EAAE,CAAC,SAAS;QAC3B;IACJ;IAEA,IAAI,CAAC,cAAc;QACf,WAAW,WAAW,GAAG;IAC7B;IAEA,OAAO;AACX","ignoreList":[0]}},
    {"offset": {"line": 12038, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/nisch/Desktop/Velocity-1/node_modules/r1csfile/node_modules/ffjavascript/src/bls12381.js"],"sourcesContent":["import { buildBls12381 as buildBls12381wasm } from \"wasmcurves\";\nimport buildEngine from \"./engine.js\";\nimport * as Scalar from \"./scalar.js\";\nimport { ModuleBuilder } from \"wasmbuilder\";\n\nglobalThis.curve_bls12381 = null;\n\nexport default async function buildBls12381(singleThread, plugins) {\n    if ((!singleThread) && (globalThis.curve_bls12381)) return globalThis.curve_bls12381;\n\n    const moduleBuilder = new ModuleBuilder();\n    moduleBuilder.setMemory(25);\n    buildBls12381wasm(moduleBuilder);\n\n    if (plugins) plugins(moduleBuilder);\n\n    const bls12381wasm = {};\n\n    bls12381wasm.code = moduleBuilder.build();\n    bls12381wasm.pq = moduleBuilder.modules.f1m.pq;\n    bls12381wasm.pr = moduleBuilder.modules.frm.pq;\n    bls12381wasm.pG1gen = moduleBuilder.modules.bls12381.pG1gen;\n    bls12381wasm.pG1zero = moduleBuilder.modules.bls12381.pG1zero;\n    bls12381wasm.pG1b = moduleBuilder.modules.bls12381.pG1b;\n    bls12381wasm.pG2gen = moduleBuilder.modules.bls12381.pG2gen;\n    bls12381wasm.pG2zero = moduleBuilder.modules.bls12381.pG2zero;\n    bls12381wasm.pG2b = moduleBuilder.modules.bls12381.pG2b;\n    bls12381wasm.pOneT = moduleBuilder.modules.bls12381.pOneT;\n    bls12381wasm.prePSize = moduleBuilder.modules.bls12381.prePSize;\n    bls12381wasm.preQSize = moduleBuilder.modules.bls12381.preQSize;\n    bls12381wasm.n8q = 48;\n    bls12381wasm.n8r = 32;\n    bls12381wasm.q = moduleBuilder.modules.bls12381.q;\n    bls12381wasm.r = moduleBuilder.modules.bls12381.r;\n\n\n    const params = {\n        name: \"bls12381\",\n        wasm: bls12381wasm,\n        q: Scalar.e(\"1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaaab\", 16),\n        r: Scalar.e(\"73eda753299d7d483339d80809a1d80553bda402fffe5bfeffffffff00000001\", 16),\n        n8q: 48,\n        n8r: 32,\n        cofactorG1: Scalar.e(\"0x396c8c005555e1568c00aaab0000aaab\", 16),\n        cofactorG2: Scalar.e(\"0x5d543a95414e7f1091d50792876a202cd91de4547085abaa68a205b2e5a7ddfa628f1cb4d9e82ef21537e293a6691ae1616ec6e786f0c70cf1c38e31c7238e5\", 16),\n        singleThread: singleThread ? true : false\n    };\n\n    const curve = await buildEngine(params);\n    curve.terminate = async function () {\n        if (!params.singleThread) {\n            globalThis.curve_bls12381 = null;\n            await this.tm.terminate();\n        }\n    };\n\n    if (!singleThread) {\n        globalThis.curve_bls12381 = curve;\n    }\n\n    return curve;\n}\n\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;AAAA;;;;;AAEA,WAAW,cAAc,GAAG;AAEb,eAAe,cAAc,YAAY,EAAE,OAAO;IAC7D,IAAI,AAAC,CAAC,gBAAkB,WAAW,cAAc,EAAG,OAAO,WAAW,cAAc;IAEpF,MAAM,gBAAgB,IAAI,sKAAa;IACvC,cAAc,SAAS,CAAC;IACxB,IAAA,sJAAiB,EAAC;IAElB,IAAI,SAAS,QAAQ;IAErB,MAAM,eAAe,CAAC;IAEtB,aAAa,IAAI,GAAG,cAAc,KAAK;IACvC,aAAa,EAAE,GAAG,cAAc,OAAO,CAAC,GAAG,CAAC,EAAE;IAC9C,aAAa,EAAE,GAAG,cAAc,OAAO,CAAC,GAAG,CAAC,EAAE;IAC9C,aAAa,MAAM,GAAG,cAAc,OAAO,CAAC,QAAQ,CAAC,MAAM;IAC3D,aAAa,OAAO,GAAG,cAAc,OAAO,CAAC,QAAQ,CAAC,OAAO;IAC7D,aAAa,IAAI,GAAG,cAAc,OAAO,CAAC,QAAQ,CAAC,IAAI;IACvD,aAAa,MAAM,GAAG,cAAc,OAAO,CAAC,QAAQ,CAAC,MAAM;IAC3D,aAAa,OAAO,GAAG,cAAc,OAAO,CAAC,QAAQ,CAAC,OAAO;IAC7D,aAAa,IAAI,GAAG,cAAc,OAAO,CAAC,QAAQ,CAAC,IAAI;IACvD,aAAa,KAAK,GAAG,cAAc,OAAO,CAAC,QAAQ,CAAC,KAAK;IACzD,aAAa,QAAQ,GAAG,cAAc,OAAO,CAAC,QAAQ,CAAC,QAAQ;IAC/D,aAAa,QAAQ,GAAG,cAAc,OAAO,CAAC,QAAQ,CAAC,QAAQ;IAC/D,aAAa,GAAG,GAAG;IACnB,aAAa,GAAG,GAAG;IACnB,aAAa,CAAC,GAAG,cAAc,OAAO,CAAC,QAAQ,CAAC,CAAC;IACjD,aAAa,CAAC,GAAG,cAAc,OAAO,CAAC,QAAQ,CAAC,CAAC;IAGjD,MAAM,SAAS;QACX,MAAM;QACN,MAAM;QACN,GAAG,gLAAQ,CAAC,oGAAoG;QAChH,GAAG,gLAAQ,CAAC,oEAAoE;QAChF,KAAK;QACL,KAAK;QACL,YAAY,gLAAQ,CAAC,sCAAsC;QAC3D,YAAY,gLAAQ,CAAC,qIAAqI;QAC1J,cAAc,eAAe,OAAO;IACxC;IAEA,MAAM,QAAQ,MAAM,IAAA,sLAAW,EAAC;IAChC,MAAM,SAAS,GAAG;QACd,IAAI,CAAC,OAAO,YAAY,EAAE;YACtB,WAAW,cAAc,GAAG;YAC5B,MAAM,IAAI,CAAC,EAAE,CAAC,SAAS;QAC3B;IACJ;IAEA,IAAI,CAAC,cAAc;QACf,WAAW,cAAc,GAAG;IAChC;IAEA,OAAO;AACX","ignoreList":[0]}},
    {"offset": {"line": 12102, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/nisch/Desktop/Velocity-1/node_modules/r1csfile/node_modules/ffjavascript/src/curves.js"],"sourcesContent":["import * as Scalar from \"./scalar.js\";\nimport {default as buildBn128} from \"./bn128.js\";\nimport {default as buildBls12381} from \"./bls12381.js\";\n\nconst bls12381r = Scalar.e(\"73eda753299d7d483339d80809a1d80553bda402fffe5bfeffffffff00000001\", 16);\nconst bn128r = Scalar.e(\"21888242871839275222246405745257275088548364400416034343698204186575808495617\");\n\nconst bls12381q = Scalar.e(\"1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaaab\", 16);\nconst bn128q = Scalar.e(\"21888242871839275222246405745257275088696311157297823662689037894645226208583\");\n\nexport async function getCurveFromR(r, singleThread, plugins) {\n    let curve;\n    if (Scalar.eq(r, bn128r)) {\n        curve = await buildBn128(singleThread, plugins);\n    } else if (Scalar.eq(r, bls12381r)) {\n        curve = await buildBls12381(singleThread, plugins);\n    } else {\n        throw new Error(`Curve not supported: ${Scalar.toString(r)}`);\n    }\n    return curve;\n}\n\nexport async function getCurveFromQ(q, singleThread, plugins) {\n    let curve;\n    if (Scalar.eq(q, bn128q)) {\n        curve = await buildBn128(singleThread, plugins);\n    } else if (Scalar.eq(q, bls12381q)) {\n        curve = await buildBls12381(singleThread, plugins);\n    } else {\n        throw new Error(`Curve not supported: ${Scalar.toString(q, 16)}`);\n    }\n    return curve;\n}\n\nexport async function getCurveFromName(name, singleThread, plugins) {\n    let curve;\n    const normName = normalizeName(name);\n    if ([\"BN128\", \"BN254\", \"ALTBN128\"].indexOf(normName) >= 0) {\n        curve = await buildBn128(singleThread, plugins);\n    } else if ([\"BLS12381\"].indexOf(normName) >= 0) {\n        curve = await buildBls12381(singleThread, plugins);\n    } else {\n        throw new Error(`Curve not supported: ${name}`);\n    }\n    return curve;\n\n    function normalizeName(n) {\n        return n.toUpperCase().match(/[A-Za-z0-9]+/g).join(\"\");\n    }\n\n}\n"],"names":[],"mappings":";;;;;;;;AAAA;AACA;AACA;;;;AAEA,MAAM,YAAY,gLAAQ,CAAC,oEAAoE;AAC/F,MAAM,SAAS,gLAAQ,CAAC;AAExB,MAAM,YAAY,gLAAQ,CAAC,oGAAoG;AAC/H,MAAM,SAAS,gLAAQ,CAAC;AAEjB,eAAe,cAAc,CAAC,EAAE,YAAY,EAAE,OAAO;IACxD,IAAI;IACJ,IAAI,iLAAS,CAAC,GAAG,SAAS;QACtB,QAAQ,MAAM,IAAA,qLAAU,EAAC,cAAc;IAC3C,OAAO,IAAI,iLAAS,CAAC,GAAG,YAAY;QAChC,QAAQ,MAAM,IAAA,wLAAa,EAAC,cAAc;IAC9C,OAAO;QACH,MAAM,IAAI,MAAM,CAAC,qBAAqB,EAAE,uLAAe,CAAC,IAAI;IAChE;IACA,OAAO;AACX;AAEO,eAAe,cAAc,CAAC,EAAE,YAAY,EAAE,OAAO;IACxD,IAAI;IACJ,IAAI,iLAAS,CAAC,GAAG,SAAS;QACtB,QAAQ,MAAM,IAAA,qLAAU,EAAC,cAAc;IAC3C,OAAO,IAAI,iLAAS,CAAC,GAAG,YAAY;QAChC,QAAQ,MAAM,IAAA,wLAAa,EAAC,cAAc;IAC9C,OAAO;QACH,MAAM,IAAI,MAAM,CAAC,qBAAqB,EAAE,uLAAe,CAAC,GAAG,KAAK;IACpE;IACA,OAAO;AACX;AAEO,eAAe,iBAAiB,IAAI,EAAE,YAAY,EAAE,OAAO;IAC9D,IAAI;IACJ,MAAM,WAAW,cAAc;IAC/B,IAAI;QAAC;QAAS;QAAS;KAAW,CAAC,OAAO,CAAC,aAAa,GAAG;QACvD,QAAQ,MAAM,IAAA,qLAAU,EAAC,cAAc;IAC3C,OAAO,IAAI;QAAC;KAAW,CAAC,OAAO,CAAC,aAAa,GAAG;QAC5C,QAAQ,MAAM,IAAA,wLAAa,EAAC,cAAc;IAC9C,OAAO;QACH,MAAM,IAAI,MAAM,CAAC,qBAAqB,EAAE,MAAM;IAClD;IACA,OAAO;;;IAEP,SAAS,cAAc,CAAC;QACpB,OAAO,EAAE,WAAW,GAAG,KAAK,CAAC,iBAAiB,IAAI,CAAC;IACvD;AAEJ","ignoreList":[0]}},
    {"offset": {"line": 12169, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/nisch/Desktop/Velocity-1/node_modules/r1csfile/node_modules/ffjavascript/main.js"],"sourcesContent":["\nimport * as _Scalar  from \"./src/scalar.js\";\nexport const Scalar=_Scalar;\n\nexport {default as PolField} from \"./src/polfield.js\";\nexport {default as F1Field} from \"./src/f1field.js\";\nexport {default as F2Field} from \"./src/f2field.js\";\nexport {default as F3Field} from \"./src/f3field.js\";\n\nexport {default as ZqField} from \"./src/f1field.js\";\n\nexport {default as EC} from \"./src/ec.js\";\n\nexport {default as buildBn128} from \"./src/bn128.js\";\nexport {default as buildBls12381} from \"./src/bls12381.js\";\n\nimport * as _utils from \"./src/utils.js\";\nexport const utils = _utils;\nexport {default as ChaCha} from \"./src/chacha.js\";\n\nexport {default as BigBuffer} from \"./src/bigbuffer.js\";\n\nexport {getCurveFromR, getCurveFromQ, getCurveFromName} from \"./src/curves.js\";\n\n"],"names":[],"mappings":";;;;;;AACA;AAGA;AACA;AACA;AACA;AAIA;AAEA;AACA;AAEA;AAEA;AAEA;AAEA;;AApBO,MAAM,SAAO;;;;;;;;;;AAeb,MAAM,QAAQ","ignoreList":[0]}}]
}