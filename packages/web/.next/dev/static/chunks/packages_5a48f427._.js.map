{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/nisch/Desktop/Velocity-1/packages/sdk/src/index.ts"],"sourcesContent":["import { Contract, JsonRpcProvider } from \"ethers\";\n\nexport type VerifyResult = { verificationToken: string; verified: boolean };\nexport type MintResult = {\n  ok: boolean;\n  txHash?: string;\n  tokenId?: string | null;\n  encryptedURI?: string;\n  metadataHash?: string;\n  error?: string;\n};\n\nconst INFT_ABI = [\n  \"function ownerToTokenId(address owner) view returns (uint256)\",\n  \"function getEncryptedURI(uint256 tokenId) view returns (string)\",\n  \"function getMetadataHash(uint256 tokenId) view returns (bytes32)\",\n  \"function authorizeUsage(uint256 tokenId, address executor, bool allowed)\"\n] as const;\n\nexport function verifyHuman(passed: boolean): VerifyResult {\n  return {\n    verified: passed,\n    verificationToken: passed ? `verified-${Date.now()}` : \"unverified\"\n  };\n}\n\nexport async function mintAgent(baseUrl: string, wallet: string): Promise<MintResult> {\n  const res = await fetch(`${baseUrl}/api/mint`, {\n    method: \"POST\",\n    headers: { \"Content-Type\": \"application/json\" },\n    body: JSON.stringify({ to_address: wallet, verificationPassed: true })\n  });\n  return (await res.json()) as MintResult;\n}\n\nexport async function checkAgentStatus(\n  rpcUrl: string,\n  inftAddress: string,\n  wallet: string\n): Promise<{\n  tokenId: string;\n  encryptedURI: string;\n  metadataHash: string;\n}> {\n  const provider = new JsonRpcProvider(rpcUrl);\n  const contract = new Contract(inftAddress, INFT_ABI, provider);\n  const tokenId = await contract.ownerToTokenId(wallet);\n  if (tokenId === 0n) {\n    throw new Error(\"No agent for wallet\");\n  }\n  const [encryptedURI, metadataHash] = await Promise.all([\n    contract.getEncryptedURI(tokenId),\n    contract.getMetadataHash(tokenId)\n  ]);\n  return {\n    tokenId: tokenId.toString(),\n    encryptedURI: String(encryptedURI),\n    metadataHash: String(metadataHash)\n  };\n}\n\nexport async function authorizeAction(\n  contract: Contract,\n  tokenId: bigint,\n  executor: string\n): Promise<string> {\n  const tx = await contract.authorizeUsage(tokenId, executor, true);\n  const receipt = await tx.wait();\n  return receipt?.hash ?? \"\";\n}\n"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;;AAYA,MAAM,WAAW;IACf;IACA;IACA;IACA;CACD;AAEM,SAAS,YAAY,MAAe;IACzC,OAAO;QACL,UAAU;QACV,mBAAmB,SAAS,CAAC,SAAS,EAAE,KAAK,GAAG,IAAI,GAAG;IACzD;AACF;AAEO,eAAe,UAAU,OAAe,EAAE,MAAc;IAC7D,MAAM,MAAM,MAAM,MAAM,GAAG,QAAQ,SAAS,CAAC,EAAE;QAC7C,QAAQ;QACR,SAAS;YAAE,gBAAgB;QAAmB;QAC9C,MAAM,KAAK,SAAS,CAAC;YAAE,YAAY;YAAQ,oBAAoB;QAAK;IACtE;IACA,OAAQ,MAAM,IAAI,IAAI;AACxB;AAEO,eAAe,iBACpB,MAAc,EACd,WAAmB,EACnB,MAAc;IAMd,MAAM,WAAW,IAAI,8LAAe,CAAC;IACrC,MAAM,WAAW,IAAI,2KAAQ,CAAC,aAAa,UAAU;IACrD,MAAM,UAAU,MAAM,SAAS,cAAc,CAAC;IAC9C,IAAI,YAAY,EAAE,EAAE;QAClB,MAAM,IAAI,MAAM;IAClB;IACA,MAAM,CAAC,cAAc,aAAa,GAAG,MAAM,QAAQ,GAAG,CAAC;QACrD,SAAS,eAAe,CAAC;QACzB,SAAS,eAAe,CAAC;KAC1B;IACD,OAAO;QACL,SAAS,QAAQ,QAAQ;QACzB,cAAc,OAAO;QACrB,cAAc,OAAO;IACvB;AACF;AAEO,eAAe,gBACpB,QAAkB,EAClB,OAAe,EACf,QAAgB;IAEhB,MAAM,KAAK,MAAM,SAAS,cAAc,CAAC,SAAS,UAAU;IAC5D,MAAM,UAAU,MAAM,GAAG,IAAI;IAC7B,OAAO,SAAS,QAAQ;AAC1B"}},
    {"offset": {"line": 71, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/nisch/Desktop/Velocity-1/packages/web/components/VerificationWidget.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\n\nimport { verifyHuman } from \"@ogtrust/sdk\";\n\ntype Props = {\n  wallet: string;\n  onWalletChange: (value: string) => void;\n  onVerified: (token: string) => void;\n};\n\nexport function VerificationWidget({ wallet, onWalletChange, onVerified }: Props) {\n  const [demoPass, setDemoPass] = useState(false);\n  const [status, setStatus] = useState<\"idle\" | \"verified\" | \"failed\">(\"idle\");\n\n  const runVerification = () => {\n    const result = verifyHuman(demoPass);\n    if (!result.verified) {\n      setStatus(\"failed\");\n      return;\n    }\n    const token = result.verificationToken;\n    setStatus(\"verified\");\n    onVerified(token);\n  };\n\n  return (\n    <div className=\"glass rounded-2xl p-5\">\n      <h3 className=\"text-lg font-semibold\">Human Verification</h3>\n      <p className=\"mt-1 text-sm text-white/60\">Interaction data never leaves your device.</p>\n      <label className=\"mt-4 block text-sm text-white/80\">\n        Wallet address\n        <input\n          value={wallet}\n          onChange={(e) => onWalletChange(e.target.value)}\n          className=\"mt-2 w-full rounded-lg border border-white/20 bg-black/20 px-3 py-2 text-sm outline-none\"\n          placeholder=\"0x...\"\n        />\n      </label>\n      <label className=\"mt-3 flex items-center gap-2 text-sm text-white/80\">\n        <input type=\"checkbox\" checked={demoPass} onChange={(e) => setDemoPass(e.target.checked)} />\n        Demo verification pass\n      </label>\n      <button\n        type=\"button\"\n        onClick={runVerification}\n        className=\"mt-4 rounded-lg bg-indigo-500 px-4 py-2 text-sm font-semibold\"\n      >\n        Verify Access\n      </button>\n      <p className=\"mt-3 text-sm\">\n        Status:{\" \"}\n        <span className={status === \"verified\" ? \"text-emerald-300\" : status === \"failed\" ? \"text-rose-300\" : \"text-white/70\"}>\n          {status === \"idle\" ? \"Not Verified\" : status === \"verified\" ? \"Verified\" : \"Not Verified\"}\n        </span>\n      </p>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAEA;;;AAJA;;;AAYO,SAAS,mBAAmB,EAAE,MAAM,EAAE,cAAc,EAAE,UAAU,EAAS;;IAC9E,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAC;IACzC,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,yKAAQ,EAAiC;IAErE,MAAM,kBAAkB;QACtB,MAAM,SAAS,IAAA,iJAAW,EAAC;QAC3B,IAAI,CAAC,OAAO,QAAQ,EAAE;YACpB,UAAU;YACV;QACF;QACA,MAAM,QAAQ,OAAO,iBAAiB;QACtC,UAAU;QACV,WAAW;IACb;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAG,WAAU;0BAAwB;;;;;;0BACtC,6LAAC;gBAAE,WAAU;0BAA6B;;;;;;0BAC1C,6LAAC;gBAAM,WAAU;;oBAAmC;kCAElD,6LAAC;wBACC,OAAO;wBACP,UAAU,CAAC,IAAM,eAAe,EAAE,MAAM,CAAC,KAAK;wBAC9C,WAAU;wBACV,aAAY;;;;;;;;;;;;0BAGhB,6LAAC;gBAAM,WAAU;;kCACf,6LAAC;wBAAM,MAAK;wBAAW,SAAS;wBAAU,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,OAAO;;;;;;oBAAK;;;;;;;0BAG9F,6LAAC;gBACC,MAAK;gBACL,SAAS;gBACT,WAAU;0BACX;;;;;;0BAGD,6LAAC;gBAAE,WAAU;;oBAAe;oBAClB;kCACR,6LAAC;wBAAK,WAAW,WAAW,aAAa,qBAAqB,WAAW,WAAW,kBAAkB;kCACnG,WAAW,SAAS,iBAAiB,WAAW,aAAa,aAAa;;;;;;;;;;;;;;;;;;AAKrF;GA/CgB;KAAA"}},
    {"offset": {"line": 202, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/nisch/Desktop/Velocity-1/packages/web/app/faucet/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useMemo, useState } from \"react\";\n\nimport { VerificationWidget } from \"@/components/VerificationWidget\";\n\ntype MintResponse = {\n  ok: boolean;\n  tokenId?: string;\n  txHash?: string;\n  encryptedURI?: string;\n  metadataHash?: string;\n  error?: string;\n};\n\ntype ClaimResponse = {\n  ok: boolean;\n  txHash?: string;\n  cooldownRemainingSec?: number;\n  error?: string;\n};\n\ntype AgentStatus = {\n  ok: boolean;\n  tokenId?: string;\n  verified?: boolean;\n  encryptedURI?: string;\n  cooldownRemainingSec?: number;\n  error?: string;\n};\n\nexport default function FaucetPage() {\n  const [wallet, setWallet] = useState(\"\");\n  const [verificationToken, setVerificationToken] = useState<string | null>(null);\n  const [mint, setMint] = useState<MintResponse | null>(null);\n  const [claim, setClaim] = useState<ClaimResponse | null>(null);\n  const [status, setStatus] = useState<AgentStatus | null>(null);\n\n  const canMint = Boolean(verificationToken && wallet);\n  const canClaim = Boolean(status?.ok && status?.verified);\n\n  const refreshStatus = async () => {\n    if (!wallet) return;\n    const res = await fetch(`/api/agent-status?wallet=${encodeURIComponent(wallet)}`);\n    setStatus((await res.json()) as AgentStatus);\n  };\n\n  const doMint = async () => {\n    const res = await fetch(\"/api/mint\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({\n        to_address: wallet,\n        verificationPassed: Boolean(verificationToken)\n      })\n    });\n    const data = (await res.json()) as MintResponse;\n    setMint(data);\n    await refreshStatus();\n  };\n\n  const doClaim = async () => {\n    const res = await fetch(\"/api/claim\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({ wallet, to: wallet })\n    });\n    const data = (await res.json()) as ClaimResponse;\n    setClaim(data);\n    await refreshStatus();\n  };\n\n  const cooldownLabel = useMemo(() => `${status?.cooldownRemainingSec ?? 0}s`, [status?.cooldownRemainingSec]);\n\n  return (\n    <div className=\"space-y-6\">\n      <section className=\"glass rounded-3xl p-7\">\n        <h1 className=\"text-3xl font-semibold\">Faucet Demo</h1>\n        <p className=\"mt-2 text-white/70\">\n          Verify access, mint a Human Agent iNFT, and claim via policy-controlled onchain action.\n        </p>\n      </section>\n\n      <section className=\"grid gap-6 xl:grid-cols-[1.15fr_0.85fr]\">\n        <div className=\"space-y-6\">\n          <VerificationWidget wallet={wallet} onWalletChange={setWallet} onVerified={setVerificationToken} />\n\n          <div className=\"glass rounded-2xl p-5\">\n            <h3 className=\"text-lg font-semibold\">Mint Human Agent iNFT</h3>\n            <button\n              type=\"button\"\n              disabled={!canMint}\n              onClick={doMint}\n              className=\"mt-4 rounded-xl bg-indigo-500 px-5 py-3 text-sm font-semibold disabled:opacity-50\"\n            >\n              Mint Human Agent iNFT\n            </button>\n            {mint?.ok && (\n              <div className=\"mt-4 space-y-1 text-sm text-emerald-200\">\n                <p>Token ID: {mint.tokenId}</p>\n                <p>Transaction: {mint.txHash}</p>\n                <p>Status: Agent Active</p>\n              </div>\n            )}\n            {mint && !mint.ok && <p className=\"mt-3 text-sm text-rose-300\">Error: {mint.error}</p>}\n          </div>\n\n          <div className=\"glass rounded-2xl p-5\">\n            <h3 className=\"text-lg font-semibold\">Faucet Claim</h3>\n            <button\n              type=\"button\"\n              disabled={!canClaim}\n              onClick={doClaim}\n              className=\"mt-4 rounded-xl bg-emerald-500 px-5 py-3 text-sm font-semibold disabled:opacity-50\"\n            >\n              Claim Faucet\n            </button>\n            {claim?.ok && <p className=\"mt-3 text-sm text-emerald-200\">Claim submitted: {claim.txHash}</p>}\n            {claim && !claim.ok && <p className=\"mt-3 text-sm text-rose-300\">Error: {claim.error}</p>}\n          </div>\n        </div>\n\n        <aside className=\"space-y-6\">\n          <div className=\"glass rounded-2xl p-5\">\n            <div className=\"flex items-center justify-between\">\n              <h3 className=\"text-lg font-semibold\">Agent Status Panel</h3>\n              <button className=\"text-xs text-indigo-300 underline\" onClick={refreshStatus}>\n                Refresh\n              </button>\n            </div>\n            {!status && <p className=\"mt-3 text-sm text-white/60\">No status loaded.</p>}\n            {status?.ok && (\n              <div className=\"mt-3 space-y-2 text-sm\">\n                <p>Agent Token ID: {status.tokenId}</p>\n                <p>Verified: {status.verified ? \"Yes\" : \"No\"}</p>\n                <p>Expires: metadata policy</p>\n                <p>Cooldown remaining: {cooldownLabel}</p>\n                <p className=\"break-all\">Encrypted Metadata URI: {status.encryptedURI}</p>\n              </div>\n            )}\n            {status && !status.ok && <p className=\"mt-3 text-sm text-rose-300\">{status.error}</p>}\n          </div>\n\n          <div className=\"glass rounded-2xl p-5 text-sm text-white/75\">\n            This faucet uses a privacy-preserving verification agent stored as an encrypted iNFT on 0G.\n          </div>\n        </aside>\n      </section>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}