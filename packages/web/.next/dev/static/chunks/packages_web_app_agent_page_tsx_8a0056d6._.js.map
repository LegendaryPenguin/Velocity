{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/nisch/Desktop/Velocity-1/packages/web/app/agent/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useMemo, useState } from \"react\";\n\nfunction isValidAddress(value: string): boolean {\n  return /^0x[a-fA-F0-9]{40}$/.test(value.trim());\n}\n\ntype AgentStatus = {\n  ok: boolean;\n  tokenId?: string;\n  verified?: boolean;\n  encryptedURI?: string;\n  metadataHash?: string;\n  cooldownRemainingSec?: number;\n  error?: string;\n};\n\nexport default function AgentPage() {\n  const [wallet, setWallet] = useState(\"\");\n  const [status, setStatus] = useState<AgentStatus | null>(null);\n\n  const validWallet = useMemo(() => isValidAddress(wallet), [wallet]);\n\n  const loadStatus = async () => {\n    if (!validWallet) return;\n    const res = await fetch(`/api/agent-status?wallet=${encodeURIComponent(wallet.trim())}`);\n    const data = (await res.json()) as AgentStatus;\n    setStatus(data);\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      <section className=\"glass rounded-2xl p-6\">\n        <h1 className=\"text-2xl font-semibold\">Agent Console</h1>\n        <p className=\"mt-1 text-sm text-white/65\">View token identity, status, expiry context and action controls.</p>\n        <div className=\"mt-4 flex flex-wrap gap-3\">\n          <input\n            placeholder=\"Wallet 0x...\"\n            value={wallet}\n            onChange={(e) => setWallet(e.target.value)}\n            className=\"min-w-[320px] flex-1 rounded-lg border border-white/20 bg-black/20 px-3 py-2 text-sm\"\n          />\n          <button\n            onClick={loadStatus}\n            disabled={!validWallet}\n            className=\"rounded-lg bg-indigo-500 px-4 py-2 text-sm font-semibold disabled:cursor-not-allowed disabled:opacity-50\"\n          >\n            Refresh Status\n          </button>\n        </div>\n      </section>\n\n      <section className=\"glass rounded-2xl p-6 text-sm\">\n        {!status && <p className=\"text-white/60\">No agent status loaded yet.</p>}\n        {status?.ok && (\n          <div className=\"space-y-2\">\n            <p>Token ID: {status.tokenId}</p>\n            <p>Status: {status.verified ? \"Agent Active\" : \"Not Verified\"}</p>\n            <p>Expires: policy-driven (from metadata payload)</p>\n            <p>Encrypted URI: {status.encryptedURI}</p>\n            <p>Metadata Hash: {status.metadataHash}</p>\n            <p>Cooldown remaining: {status.cooldownRemainingSec}s</p>\n          </div>\n        )}\n        {status && !status.ok && <p className=\"text-rose-300\">Error: {status.error}</p>}\n      </section>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;;;AAFA;;AAIA,SAAS,eAAe,KAAa;IACnC,OAAO,sBAAsB,IAAI,CAAC,MAAM,IAAI;AAC9C;AAYe,SAAS;;IACtB,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,yKAAQ,EAAC;IACrC,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,yKAAQ,EAAqB;IAEzD,MAAM,cAAc,IAAA,wKAAO;0CAAC,IAAM,eAAe;yCAAS;QAAC;KAAO;IAElE,MAAM,aAAa;QACjB,IAAI,CAAC,aAAa;QAClB,MAAM,MAAM,MAAM,MAAM,CAAC,yBAAyB,EAAE,mBAAmB,OAAO,IAAI,KAAK;QACvF,MAAM,OAAQ,MAAM,IAAI,IAAI;QAC5B,UAAU;IACZ;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAQ,WAAU;;kCACjB,6LAAC;wBAAG,WAAU;kCAAyB;;;;;;kCACvC,6LAAC;wBAAE,WAAU;kCAA6B;;;;;;kCAC1C,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCACC,aAAY;gCACZ,OAAO;gCACP,UAAU,CAAC,IAAM,UAAU,EAAE,MAAM,CAAC,KAAK;gCACzC,WAAU;;;;;;0CAEZ,6LAAC;gCACC,SAAS;gCACT,UAAU,CAAC;gCACX,WAAU;0CACX;;;;;;;;;;;;;;;;;;0BAML,6LAAC;gBAAQ,WAAU;;oBAChB,CAAC,wBAAU,6LAAC;wBAAE,WAAU;kCAAgB;;;;;;oBACxC,QAAQ,oBACP,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;;oCAAE;oCAAW,OAAO,OAAO;;;;;;;0CAC5B,6LAAC;;oCAAE;oCAAS,OAAO,QAAQ,GAAG,iBAAiB;;;;;;;0CAC/C,6LAAC;0CAAE;;;;;;0CACH,6LAAC;;oCAAE;oCAAgB,OAAO,YAAY;;;;;;;0CACtC,6LAAC;;oCAAE;oCAAgB,OAAO,YAAY;;;;;;;0CACtC,6LAAC;;oCAAE;oCAAqB,OAAO,oBAAoB;oCAAC;;;;;;;;;;;;;oBAGvD,UAAU,CAAC,OAAO,EAAE,kBAAI,6LAAC;wBAAE,WAAU;;4BAAgB;4BAAQ,OAAO,KAAK;;;;;;;;;;;;;;;;;;;AAIlF;GAnDwB;KAAA"}}]
}