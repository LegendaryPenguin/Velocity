# zkProofGeneratorTest

This folder contains the setup to **generate a zk-proof** for the hackathon CAPTCHA circuit. It is a self-contained POC showing how private inputs can be turned into a proof whose output can be verified without exposing the secret.

---

## Prerequisites

1. **Node.js** v22+  
2. **snarkjs** installed globally or in the project:  
   ```bash
   npm install -g snarkjs

3. Circom 2.x Windows binary (or Linux/macOS equivalent)

Download from: https://github.com/iden3/circom/releases

Rename the file to circom.exe and add its folder to your PATH.

lowkenuinely need to install it off github get the exe and then put it alone in a folder and make the path that folder with a powershell command

Verify:

circom --version

Should return 2.x.x.

Folder Contents

captcha.circom — The circuit template (trivial POC, outputs isHuman = 1)

input.json — Example private input (secret) for witness generation

captcha_js/ — Generated by Circom, contains generate_witness.js and wasm

pot12_final.ptau — Trusted setup file for Groth16

captcha_final.zkey — Proving key

proof.json — Generated zk-proof

publicSignals.json — Public output of the circuit


Workflow
1. Compile the circuit
circom captcha.circom --r1cs --wasm --sym

Generates:

captcha.r1cs — circuit definition

captcha_js/captcha.wasm — witness calculator

captcha.sym — symbol info

2. Setup trusted parameters
snarkjs powersoftau new bn128 12 pot12_0000.ptau -v
snarkjs powersoftau contribute pot12_0000.ptau pot12_0001.ptau --name="wolfie" -v
snarkjs powersoftau prepare phase2 pot12_0001.ptau pot12_final.ptau -v

Produces pot12_final.ptau ready for Groth16 setup.

3. Generate proving and verification keys
snarkjs groth16 setup captcha.r1cs pot12_final.ptau captcha_0000.zkey
snarkjs zkey contribute captcha_0000.zkey captcha_final.zkey --name="hackathon" -v
snarkjs zkey export verificationkey captcha_final.zkey verification_key.json

captcha_final.zkey → proving key

verification_key.json → validator uses this

4. Generate witness
node captcha_js/generate_witness.js captcha_js/captcha.wasm input.json witness.wtns
5. Generate the zk-proof
snarkjs groth16 prove captcha_final.zkey witness.wtns proof.json publicSignals.json

proof.json → zk-proof object

publicSignals.json → public outputs (["1"])

6. Test in validator

Copy the proof files to the validator folder:


Run:

cd ..\zkProofValidator
node test.js

Expected output:

Verification result: true

Notes

input.json contains private data. Only publicSignals.json is exposed.

This is a POC for hackathon purposes; the circuit always outputs 1.

Changing publicSignals.json to ["0"] demonstrates failure verification.

